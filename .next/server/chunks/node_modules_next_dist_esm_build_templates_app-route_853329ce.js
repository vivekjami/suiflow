module.exports=[51236,e=>{"use strict";var t=e.i(47909),a=e.i(74017),o=e.i(96250),n=e.i(59756),r=e.i(61916),i=e.i(74677),s=e.i(69741),d=e.i(16795),l=e.i(87718),c=e.i(95169),u=e.i(47587),f=e.i(66012),p=e.i(70101),b=e.i(26937),m=e.i(10372),y=e.i(93695);e.i(52474);var k=e.i(220),h=e.i(89171);async function S(e="mainnet"){if("testnet"===e)return v().map(e=>({...e,network:"testnet"}));try{let e=await fetch("https://api-sui.cetus.zone/v2/sui/pools",{headers:{"Content-Type":"application/json"},next:{revalidate:30}});if(!e.ok)return console.error("Cetus API error:",e.status),v().map(e=>({...e,network:"mainnet"}));let t=await e.json();if(!t.data||!Array.isArray(t.data))return v().map(e=>({...e,network:"mainnet"}));return t.data.slice(0,50).map(e=>({dex:"Cetus",address:e.pool_address,tokenA:e.coin_type_a,tokenB:e.coin_type_b,tokenASymbol:e.coin_a_symbol||x(e.coin_type_a),tokenBSymbol:e.coin_b_symbol||x(e.coin_type_b),liquidity:parseFloat(e.liquidity)||0,fee:e.fee_rate/1e4,volume24h:parseFloat(e.volume_24h)||0,price:function(e){try{let t=parseFloat(e)/0xffffffffffffffff;return t*t}catch{return 1}}(e.current_sqrt_price),network:"mainnet"}))}catch(e){return console.error("Failed to fetch Cetus pools:",e),v().map(e=>({...e,network:"mainnet"}))}}function x(e){let t=e.split("::");return t[t.length-1]?.toUpperCase()||"UNKNOWN"}function v(){return[{dex:"Cetus",address:"0xcf994611fd4c48e277ce3ffd4d4364c914af2c3cbb05f7bf6facd371de688630",tokenA:"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN",tokenB:"0x2::sui::SUI",tokenASymbol:"USDC",tokenBSymbol:"SUI",liquidity:25e5,fee:.003,volume24h:45e4,price:.85},{dex:"Cetus",address:"0x2e041f3fd93646dcc877f783c1f2b7fa62d30271bdef1f21f001ace39ea55298",tokenA:"0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::coin::COIN",tokenB:"0x2::sui::SUI",tokenASymbol:"USDT",tokenBSymbol:"SUI",liquidity:18e5,fee:.003,volume24h:32e4,price:.84},{dex:"Cetus",address:"0x5af4976b871fa9a5ce6b0a3f3e9a8e4b2fcb7d5e8c1a3b6d9e2f4a7c0b3d6e9f",tokenA:"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN",tokenB:"0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::coin::COIN",tokenASymbol:"USDC",tokenBSymbol:"USDT",liquidity:32e5,fee:5e-4,volume24h:89e4,price:1},{dex:"Cetus",address:"0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b",tokenA:"0xaf8cd5edc19c4512f4259f0bee101a40d41ebed738ade5874359610ef8eeced5::coin::COIN",tokenB:"0x2::sui::SUI",tokenASymbol:"WETH",tokenBSymbol:"SUI",liquidity:95e4,fee:.003,volume24h:18e4,price:2450}]}async function A(e="mainnet"){if("testnet"===e)return C().map(e=>({...e,network:"testnet"}));try{let e=await fetch("https://api.turbos.finance/pools",{headers:{"Content-Type":"application/json"},next:{revalidate:30}});if(!e.ok)return console.error("Turbos API error:",e.status),C().map(e=>({...e,network:"mainnet"}));let t=await e.json();if(!t.pools||!Array.isArray(t.pools))return C().map(e=>({...e,network:"mainnet"}));return t.pools.slice(0,50).map(e=>({dex:"Turbos",address:e.address,tokenA:e.token0.address,tokenB:e.token1.address,tokenASymbol:e.token0.symbol,tokenBSymbol:e.token1.symbol,liquidity:parseFloat(e.tvl)||0,fee:e.fee/1e4,volume24h:parseFloat(e.volume24h)||0,price:parseFloat(e.price)||1,network:"mainnet"}))}catch(e){return console.error("Failed to fetch Turbos pools:",e),C().map(e=>({...e,network:"mainnet"}))}}function C(){return[{dex:"Turbos",address:"0xturb0s1234567890abcdef1234567890abcdef1234567890abcdef1234567890",tokenA:"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN",tokenB:"0x2::sui::SUI",tokenASymbol:"USDC",tokenBSymbol:"SUI",liquidity:19e5,fee:.0025,volume24h:38e4,price:.86},{dex:"Turbos",address:"0xturb0s2234567890abcdef1234567890abcdef1234567890abcdef1234567890",tokenA:"0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::coin::COIN",tokenB:"0x2::sui::SUI",tokenASymbol:"USDT",tokenBSymbol:"SUI",liquidity:16e5,fee:.0025,volume24h:29e4,price:.85},{dex:"Turbos",address:"0xturb0s3234567890abcdef1234567890abcdef1234567890abcdef1234567890",tokenA:"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN",tokenB:"0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::coin::COIN",tokenASymbol:"USDC",tokenBSymbol:"USDT",liquidity:28e5,fee:5e-4,volume24h:75e4,price:.9998},{dex:"Turbos",address:"0xturb0s4234567890abcdef1234567890abcdef1234567890abcdef1234567890",tokenA:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",tokenB:"0x2::sui::SUI",tokenASymbol:"CETUS",tokenBSymbol:"SUI",liquidity:65e4,fee:.003,volume24h:12e4,price:.12}]}async function w(e="mainnet"){if("testnet"===e)return R().map(e=>({...e,network:"testnet"}));let t=`
    query GetPools {
      pools {
        address
        token0 { symbol, address }
        token1 { symbol, address }
        tvl
        fee
        volume24h
        price
      }
    }
  `;try{let e=await fetch("https://api.kriya.finance/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t}),next:{revalidate:30}});if(!e.ok)return console.error("Kriya API error:",e.status),R().map(e=>({...e,network:"mainnet"}));let{data:a}=await e.json();if(!a?.pools||!Array.isArray(a.pools))return R().map(e=>({...e,network:"mainnet"}));return a.pools.slice(0,50).map(e=>({dex:"Kriya",address:e.address,tokenA:e.token0.address,tokenB:e.token1.address,tokenASymbol:e.token0.symbol,tokenBSymbol:e.token1.symbol,liquidity:e.tvl||0,fee:e.fee/1e4,volume24h:e.volume24h||0,price:e.price||1,network:"mainnet"}))}catch(e){return console.error("Failed to fetch Kriya pools:",e),R().map(e=>({...e,network:"mainnet"}))}}function R(){return[{dex:"Kriya",address:"0xkriya1234567890abcdef1234567890abcdef1234567890abcdef1234567890ab",tokenA:"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN",tokenB:"0x2::sui::SUI",tokenASymbol:"USDC",tokenBSymbol:"SUI",liquidity:12e5,fee:.002,volume24h:22e4,price:.855},{dex:"Kriya",address:"0xkriya2234567890abcdef1234567890abcdef1234567890abcdef1234567890ab",tokenA:"0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::coin::COIN",tokenB:"0x2::sui::SUI",tokenASymbol:"USDT",tokenBSymbol:"SUI",liquidity:98e4,fee:.002,volume24h:18e4,price:.845},{dex:"Kriya",address:"0xkriya3234567890abcdef1234567890abcdef1234567890abcdef1234567890ab",tokenA:"0xaf8cd5edc19c4512f4259f0bee101a40d41ebed738ade5874359610ef8eeced5::coin::COIN",tokenB:"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN",tokenASymbol:"WETH",tokenBSymbol:"USDC",liquidity:72e4,fee:.003,volume24h:95e3,price:2380}]}async function g(e){let{searchParams:t}=new URL(e.url),a=t.get("tokenA"),o=t.get("tokenB"),n=t.get("network")||"mainnet";try{let[e,t,r]=await Promise.all([S(n),A(n),w(n)]),i=[...e,...t,...r];return a&&o&&(i=i.filter(e=>e.tokenASymbol===a&&e.tokenBSymbol===o||e.tokenASymbol===o&&e.tokenBSymbol===a||e.tokenASymbol===a||e.tokenBSymbol===a||e.tokenASymbol===o||e.tokenBSymbol===o)),i.sort((e,t)=>t.liquidity-e.liquidity),h.NextResponse.json({pools:i,count:i.length,sources:{cetus:e.length,turbos:t.length,kriya:r.length},timestamp:Date.now()})}catch(e){return console.error("Failed to fetch pools:",e),h.NextResponse.json({error:"Failed to fetch pools",details:String(e)},{status:500})}}e.s(["GET",()=>g,"dynamic",0,"force-dynamic","revalidate",0,30],11270);var U=e.i(11270);let I=new t.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/pools/route",pathname:"/api/pools",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/pools/route.ts",nextConfigOutput:"",userland:U}),{workAsyncStorage:E,workUnitAsyncStorage:T,serverHooks:N}=I;function B(){return(0,o.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:T})}async function O(e,t,o){I.isDev&&(0,n.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let h="/api/pools/route";h=h.replace(/\/index$/,"")||"/";let S=await I.prepare(e,t,{srcPage:h,multiZoneDraftMode:!1});if(!S)return t.statusCode=400,t.end("Bad Request"),null==o.waitUntil||o.waitUntil.call(o,Promise.resolve()),null;let{buildId:x,params:v,nextConfig:A,parsedUrl:C,isDraftMode:w,prerenderManifest:R,routerServerContext:g,isOnDemandRevalidate:U,revalidateOnlyGenerated:E,resolvedPathname:T,clientReferenceManifest:N,serverActionsManifest:B}=S,O=(0,s.normalizeAppPath)(h),_=!!(R.dynamicRoutes[O]||R.routes[T]),q=async()=>((null==g?void 0:g.render404)?await g.render404(e,t,C,!1):t.end("This page could not be found"),null);if(_&&!w){let e=!!R.routes[T],t=R.dynamicRoutes[O];if(t&&!1===t.fallback&&!e){if(A.experimental.adapterPath)return await q();throw new y.NoFallbackError}}let P=null;!_||I.isDev||w||(P="/index"===(P=T)?"/":P);let D=!0===I.isDev||!_,F=_&&!D;B&&N&&(0,i.setManifestsSingleton)({page:h,clientReferenceManifest:N,serverActionsManifest:B});let H=e.method||"GET",j=(0,r.getTracer)(),K=j.getActiveScopeSpan(),M={params:v,prerenderManifest:R,renderOpts:{experimental:{authInterrupts:!!A.experimental.authInterrupts},cacheComponents:!!A.cacheComponents,supportsDynamicResponse:D,incrementalCache:(0,n.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:A.cacheLife,waitUntil:o.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,a,o,n)=>I.onRequestError(e,t,o,n,g)},sharedContext:{buildId:x}},$=new d.NodeNextRequest(e),L=new d.NodeNextResponse(t),G=l.NextRequestAdapter.fromNodeNextRequest($,(0,l.signalFromNodeResponse)(t));try{let i=async e=>I.handle(G,M).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=j.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==c.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let o=a.get("next.route");if(o){let t=`${H} ${o}`;e.setAttributes({"next.route":o,"http.route":o,"next.span_name":t}),e.updateName(t)}else e.updateName(`${H} ${h}`)}),s=!!(0,n.getRequestMeta)(e,"minimalMode"),d=async n=>{var r,d;let l=async({previousCacheEntry:a})=>{try{if(!s&&U&&E&&!a)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let r=await i(n);e.fetchMetrics=M.renderOpts.fetchMetrics;let d=M.renderOpts.pendingWaitUntil;d&&o.waitUntil&&(o.waitUntil(d),d=void 0);let l=M.renderOpts.collectedTags;if(!_)return await (0,f.sendResponse)($,L,r,M.renderOpts.pendingWaitUntil),null;{let e=await r.blob(),t=(0,p.toNodeOutgoingHttpHeaders)(r.headers);l&&(t[m.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let a=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=m.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,o=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=m.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:k.CachedRouteKind.APP_ROUTE,status:r.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:a,expire:o}}}}catch(t){throw(null==a?void 0:a.isStale)&&await I.onRequestError(e,t,{routerKind:"App Router",routePath:h,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:F,isOnDemandRevalidate:U})},!1,g),t}},c=await I.handleResponse({req:e,nextConfig:A,cacheKey:P,routeKind:a.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:R,isRoutePPREnabled:!1,isOnDemandRevalidate:U,revalidateOnlyGenerated:E,responseGenerator:l,waitUntil:o.waitUntil,isMinimalMode:s});if(!_)return null;if((null==c||null==(r=c.value)?void 0:r.kind)!==k.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(d=c.value)?void 0:d.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",U?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),w&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let y=(0,p.fromNodeOutgoingHttpHeaders)(c.value.headers);return s&&_||y.delete(m.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||t.getHeader("Cache-Control")||y.get("Cache-Control")||y.set("Cache-Control",(0,b.getCacheControlHeader)(c.cacheControl)),await (0,f.sendResponse)($,L,new Response(c.value.body,{headers:y,status:c.value.status||200})),null};K?await d(K):await j.withPropagatedContext(e.headers,()=>j.trace(c.BaseServerSpan.handleRequest,{spanName:`${H} ${h}`,kind:r.SpanKind.SERVER,attributes:{"http.method":H,"http.target":e.url}},d))}catch(t){if(t instanceof y.NoFallbackError||await I.onRequestError(e,t,{routerKind:"App Router",routePath:O,routeType:"route",revalidateReason:(0,u.getRevalidateReason)({isStaticGeneration:F,isOnDemandRevalidate:U})},!1,g),_)throw t;return await (0,f.sendResponse)($,L,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>B,"routeModule",()=>I,"serverHooks",()=>N,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>T],51236)}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_app-route_853329ce.js.map