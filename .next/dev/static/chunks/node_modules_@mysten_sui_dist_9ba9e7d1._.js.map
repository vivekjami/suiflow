{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/utils/format.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/utils/format.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nconst ELLIPSIS = '\\u{2026}';\n\nexport function formatAddress(address: string) {\n\tif (address.length <= 6) {\n\t\treturn address;\n\t}\n\n\tconst offset = address.startsWith('0x') ? 2 : 0;\n\n\treturn `0x${address.slice(offset, offset + 4)}${ELLIPSIS}${address.slice(-4)}`;\n}\n\nexport function formatDigest(digest: string) {\n\t// Use 10 first characters\n\treturn `${digest.slice(0, 10)}${ELLIPSIS}`;\n}\n"],"names":[],"mappings":";;;;;;;AAGA,MAAM,WAAW;AAEjB,SAAgB,cAAc,OAAA,EAAiB;IAC9C,IAAI,QAAQ,MAAA,IAAU,EACrB,CAAA,OAAO;IAGR,MAAM,SAAS,QAAQ,UAAA,CAAW,KAAK,GAAG,IAAI;IAE9C,OAAO,CAAA,EAAA,EAAK,QAAQ,KAAA,CAAM,QAAQ,SAAS,EAAE,GAAG,WAAW,QAAQ,KAAA,CAAM,CAAA,EAAG,EAAA;;AAG7E,SAAgB,aAAa,MAAA,EAAgB;IAE5C,OAAO,GAAG,OAAO,KAAA,CAAM,GAAG,GAAG,GAAG,UAAA"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/jsonRpc/network.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/jsonRpc/network.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport function getJsonRpcFullnodeUrl(network: 'mainnet' | 'testnet' | 'devnet' | 'localnet') {\n\tswitch (network) {\n\t\tcase 'mainnet':\n\t\t\treturn 'https://fullnode.mainnet.sui.io:443';\n\t\tcase 'testnet':\n\t\t\treturn 'https://fullnode.testnet.sui.io:443';\n\t\tcase 'devnet':\n\t\t\treturn 'https://fullnode.devnet.sui.io:443';\n\t\tcase 'localnet':\n\t\t\treturn 'http://127.0.0.1:9000';\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown network: ${network}`);\n\t}\n}\n"],"names":[],"mappings":";;;;;AAGA,SAAgB,sBAAsB,OAAA,EAAwD;IAC7F,OAAQ,SAAR;QACC,KAAK,UACJ;YAAA,OAAO;QACR,KAAK,UACJ;YAAA,OAAO;QACR,KAAK,SACJ;YAAA,OAAO;QACR,KAAK,WACJ;YAAA,OAAO;QACR,QACC;YAAA,MAAM,IAAI,MAAM,CAAA,iBAAA,EAAoB,SAAA,CAAU"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/utils/suins.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/utils/suins.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nconst SUI_NS_NAME_REGEX =\n\t/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i;\nconst SUI_NS_DOMAIN_REGEX = /^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\\.)+sui$/i;\nconst MAX_SUI_NS_NAME_LENGTH = 235;\n\nexport function isValidSuiNSName(name: string): boolean {\n\tif (name.length > MAX_SUI_NS_NAME_LENGTH) {\n\t\treturn false;\n\t}\n\n\tif (name.includes('@')) {\n\t\treturn SUI_NS_NAME_REGEX.test(name);\n\t}\n\n\treturn SUI_NS_DOMAIN_REGEX.test(name);\n}\n\nexport function normalizeSuiNSName(name: string, format: 'at' | 'dot' = 'at'): string {\n\tconst lowerCase = name.toLowerCase();\n\tlet parts;\n\n\tif (lowerCase.includes('@')) {\n\t\tif (!SUI_NS_NAME_REGEX.test(lowerCase)) {\n\t\t\tthrow new Error(`Invalid SuiNS name ${name}`);\n\t\t}\n\t\tconst [labels, domain] = lowerCase.split('@');\n\t\tparts = [...(labels ? labels.split('.') : []), domain];\n\t} else {\n\t\tif (!SUI_NS_DOMAIN_REGEX.test(lowerCase)) {\n\t\t\tthrow new Error(`Invalid SuiNS name ${name}`);\n\t\t}\n\t\tparts = lowerCase.split('.').slice(0, -1);\n\t}\n\n\tif (format === 'dot') {\n\t\treturn `${parts.join('.')}.sui`;\n\t}\n\n\treturn `${parts.slice(0, -1).join('.')}@${parts[parts.length - 1]}`;\n}\n"],"names":[],"mappings":";;;;;;;AAGA,MAAM,oBACL;AACD,MAAM,sBAAsB;AAC5B,MAAM,yBAAyB;AAE/B,SAAgB,iBAAiB,IAAA,EAAuB;IACvD,IAAI,KAAK,MAAA,GAAS,uBACjB,CAAA,OAAO;IAGR,IAAI,KAAK,QAAA,CAAS,IAAI,CACrB,CAAA,OAAO,kBAAkB,IAAA,CAAK,KAAK;IAGpC,OAAO,oBAAoB,IAAA,CAAK,KAAK;;AAGtC,SAAgB,mBAAmB,IAAA,EAAc,SAAuB,IAAA,EAAc;IACrF,MAAM,YAAY,KAAK,WAAA,EAAa;IACpC,IAAI;IAEJ,IAAI,UAAU,QAAA,CAAS,IAAI,EAAE;QAC5B,IAAI,CAAC,kBAAkB,IAAA,CAAK,UAAU,CACrC,CAAA,MAAM,IAAI,MAAM,CAAA,mBAAA,EAAsB,MAAA,CAAO;QAE9C,MAAM,CAAC,QAAQ,OAAA,GAAU,UAAU,KAAA,CAAM,IAAI;QAC7C,QAAQ,CAAC;eAAI,SAAS,OAAO,KAAA,CAAM,IAAI,GAAG,EAAE;YAAG;SAAO;WAChD;QACN,IAAI,CAAC,oBAAoB,IAAA,CAAK,UAAU,CACvC,CAAA,MAAM,IAAI,MAAM,CAAA,mBAAA,EAAsB,MAAA,CAAO;QAE9C,QAAQ,UAAU,KAAA,CAAM,IAAI,CAAC,KAAA,CAAM,GAAG,CAAA,EAAG;;IAG1C,IAAI,WAAW,MACd,CAAA,OAAO,GAAG,MAAM,IAAA,CAAK,IAAI,CAAC,IAAA,CAAA;IAG3B,OAAO,GAAG,MAAM,KAAA,CAAM,GAAG,CAAA,EAAG,CAAC,IAAA,CAAK,IAAI,CAAC,CAAA,EAAG,KAAA,CAAM,MAAM,MAAA,GAAS,EAAA,EAAA"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/utils/move-registry.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/utils/move-registry.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { isValidSuiNSName } from './suins.js';\n\n/** The pattern to find an optionally versioned name */\nconst NAME_PATTERN = /^([a-z0-9]+(?:-[a-z0-9]+)*)$/;\n/** The pattern for a valid version number */\nconst VERSION_REGEX = /^\\d+$/;\n/** The maximum size for an app */\nconst MAX_APP_SIZE = 64;\n/** The separator for the name */\nconst NAME_SEPARATOR = '/';\n\nexport const isValidNamedPackage = (name: string): boolean => {\n\tconst parts = name.split(NAME_SEPARATOR);\n\t// The name has to have 2 parts (without-version), or 3 parts (with version).\n\tif (parts.length < 2 || parts.length > 3) return false;\n\n\tconst [org, app, version] = parts; // split by {org} {app} {optional version}\n\n\t// If the version exists, it must be a number.\n\tif (version !== undefined && !VERSION_REGEX.test(version)) return false;\n\t// Check if the org is a valid SuiNS name.\n\tif (!isValidSuiNSName(org)) return false;\n\n\t// Check if the app is a valid name.\n\treturn NAME_PATTERN.test(app) && app.length < MAX_APP_SIZE;\n};\n\n/**\n * Checks if a type contains valid named packages.\n * This DOES NOT check if the type is a valid Move type.\n */\nexport const isValidNamedType = (type: string): boolean => {\n\t// split our type by all possible type delimeters.\n\tconst splitType = type.split(/::|<|>|,/);\n\tfor (const t of splitType) {\n\t\tif (t.includes(NAME_SEPARATOR) && !isValidNamedPackage(t)) return false;\n\t}\n\t// TODO: Add `isValidStructTag` check once it's introduced.\n\treturn true;\n};\n"],"names":[],"mappings":";;;;;;;;;wDAMA,MAAM,eAAe;8CAErB,MAAM,gBAAgB;mCAEtB,MAAM,eAAe;kCAErB,MAAM,iBAAiB;AAEvB,MAAa,sBAAA,CAAuB,SAA0B;IAC7D,MAAM,QAAQ,KAAK,KAAA,CAAM,eAAe;IAExC,IAAI,MAAM,MAAA,GAAS,KAAK,MAAM,MAAA,GAAS,EAAG,CAAA,OAAO;IAEjD,MAAM,CAAC,KAAK,KAAK,QAAA,GAAW;IAG5B,IAAI,YAAY,KAAA,KAAa,CAAC,cAAc,IAAA,CAAK,QAAQ,CAAE,CAAA,OAAO;IAElE,IAAI,KAAC,iLAAA,EAAiB,IAAI,CAAE,CAAA,OAAO;IAGnC,OAAO,aAAa,IAAA,CAAK,IAAI,IAAI,IAAI,MAAA,GAAS;;;;;GAO/C,MAAa,mBAAA,CAAoB,SAA0B;IAE1D,MAAM,YAAY,KAAK,KAAA,CAAM,WAAW;IACxC,KAAK,MAAM,KAAK,UACf,IAAI,EAAE,QAAA,CAAS,eAAe,IAAI,CAAC,oBAAoB,EAAE,CAAE,CAAA,OAAO;IAGnE,OAAO"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/utils/sui-types.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/utils/sui-types.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase58, splitGenericParameters } from '@mysten/bcs';\n\nimport { isValidNamedPackage } from './move-registry.js';\n\nconst TX_DIGEST_LENGTH = 32;\n\n/** Returns whether the tx digest is valid based on the serialization format */\nexport function isValidTransactionDigest(value: string): value is string {\n\ttry {\n\t\tconst buffer = fromBase58(value);\n\t\treturn buffer.length === TX_DIGEST_LENGTH;\n\t} catch {\n\t\treturn false;\n\t}\n}\n\n// TODO - can we automatically sync this with rust length definition?\n// Source of truth is\n// https://github.com/MystenLabs/sui/blob/acb2b97ae21f47600e05b0d28127d88d0725561d/crates/sui-types/src/base_types.rs#L67\n// which uses the Move account address length\n// https://github.com/move-language/move/blob/67ec40dc50c66c34fd73512fcc412f3b68d67235/language/move-core/types/src/account_address.rs#L23 .\n\nexport const SUI_ADDRESS_LENGTH = 32;\nexport function isValidSuiAddress(value: string): value is string {\n\treturn isHex(value) && getHexByteLength(value) === SUI_ADDRESS_LENGTH;\n}\n\nexport function isValidSuiObjectId(value: string): boolean {\n\treturn isValidSuiAddress(value);\n}\n\nexport type StructTag = {\n\taddress: string;\n\tmodule: string;\n\tname: string;\n\ttypeParams: (string | StructTag)[];\n};\n\nfunction parseTypeTag(type: string): string | StructTag {\n\tif (!type.includes('::')) return type;\n\n\treturn parseStructTag(type);\n}\n\nexport function parseStructTag(type: string): StructTag {\n\tconst parts = type.split('::');\n\n\tif (parts.length < 3) {\n\t\tthrow new Error(`Invalid struct tag: ${type}`);\n\t}\n\n\tconst [address, module] = parts;\n\tconst isMvrPackage = isValidNamedPackage(address);\n\n\tconst rest = type.slice(address.length + module.length + 4);\n\tconst name = rest.includes('<') ? rest.slice(0, rest.indexOf('<')) : rest;\n\tconst typeParams = rest.includes('<')\n\t\t? splitGenericParameters(rest.slice(rest.indexOf('<') + 1, rest.lastIndexOf('>'))).map(\n\t\t\t\t(typeParam) => parseTypeTag(typeParam.trim()),\n\t\t\t)\n\t\t: [];\n\n\treturn {\n\t\taddress: isMvrPackage ? address : normalizeSuiAddress(address),\n\t\tmodule,\n\t\tname,\n\t\ttypeParams,\n\t};\n}\n\nexport function normalizeStructTag(type: string | StructTag): string {\n\tconst { address, module, name, typeParams } =\n\t\ttypeof type === 'string' ? parseStructTag(type) : type;\n\n\tconst formattedTypeParams =\n\t\ttypeParams?.length > 0\n\t\t\t? `<${typeParams\n\t\t\t\t\t.map((typeParam) =>\n\t\t\t\t\t\ttypeof typeParam === 'string' ? typeParam : normalizeStructTag(typeParam),\n\t\t\t\t\t)\n\t\t\t\t\t.join(',')}>`\n\t\t\t: '';\n\n\treturn `${address}::${module}::${name}${formattedTypeParams}`;\n}\n\n/**\n * Perform the following operations:\n * 1. Make the address lower case\n * 2. Prepend `0x` if the string does not start with `0x`.\n * 3. Add more zeros if the length of the address(excluding `0x`) is less than `SUI_ADDRESS_LENGTH`\n *\n * WARNING: if the address value itself starts with `0x`, e.g., `0x0x`, the default behavior\n * is to treat the first `0x` not as part of the address. The default behavior can be overridden by\n * setting `forceAdd0x` to true\n *\n */\nexport function normalizeSuiAddress(value: string, forceAdd0x: boolean = false): string {\n\tlet address = value.toLowerCase();\n\tif (!forceAdd0x && address.startsWith('0x')) {\n\t\taddress = address.slice(2);\n\t}\n\treturn `0x${address.padStart(SUI_ADDRESS_LENGTH * 2, '0')}`;\n}\n\nexport function normalizeSuiObjectId(value: string, forceAdd0x: boolean = false): string {\n\treturn normalizeSuiAddress(value, forceAdd0x);\n}\n\nfunction isHex(value: string): boolean {\n\treturn /^(0x|0X)?[a-fA-F0-9]+$/.test(value) && value.length % 2 === 0;\n}\n\nfunction getHexByteLength(value: string): number {\n\treturn /^(0x|0X)/.test(value) ? (value.length - 2) / 2 : value.length / 2;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAOA,MAAM,mBAAmB;gFAGzB,SAAgB,yBAAyB,KAAA,EAAgC;IACxE,IAAI;QAEH,WADe,kKAAA,EAAW,MAAM,CAClB,MAAA,KAAW;aAClB;QACP,OAAO;;;AAUT,MAAa,qBAAqB;AAClC,SAAgB,kBAAkB,KAAA,EAAgC;IACjE,OAAO,MAAM,MAAM,IAAI,iBAAiB,MAAM,KAAK;;AAGpD,SAAgB,mBAAmB,KAAA,EAAwB;IAC1D,OAAO,kBAAkB,MAAM;;AAUhC,SAAS,aAAa,IAAA,EAAkC;IACvD,IAAI,CAAC,KAAK,QAAA,CAAS,KAAK,CAAE,CAAA,OAAO;IAEjC,OAAO,eAAe,KAAK;;AAG5B,SAAgB,eAAe,IAAA,EAAyB;IACvD,MAAM,QAAQ,KAAK,KAAA,CAAM,KAAK;IAE9B,IAAI,MAAM,MAAA,GAAS,EAClB,CAAA,MAAM,IAAI,MAAM,CAAA,oBAAA,EAAuB,MAAA,CAAO;IAG/C,MAAM,CAAC,SAAS,OAAA,GAAU;IAC1B,MAAM,mBAAe,+LAAA,EAAoB,QAAQ;IAEjD,MAAM,OAAO,KAAK,KAAA,CAAM,QAAQ,MAAA,GAAS,OAAO,MAAA,GAAS,EAAE;IAC3D,MAAM,OAAO,KAAK,QAAA,CAAS,IAAI,GAAG,KAAK,KAAA,CAAM,GAAG,KAAK,OAAA,CAAQ,IAAI,CAAC,GAAG;IACrE,MAAM,aAAa,KAAK,QAAA,CAAS,IAAI,OAClC,8KAAA,EAAuB,KAAK,KAAA,CAAM,KAAK,OAAA,CAAQ,IAAI,GAAG,GAAG,KAAK,WAAA,CAAY,IAAI,CAAC,CAAC,CAAC,GAAA,CAAA,CAChF,YAAc,aAAa,UAAU,IAAA,EAAM,CAAC,CAC7C,GACA,EAAE;IAEL,OAAO;QACN,SAAS,eAAe,UAAU,oBAAoB,QAAQ;QAC9D;QACA;QACA;KACA;;AAGF,SAAgB,mBAAmB,IAAA,EAAkC;IACpE,MAAM,EAAE,OAAA,EAAS,MAAA,EAAQ,IAAA,EAAM,UAAA,EAAA,GAC9B,OAAO,SAAS,WAAW,eAAe,KAAK,GAAG;IAWnD,OAAO,GAAG,QAAQ,EAAA,EAAI,OAAO,EAAA,EAAI,OARhC,YAAY,SAAS,IAClB,CAAA,CAAA,EAAI,WACH,GAAA,CAAA,CAAK,YACL,OAAO,cAAc,WAAW,YAAY,mBAAmB,UAAU,CACzE,CACA,IAAA,CAAK,IAAI,CAAC,CAAA,CAAA,GACX,IAAA;;;;;;;;;;;;GAgBL,SAAgB,oBAAoB,KAAA,EAAe,aAAsB,KAAA,EAAe;IACvF,IAAI,UAAU,MAAM,WAAA,EAAa;IACjC,IAAI,CAAC,cAAc,QAAQ,UAAA,CAAW,KAAK,CAC1C,CAAA,UAAU,QAAQ,KAAA,CAAM,EAAE;IAE3B,OAAO,CAAA,EAAA,EAAK,QAAQ,QAAA,CAAS,qBAAqB,GAAG,IAAI,EAAA;;AAG1D,SAAgB,qBAAqB,KAAA,EAAe,aAAsB,KAAA,EAAe;IACxF,OAAO,oBAAoB,OAAO,WAAW;;AAG9C,SAAS,MAAM,KAAA,EAAwB;IACtC,OAAO,yBAAyB,IAAA,CAAK,MAAM,IAAI,MAAM,MAAA,GAAS,MAAM;;AAGrE,SAAS,iBAAiB,KAAA,EAAuB;IAChD,OAAO,WAAW,IAAA,CAAK,MAAM,GAAA,CAAI,MAAM,MAAA,GAAS,CAAA,IAAK,IAAI,MAAM,MAAA,GAAS"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/client/cache.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/client/cache.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport interface ClientCacheOptions {\n\tprefix?: string[];\n\tcache?: Map<string, unknown>;\n}\n\nexport class ClientCache {\n\t#prefix: string[];\n\t#cache: Map<string, unknown>;\n\n\tconstructor({ prefix, cache }: ClientCacheOptions = {}) {\n\t\tthis.#prefix = prefix ?? [];\n\t\tthis.#cache = cache ?? new Map();\n\t}\n\n\tread<T>(key: [string, ...string[]], load: () => T | Promise<T>): T | Promise<T> {\n\t\tconst cacheKey = [this.#prefix, ...key].join(':');\n\n\t\tif (this.#cache.has(cacheKey)) {\n\t\t\treturn this.#cache.get(cacheKey) as T;\n\t\t}\n\n\t\tconst result = load();\n\n\t\tthis.#cache.set(cacheKey, result);\n\n\t\tif (typeof result === 'object' && result !== null && 'then' in result) {\n\t\t\treturn Promise.resolve(result)\n\t\t\t\t.then((v) => {\n\t\t\t\t\tthis.#cache.set(cacheKey, v);\n\t\t\t\t\treturn v as T;\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tthis.#cache.delete(cacheKey);\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\t\t}\n\n\t\treturn result as T;\n\t}\n\n\treadSync<T>(key: [string, ...string[]], load: () => T): T {\n\t\tconst cacheKey = [this.#prefix, ...key].join(':');\n\n\t\tif (this.#cache.has(cacheKey)) {\n\t\t\treturn this.#cache.get(cacheKey) as T;\n\t\t}\n\n\t\tconst result = load();\n\n\t\tthis.#cache.set(cacheKey, result);\n\n\t\treturn result as T;\n\t}\n\n\tclear(prefix?: string[]) {\n\t\tconst prefixKey = [...this.#prefix, ...(prefix ?? [])].join(':');\n\t\tif (!prefixKey) {\n\t\t\tthis.#cache.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const key of this.#cache.keys()) {\n\t\t\tif (key.startsWith(prefixKey)) {\n\t\t\t\tthis.#cache.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tscope(prefix: string | string[]) {\n\t\treturn new ClientCache({\n\t\t\tprefix: [...this.#prefix, ...(Array.isArray(prefix) ? prefix : [prefix])],\n\t\t\tcache: this.#cache,\n\t\t});\n\t}\n}\n"],"names":["#prefix","#cache"],"mappings":";;;;;AAQA,IAAa,cAAb,MAAa,YAAY;KACxB,MAAA,CAAA;KACA,KAAA,CAAA;IAEA,YAAY,EAAE,MAAA,EAAQ,KAAA,EAAA,GAA8B,CAAA,CAAE,CAAE;QACvD,IAAA,CAAA,CAAA,CAAKA,KAAAA,GAAU,UAAU,EAAE;QAC3B,IAAA,CAAA,CAAA,CAAKC,IAAAA,GAAS,SAAA,aAAA,GAAS,IAAI,KAAK;;IAGjC,KAAQ,GAAA,EAA4B,IAAA,EAA4C;QAC/E,MAAM,WAAW;YAAC,IAAA,CAAA,CAAA,CAAKD,KAAAA,EAAS;eAAG;SAAI,CAAC,IAAA,CAAK,IAAI;QAEjD,IAAI,IAAA,CAAA,CAAA,CAAKC,IAAAA,CAAO,GAAA,CAAI,SAAS,CAC5B,CAAA,OAAO,IAAA,CAAA,CAAA,CAAKA,IAAAA,CAAO,GAAA,CAAI,SAAS;QAGjC,MAAM,SAAS,MAAM;QAErB,IAAA,CAAA,CAAA,CAAKA,IAAAA,CAAO,GAAA,CAAI,UAAU,OAAO;QAEjC,IAAI,OAAO,WAAW,YAAY,WAAW,QAAQ,UAAU,OAC9D,CAAA,OAAO,QAAQ,OAAA,CAAQ,OAAO,CAC5B,IAAA,CAAA,CAAM,MAAM;YACZ,IAAA,CAAA,CAAA,CAAKA,IAAAA,CAAO,GAAA,CAAI,UAAU,EAAE;YAC5B,OAAO;UACN,CACD,KAAA,CAAA,CAAO,QAAQ;YACf,IAAA,CAAA,CAAA,CAAKA,IAAAA,CAAO,MAAA,CAAO,SAAS;YAC5B,MAAM;UACL;QAGJ,OAAO;;IAGR,SAAY,GAAA,EAA4B,IAAA,EAAkB;QACzD,MAAM,WAAW;YAAC,IAAA,CAAA,CAAA,CAAKD,KAAAA,EAAS;eAAG;SAAI,CAAC,IAAA,CAAK,IAAI;QAEjD,IAAI,IAAA,CAAA,CAAA,CAAKC,IAAAA,CAAO,GAAA,CAAI,SAAS,CAC5B,CAAA,OAAO,IAAA,CAAA,CAAA,CAAKA,IAAAA,CAAO,GAAA,CAAI,SAAS;QAGjC,MAAM,SAAS,MAAM;QAErB,IAAA,CAAA,CAAA,CAAKA,IAAAA,CAAO,GAAA,CAAI,UAAU,OAAO;QAEjC,OAAO;;IAGR,MAAM,MAAA,EAAmB;QACxB,MAAM,YAAY,CAAC;eAAG,IAAA,CAAA,CAAA,CAAKD,KAAAA,EAAS;eAAI,UAAU,EAAE;SAAE,CAAC,IAAA,CAAK,IAAI;QAChE,IAAI,CAAC,WAAW;YACf,IAAA,CAAA,CAAA,CAAKC,IAAAA,CAAO,KAAA,EAAO;YACnB;;QAGD,KAAK,MAAM,OAAO,IAAA,CAAA,CAAA,CAAKA,IAAAA,CAAO,IAAA,EAAM,CACnC,IAAI,IAAI,UAAA,CAAW,UAAU,CAC5B,CAAA,IAAA,CAAA,CAAA,CAAKA,IAAAA,CAAO,MAAA,CAAO,IAAI;;IAK1B,MAAM,MAAA,EAA2B;QAChC,OAAO,IAAI,YAAY;YACtB,QAAQ,CAAC;mBAAG,IAAA,CAAA,CAAA,CAAKD,KAAAA,EAAS;mBAAI,MAAM,OAAA,CAAQ,OAAO,GAAG,SAAS;oBAAC;iBAAO;aAAE;YACzE,OAAO,IAAA,CAAA,CAAA,CAAKC,IAAAA;SACZ,CAAC"}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/client/client.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/client/client.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Simplify, UnionToIntersection } from '@mysten/utils';\nimport { ClientCache } from './cache.js';\nimport type { CoreClient } from './core.js';\nimport type { ClientWithExtensions, SuiClientTypes, SuiClientRegistration } from './types.js';\n\nexport abstract class BaseClient {\n\tnetwork: SuiClientTypes.Network;\n\tcache: ClientCache;\n\tbase: BaseClient;\n\n\tconstructor({\n\t\tnetwork,\n\t\tbase,\n\t\tcache = base?.cache ?? new ClientCache(),\n\t}: SuiClientTypes.SuiClientOptions) {\n\t\tthis.network = network;\n\t\tthis.base = base ?? this;\n\t\tthis.cache = cache;\n\t}\n\n\tabstract core: CoreClient;\n\n\t$extend<const Registrations extends SuiClientRegistration<this>[]>(\n\t\t...registrations: Registrations\n\t) {\n\t\tconst extensions: Record<string, unknown> = Object.fromEntries(\n\t\t\tregistrations.map((registration) => {\n\t\t\t\treturn [registration.name, registration.register(this)];\n\t\t\t}),\n\t\t);\n\n\t\tconst methodCache = new Map<string | symbol, Function>();\n\n\t\treturn new Proxy(this, {\n\t\t\tget(target, prop, receiver) {\n\t\t\t\tif (typeof prop === 'string' && prop in extensions) {\n\t\t\t\t\treturn extensions[prop];\n\t\t\t\t}\n\t\t\t\tconst value = Reflect.get(target, prop, receiver);\n\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\tif (prop === '$extend') {\n\t\t\t\t\t\treturn value.bind(receiver);\n\t\t\t\t\t}\n\t\t\t\t\tif (!methodCache.has(prop)) {\n\t\t\t\t\t\tmethodCache.set(prop, value.bind(target));\n\t\t\t\t\t}\n\t\t\t\t\treturn methodCache.get(prop);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t},\n\t\t}) as ClientWithExtensions<\n\t\t\tSimplify<\n\t\t\t\tUnionToIntersection<\n\t\t\t\t\t{\n\t\t\t\t\t\t[K in keyof Registrations]: Registrations[K] extends SuiClientRegistration<\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tinfer Name extends string,\n\t\t\t\t\t\t\tinfer Extension\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t[K2 in Name]: Extension;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: never;\n\t\t\t\t\t}[number]\n\t\t\t\t>\n\t\t\t>,\n\t\t\tthis\n\t\t>;\n\t}\n}\n"],"names":[],"mappings":";;;;;;;AAQA,IAAsB,aAAtB,MAAiC;IAKhC,YAAY,EACX,OAAA,EACA,IAAA,EACA,QAAQ,MAAM,SAAS,IAAI,6KAAA,EAAa,EAAA,CACL;QACnC,IAAA,CAAK,OAAA,GAAU;QACf,IAAA,CAAK,IAAA,GAAO,QAAQ,IAAA;QACpB,IAAA,CAAK,KAAA,GAAQ;;IAKd,QACC,GAAG,aAAA,EACF;QACD,MAAM,aAAsC,OAAO,WAAA,CAClD,cAAc,GAAA,CAAA,CAAK,iBAAiB;YACnC,OAAO;gBAAC,aAAa,IAAA;gBAAM,aAAa,QAAA,CAAS,IAAA,CAAK;aAAC;UACtD,CACF;QAED,MAAM,cAAA,aAAA,GAAc,IAAI,KAAgC;QAExD,OAAO,IAAI,MAAM,IAAA,EAAM;YACtB,KAAI,MAAA,EAAQ,IAAA,EAAM,QAAA,EAAU;gBAC3B,IAAI,OAAO,SAAS,YAAY,QAAQ,WACvC,CAAA,OAAO,UAAA,CAAW,KAAA;gBAEnB,MAAM,QAAQ,QAAQ,GAAA,CAAI,QAAQ,MAAM,SAAS;gBACjD,IAAI,OAAO,UAAU,YAAY;oBAChC,IAAI,SAAS,UACZ,CAAA,OAAO,MAAM,IAAA,CAAK,SAAS;oBAE5B,IAAI,CAAC,YAAY,GAAA,CAAI,KAAK,CACzB,CAAA,YAAY,GAAA,CAAI,MAAM,MAAM,IAAA,CAAK,OAAO,CAAC;oBAE1C,OAAO,YAAY,GAAA,CAAI,KAAK;;gBAE7B,OAAO;;SAER,CAAC"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/version.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/version.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n// This file is generated by genversion.mjs. Do not edit it directly.\n\nexport const PACKAGE_VERSION = '2.3.1';\nexport const TARGETED_RPC_VERSION = '1.66.0';\n"],"names":[],"mappings":";;;;;;;AAKA,MAAa,kBAAkB;AAC/B,MAAa,uBAAuB"}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/client/mvr.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/client/mvr.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { chunk, DataLoader } from '@mysten/utils';\nimport { isValidNamedPackage, isValidNamedType } from '../utils/move-registry.js';\nimport type { StructTag } from '../utils/sui-types.js';\nimport {\n\tisValidSuiAddress,\n\tnormalizeStructTag,\n\tnormalizeSuiAddress,\n\tparseStructTag,\n} from '../utils/sui-types.js';\nimport type { ClientCache } from './cache.js';\nimport type { TransactionDataBuilder } from '../transactions/TransactionData.js';\nimport { PACKAGE_VERSION } from '../version.js';\nimport type { SuiClientTypes } from './types.js';\n\nconst NAME_SEPARATOR = '/';\nconst MVR_API_HEADER = {\n\t'Mvr-Source': `@mysten/sui@${PACKAGE_VERSION}`,\n};\n\nexport interface MvrClientOptions {\n\tcache: ClientCache;\n\turl?: string;\n\tpageSize?: number;\n\toverrides?: {\n\t\tpackages?: Record<string, string>;\n\t\ttypes?: Record<string, string>;\n\t};\n}\n\nexport class MvrClient implements SuiClientTypes.MvrMethods {\n\t#cache: ClientCache;\n\t#url?: string;\n\t#pageSize: number;\n\t#overrides: {\n\t\tpackages?: Record<string, string>;\n\t\ttypes?: Record<string, string>;\n\t};\n\n\tconstructor({ cache, url, pageSize = 50, overrides }: MvrClientOptions) {\n\t\tthis.#cache = cache;\n\t\tthis.#url = url;\n\t\tthis.#pageSize = pageSize;\n\t\tthis.#overrides = {\n\t\t\tpackages: overrides?.packages,\n\t\t\ttypes: overrides?.types,\n\t\t};\n\n\t\tvalidateOverrides(this.#overrides);\n\t}\n\n\tget #mvrPackageDataLoader() {\n\t\treturn this.#cache.readSync(['#mvrPackageDataLoader', this.#url ?? ''], () => {\n\t\t\tconst loader = new DataLoader<string, string>(async (packages) => {\n\t\t\t\tif (!this.#url) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`MVR Api URL is not set for the current client (resolving ${packages.join(', ')})`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst resolved = await this.#resolvePackages(packages);\n\n\t\t\t\treturn packages.map(\n\t\t\t\t\t(pkg) => resolved[pkg] ?? new Error(`Failed to resolve package: ${pkg}`),\n\t\t\t\t);\n\t\t\t});\n\t\t\tconst overrides = this.#overrides?.packages;\n\n\t\t\tif (overrides) {\n\t\t\t\tfor (const [pkg, id] of Object.entries(overrides)) {\n\t\t\t\t\tloader.prime(pkg, id);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn loader;\n\t\t});\n\t}\n\n\tget #mvrTypeDataLoader() {\n\t\treturn this.#cache.readSync(['#mvrTypeDataLoader', this.#url ?? ''], () => {\n\t\t\tconst loader = new DataLoader<string, string>(async (types) => {\n\t\t\t\tif (!this.#url) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`MVR Api URL is not set for the current client (resolving ${types.join(', ')})`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst resolved = await this.#resolveTypes(types);\n\n\t\t\t\treturn types.map((type) => resolved[type] ?? new Error(`Failed to resolve type: ${type}`));\n\t\t\t});\n\n\t\t\tconst overrides = this.#overrides?.types;\n\n\t\t\tif (overrides) {\n\t\t\t\tfor (const [type, id] of Object.entries(overrides)) {\n\t\t\t\t\tloader.prime(type, id);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn loader;\n\t\t});\n\t}\n\n\tasync #resolvePackages(packages: readonly string[]) {\n\t\tif (packages.length === 0) return {};\n\n\t\tconst batches = chunk(packages, this.#pageSize);\n\t\tconst results: Record<string, string> = {};\n\n\t\tawait Promise.all(\n\t\t\tbatches.map(async (batch) => {\n\t\t\t\tconst data = await this.#fetch<{ resolution: Record<string, { package_id: string }> }>(\n\t\t\t\t\t'/v1/resolution/bulk',\n\t\t\t\t\t{\n\t\t\t\t\t\tnames: batch,\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tif (!data?.resolution) return;\n\n\t\t\t\tfor (const pkg of Object.keys(data?.resolution)) {\n\t\t\t\t\tconst pkgData = data.resolution[pkg]?.package_id;\n\n\t\t\t\t\tif (!pkgData) continue;\n\n\t\t\t\t\tresults[pkg] = pkgData;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\treturn results;\n\t}\n\n\tasync #resolveTypes(types: readonly string[]) {\n\t\tif (types.length === 0) return {};\n\n\t\tconst batches = chunk(types, this.#pageSize);\n\t\tconst results: Record<string, string> = {};\n\n\t\tawait Promise.all(\n\t\t\tbatches.map(async (batch) => {\n\t\t\t\tconst data = await this.#fetch<{ resolution: Record<string, { type_tag: string }> }>(\n\t\t\t\t\t'/v1/struct-definition/bulk',\n\t\t\t\t\t{\n\t\t\t\t\t\ttypes: batch,\n\t\t\t\t\t},\n\t\t\t\t);\n\n\t\t\t\tif (!data?.resolution) return;\n\n\t\t\t\tfor (const type of Object.keys(data?.resolution)) {\n\t\t\t\t\tconst typeData = data.resolution[type]?.type_tag;\n\t\t\t\t\tif (!typeData) continue;\n\n\t\t\t\t\tresults[type] = typeData;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\t\treturn results;\n\t}\n\n\tasync #fetch<T>(url: string, body: Record<string, unknown>): Promise<T> {\n\t\tif (!this.#url) {\n\t\t\tthrow new Error('MVR Api URL is not set for the current client');\n\t\t}\n\n\t\tconst response = await fetch(`${this.#url}${url}`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t...MVR_API_HEADER,\n\t\t\t},\n\t\t\tbody: JSON.stringify(body),\n\t\t});\n\n\t\tif (!response.ok) {\n\t\t\tconst errorBody = await response.json().catch(() => ({}));\n\t\t\tthrow new Error(`Failed to resolve types: ${errorBody?.message}`);\n\t\t}\n\n\t\treturn response.json();\n\t}\n\n\tasync resolvePackage({\n\t\tpackage: name,\n\t}: SuiClientTypes.MvrResolvePackageOptions): Promise<SuiClientTypes.MvrResolvePackageResponse> {\n\t\tif (!hasMvrName(name)) {\n\t\t\treturn {\n\t\t\t\tpackage: name,\n\t\t\t};\n\t\t}\n\t\tconst resolved = await this.#mvrPackageDataLoader.load(name);\n\t\treturn {\n\t\t\tpackage: resolved,\n\t\t};\n\t}\n\n\tasync resolveType({\n\t\ttype,\n\t}: SuiClientTypes.MvrResolveTypeOptions): Promise<SuiClientTypes.MvrResolveTypeResponse> {\n\t\tif (!hasMvrName(type)) {\n\t\t\treturn {\n\t\t\t\ttype,\n\t\t\t};\n\t\t}\n\n\t\tconst mvrTypes = [...extractMvrTypes(type)];\n\t\tconst resolvedTypes = await this.#mvrTypeDataLoader.loadMany(mvrTypes);\n\n\t\tconst typeMap: Record<string, string> = {};\n\n\t\tfor (let i = 0; i < mvrTypes.length; i++) {\n\t\t\tconst resolvedType = resolvedTypes[i];\n\t\t\tif (resolvedType instanceof Error) {\n\t\t\t\tthrow resolvedType;\n\t\t\t}\n\t\t\ttypeMap[mvrTypes[i]] = resolvedType;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: replaceMvrNames(type, typeMap),\n\t\t};\n\t}\n\n\tasync resolve({\n\t\ttypes = [],\n\t\tpackages = [],\n\t}: SuiClientTypes.MvrResolveOptions): Promise<SuiClientTypes.MvrResolveResponse> {\n\t\tconst mvrTypes = new Set<string>();\n\n\t\tfor (const type of types ?? []) {\n\t\t\textractMvrTypes(type, mvrTypes);\n\t\t}\n\n\t\tconst typesArray = [...mvrTypes];\n\t\tconst [resolvedTypes, resolvedPackages] = await Promise.all([\n\t\t\ttypesArray.length > 0 ? this.#mvrTypeDataLoader.loadMany(typesArray) : [],\n\t\t\tpackages.length > 0 ? this.#mvrPackageDataLoader.loadMany(packages) : [],\n\t\t]);\n\n\t\tconst typeMap: Record<string, string> = {\n\t\t\t...this.#overrides?.types,\n\t\t};\n\n\t\tfor (const [i, type] of typesArray.entries()) {\n\t\t\tconst resolvedType = resolvedTypes[i];\n\t\t\tif (resolvedType instanceof Error) {\n\t\t\t\tthrow resolvedType;\n\t\t\t}\n\t\t\ttypeMap[type] = resolvedType;\n\t\t}\n\n\t\tconst replacedTypes: Record<\n\t\t\tstring,\n\t\t\t{\n\t\t\t\ttype: string;\n\t\t\t}\n\t\t> = {};\n\n\t\tfor (const type of types ?? []) {\n\t\t\tconst resolvedType = replaceMvrNames(type, typeMap);\n\n\t\t\treplacedTypes[type] = {\n\t\t\t\ttype: resolvedType,\n\t\t\t};\n\t\t}\n\n\t\tconst replacedPackages: Record<\n\t\t\tstring,\n\t\t\t{\n\t\t\t\tpackage: string;\n\t\t\t}\n\t\t> = {};\n\n\t\tfor (const [i, pkg] of (packages ?? []).entries()) {\n\t\t\tconst resolvedPkg = this.#overrides?.packages?.[pkg] ?? resolvedPackages[i];\n\n\t\t\tif (resolvedPkg instanceof Error) {\n\t\t\t\tthrow resolvedPkg;\n\t\t\t}\n\n\t\t\treplacedPackages[pkg] = {\n\t\t\t\tpackage: resolvedPkg,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\ttypes: replacedTypes,\n\t\t\tpackages: replacedPackages,\n\t\t};\n\t}\n}\n\nfunction validateOverrides(overrides?: {\n\tpackages?: Record<string, string>;\n\ttypes?: Record<string, string>;\n}) {\n\tif (overrides?.packages) {\n\t\tfor (const [pkg, id] of Object.entries(overrides.packages)) {\n\t\t\tif (!isValidNamedPackage(pkg)) {\n\t\t\t\tthrow new Error(`Invalid package name: ${pkg}`);\n\t\t\t}\n\t\t\tif (!isValidSuiAddress(normalizeSuiAddress(id))) {\n\t\t\t\tthrow new Error(`Invalid package ID: ${id}`);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (overrides?.types) {\n\t\tfor (const [type, val] of Object.entries(overrides.types)) {\n\t\t\t// validate that types are first-level only.\n\t\t\tif (parseStructTag(type).typeParams.length > 0) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Type overrides must be first-level only. If you want to supply generic types, just pass each type individually.',\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst parsedValue = parseStructTag(val);\n\n\t\t\tif (!isValidSuiAddress(parsedValue.address)) {\n\t\t\t\tthrow new Error(`Invalid type: ${val}`);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Extracts all named types from a given type.\n */\nexport function extractMvrTypes(type: string | StructTag, types = new Set<string>()) {\n\tif (typeof type === 'string' && !hasMvrName(type)) return types;\n\n\tconst tag = isStructTag(type) ? type : parseStructTag(type);\n\n\tif (hasMvrName(tag.address)) types.add(`${tag.address}::${tag.module}::${tag.name}`);\n\n\tfor (const param of tag.typeParams) {\n\t\textractMvrTypes(param, types);\n\t}\n\n\treturn types;\n}\n\n/**\n * Traverses a type, and replaces any found names with their resolved equivalents,\n * based on the supplied type cache.\n */\nfunction replaceMvrNames(tag: string | StructTag, typeCache: Record<string, string>): string {\n\tconst type = isStructTag(tag) ? tag : parseStructTag(tag);\n\n\tconst typeTag = `${type.address}::${type.module}::${type.name}`;\n\tconst cacheHit = typeCache[typeTag];\n\n\treturn normalizeStructTag({\n\t\t...type,\n\t\taddress: cacheHit ? cacheHit.split('::')[0] : type.address,\n\t\ttypeParams: type.typeParams.map((param) => replaceMvrNames(param, typeCache)),\n\t});\n}\n\nexport function hasMvrName(nameOrType: string) {\n\treturn (\n\t\tnameOrType.includes(NAME_SEPARATOR) || nameOrType.includes('@') || nameOrType.includes('.sui')\n\t);\n}\n\nfunction isStructTag(type: string | StructTag): type is StructTag {\n\treturn (\n\t\ttypeof type === 'object' &&\n\t\t'address' in type &&\n\t\t'module' in type &&\n\t\t'name' in type &&\n\t\t'typeParams' in type\n\t);\n}\n\nexport type NamedPackagesOverrides = {\n\tpackages: Record<string, string>;\n\ttypes: Record<string, string>;\n};\n\n/**\n * Looks up all `.move` names in a transaction block.\n * Returns a list of all the names found.\n */\nexport function findNamesInTransaction(builder: TransactionDataBuilder): {\n\tpackages: string[];\n\ttypes: string[];\n} {\n\tconst packages: Set<string> = new Set();\n\tconst types: Set<string> = new Set();\n\n\tfor (const command of builder.commands) {\n\t\tswitch (command.$kind) {\n\t\t\tcase 'MakeMoveVec':\n\t\t\t\tif (command.MakeMoveVec.type) {\n\t\t\t\t\tgetNamesFromTypeList([command.MakeMoveVec.type]).forEach((type) => {\n\t\t\t\t\t\ttypes.add(type);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'MoveCall':\n\t\t\t\tconst moveCall = command.MoveCall;\n\n\t\t\t\tconst pkg = moveCall.package.split('::')[0];\n\t\t\t\tif (hasMvrName(pkg)) {\n\t\t\t\t\tif (!isValidNamedPackage(pkg)) throw new Error(`Invalid package name: ${pkg}`);\n\t\t\t\t\tpackages.add(pkg);\n\t\t\t\t}\n\n\t\t\t\tgetNamesFromTypeList(moveCall.typeArguments ?? []).forEach((type) => {\n\t\t\t\t\ttypes.add(type);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn {\n\t\tpackages: [...packages],\n\t\ttypes: [...types],\n\t};\n}\n\n/**\n * Replace all names & types in a transaction block\n * with their resolved names/types.\n */\nexport function replaceNames(\n\tbuilder: TransactionDataBuilder,\n\tresolved: SuiClientTypes.MvrResolveResponse,\n) {\n\tfor (const command of builder.commands) {\n\t\t// Replacements for `MakeMoveVec` commands (that can include types)\n\t\tif (command.MakeMoveVec?.type) {\n\t\t\tif (!hasMvrName(command.MakeMoveVec.type)) continue;\n\t\t\tif (!resolved.types[command.MakeMoveVec.type])\n\t\t\t\tthrow new Error(`No resolution found for type: ${command.MakeMoveVec.type}`);\n\t\t\tcommand.MakeMoveVec.type = resolved.types[command.MakeMoveVec.type].type;\n\t\t}\n\t\t// Replacements for `MoveCall` commands (that can include packages & types)\n\t\tconst tx = command.MoveCall;\n\t\tif (!tx) continue;\n\n\t\tconst nameParts = tx.package.split('::');\n\t\tconst name = nameParts[0];\n\n\t\tif (hasMvrName(name) && !resolved.packages[name])\n\t\t\tthrow new Error(`No address found for package: ${name}`);\n\n\t\t// Replace package name with address.\n\t\tif (hasMvrName(name)) {\n\t\t\tnameParts[0] = resolved.packages[name].package;\n\t\t\ttx.package = nameParts.join('::');\n\t\t}\n\n\t\tconst types = tx.typeArguments;\n\t\tif (!types) continue;\n\n\t\tfor (let i = 0; i < types.length; i++) {\n\t\t\tif (!hasMvrName(types[i])) continue;\n\n\t\t\tif (!resolved.types[types[i]]) throw new Error(`No resolution found for type: ${types[i]}`);\n\t\t\ttypes[i] = resolved.types[types[i]].type;\n\t\t}\n\n\t\ttx.typeArguments = types;\n\t}\n}\n\n/**\n * Returns a list of unique types that include a name\n * from the given list. This list is retrieved from the Transaction Data.\n */\nfunction getNamesFromTypeList(types: string[]) {\n\tconst names = new Set<string>();\n\tfor (const type of types) {\n\t\tif (hasMvrName(type)) {\n\t\t\tif (!isValidNamedType(type)) throw new Error(`Invalid type with names: ${type}`);\n\t\t\tnames.add(type);\n\t\t}\n\t}\n\treturn names;\n}\n"],"names":["#cache","#url","#pageSize","#overrides","#mvrPackageDataLoader","#resolvePackages","#mvrTypeDataLoader","#resolveTypes","#fetch"],"mappings":"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"}},
    {"offset": {"line": 641, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/jsonRpc/errors.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/jsonRpc/errors.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nconst CODE_TO_ERROR_TYPE: Record<number, string> = {\n\t'-32700': 'ParseError',\n\t'-32701': 'OversizedRequest',\n\t'-32702': 'OversizedResponse',\n\t'-32600': 'InvalidRequest',\n\t'-32601': 'MethodNotFound',\n\t'-32602': 'InvalidParams',\n\t'-32603': 'InternalError',\n\t'-32604': 'ServerBusy',\n\t'-32000': 'CallExecutionFailed',\n\t'-32001': 'UnknownError',\n\t'-32003': 'SubscriptionClosed',\n\t'-32004': 'SubscriptionClosedWithError',\n\t'-32005': 'BatchesNotSupported',\n\t'-32006': 'TooManySubscriptions',\n\t'-32050': 'TransientError',\n\t'-32002': 'TransactionExecutionClientError',\n};\n\nexport class SuiHTTPTransportError extends Error {}\n\nexport class JsonRpcError extends SuiHTTPTransportError {\n\tcode: number;\n\ttype: string;\n\n\tconstructor(message: string, code: number) {\n\t\tsuper(message);\n\t\tthis.code = code;\n\t\tthis.type = CODE_TO_ERROR_TYPE[code] ?? 'ServerError';\n\t}\n}\n\nexport class SuiHTTPStatusError extends SuiHTTPTransportError {\n\tstatus: number;\n\tstatusText: string;\n\n\tconstructor(message: string, status: number, statusText: string) {\n\t\tsuper(message);\n\t\tthis.status = status;\n\t\tthis.statusText = statusText;\n\t}\n}\n"],"names":[],"mappings":";;;;;;;;;AAGA,MAAM,qBAA6C;IAClD,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;CACV;AAED,IAAa,wBAAb,cAA2C,MAAM;AAAA;AAEjD,IAAa,eAAb,cAAkC,sBAAsB;IAIvD,YAAY,OAAA,EAAiB,IAAA,CAAc;QAC1C,KAAA,CAAM,QAAQ;QACd,IAAA,CAAK,IAAA,GAAO;QACZ,IAAA,CAAK,IAAA,GAAO,kBAAA,CAAmB,KAAA,IAAS;;;AAI1C,IAAa,qBAAb,cAAwC,sBAAsB;IAI7D,YAAY,OAAA,EAAiB,MAAA,EAAgB,UAAA,CAAoB;QAChE,KAAA,CAAM,QAAQ;QACd,IAAA,CAAK,MAAA,GAAS;QACd,IAAA,CAAK,UAAA,GAAa"}},
    {"offset": {"line": 690, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/jsonRpc/rpc-websocket-client.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/jsonRpc/rpc-websocket-client.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { JsonRpcError } from './errors.js';\n\nfunction getWebsocketUrl(httpUrl: string): string {\n\tconst url = new URL(httpUrl);\n\turl.protocol = url.protocol.replace('http', 'ws');\n\treturn url.toString();\n}\n\ntype JsonRpcMessage =\n\t| {\n\t\t\tid: number;\n\t\t\tresult: never;\n\t\t\terror: {\n\t\t\t\tcode: number;\n\t\t\t\tmessage: string;\n\t\t\t};\n\t  }\n\t| {\n\t\t\tid: number;\n\t\t\tresult: unknown;\n\t\t\terror: never;\n\t  }\n\t| {\n\t\t\tmethod: string;\n\t\t\tparams: NotificationMessageParams;\n\t  };\n\ntype NotificationMessageParams = {\n\tsubscription?: number;\n\tresult: object;\n};\n\ntype SubscriptionRequest<T = any> = {\n\tmethod: string;\n\tunsubscribe: string;\n\tparams: any[];\n\tonMessage: (event: T) => void;\n\tsignal?: AbortSignal;\n};\n\n/**\n * Configuration options for the websocket connection\n */\nexport type WebsocketClientOptions = {\n\t/**\n\t * Custom WebSocket class to use. Defaults to the global WebSocket class, if available.\n\t */\n\tWebSocketConstructor?: typeof WebSocket;\n\t/**\n\t * Milliseconds before timing out while calling an RPC method\n\t */\n\tcallTimeout?: number;\n\t/**\n\t * Milliseconds between attempts to connect\n\t */\n\treconnectTimeout?: number;\n\t/**\n\t * Maximum number of times to try connecting before giving up\n\t */\n\tmaxReconnects?: number;\n};\n\nexport const DEFAULT_CLIENT_OPTIONS = {\n\t// We fudge the typing because we also check for undefined in the constructor:\n\tWebSocketConstructor: (typeof WebSocket !== 'undefined'\n\t\t? WebSocket\n\t\t: undefined) as typeof WebSocket,\n\tcallTimeout: 30000,\n\treconnectTimeout: 3000,\n\tmaxReconnects: 5,\n} satisfies WebsocketClientOptions;\n\nexport class WebsocketClient {\n\tendpoint: string;\n\toptions: Required<WebsocketClientOptions>;\n\t#requestId = 0;\n\t#disconnects = 0;\n\t#webSocket: WebSocket | null = null;\n\t#connectionPromise: Promise<WebSocket> | null = null;\n\t#subscriptions = new Set<RpcSubscription>();\n\t#pendingRequests = new Map<\n\t\tnumber,\n\t\t{\n\t\t\tresolve: (result: Extract<JsonRpcMessage, { id: number }>) => void;\n\t\t\treject: (reason: unknown) => void;\n\t\t\ttimeout: ReturnType<typeof setTimeout>;\n\t\t}\n\t>();\n\n\tconstructor(endpoint: string, options: WebsocketClientOptions = {}) {\n\t\tthis.endpoint = endpoint;\n\t\tthis.options = { ...DEFAULT_CLIENT_OPTIONS, ...options };\n\n\t\tif (!this.options.WebSocketConstructor) {\n\t\t\tthrow new Error('Missing WebSocket constructor');\n\t\t}\n\n\t\tif (this.endpoint.startsWith('http')) {\n\t\t\tthis.endpoint = getWebsocketUrl(this.endpoint);\n\t\t}\n\t}\n\n\tasync makeRequest<T>(method: string, params: any[], signal?: AbortSignal): Promise<T> {\n\t\tconst webSocket = await this.#setupWebSocket();\n\n\t\treturn new Promise<Extract<JsonRpcMessage, { id: number }>>((resolve, reject) => {\n\t\t\tthis.#requestId += 1;\n\t\t\tthis.#pendingRequests.set(this.#requestId, {\n\t\t\t\tresolve: resolve,\n\t\t\t\treject,\n\t\t\t\ttimeout: setTimeout(() => {\n\t\t\t\t\tthis.#pendingRequests.delete(this.#requestId);\n\t\t\t\t\treject(new Error(`Request timeout: ${method}`));\n\t\t\t\t}, this.options.callTimeout),\n\t\t\t});\n\n\t\t\tsignal?.addEventListener('abort', () => {\n\t\t\t\tthis.#pendingRequests.delete(this.#requestId);\n\t\t\t\treject(signal.reason);\n\t\t\t});\n\n\t\t\twebSocket.send(JSON.stringify({ jsonrpc: '2.0', id: this.#requestId, method, params }));\n\t\t}).then(({ error, result }) => {\n\t\t\tif (error) {\n\t\t\t\tthrow new JsonRpcError(error.message, error.code);\n\t\t\t}\n\n\t\t\treturn result as T;\n\t\t});\n\t}\n\n\t#setupWebSocket() {\n\t\tif (this.#connectionPromise) {\n\t\t\treturn this.#connectionPromise;\n\t\t}\n\n\t\tthis.#connectionPromise = new Promise<WebSocket>((resolve) => {\n\t\t\tthis.#webSocket?.close();\n\t\t\tthis.#webSocket = new this.options.WebSocketConstructor(this.endpoint);\n\n\t\t\tthis.#webSocket.addEventListener('open', () => {\n\t\t\t\tthis.#disconnects = 0;\n\t\t\t\tresolve(this.#webSocket!);\n\t\t\t});\n\n\t\t\tthis.#webSocket.addEventListener('close', () => {\n\t\t\t\tthis.#disconnects++;\n\t\t\t\tif (this.#disconnects <= this.options.maxReconnects) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.#reconnect();\n\t\t\t\t\t}, this.options.reconnectTimeout);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.#webSocket.addEventListener('message', ({ data }: { data: string }) => {\n\t\t\t\tlet json: JsonRpcMessage;\n\t\t\t\ttry {\n\t\t\t\t\tjson = JSON.parse(data) as JsonRpcMessage;\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(new Error(`Failed to parse RPC message: ${data}`, { cause: error }));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ('id' in json && json.id != null && this.#pendingRequests.has(json.id)) {\n\t\t\t\t\tconst { resolve, timeout } = this.#pendingRequests.get(json.id)!;\n\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\tresolve(json);\n\t\t\t\t} else if ('params' in json) {\n\t\t\t\t\tconst { params } = json;\n\t\t\t\t\tthis.#subscriptions.forEach((subscription) => {\n\t\t\t\t\t\tif (subscription.subscriptionId === params.subscription)\n\t\t\t\t\t\t\tif (params.subscription === subscription.subscriptionId) {\n\t\t\t\t\t\t\t\tsubscription.onMessage(params.result);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn this.#connectionPromise;\n\t}\n\n\tasync #reconnect() {\n\t\tthis.#webSocket?.close();\n\t\tthis.#connectionPromise = null;\n\n\t\treturn Promise.allSettled(\n\t\t\t[...this.#subscriptions].map((subscription) => subscription.subscribe(this)),\n\t\t);\n\t}\n\n\tasync subscribe<T>(input: SubscriptionRequest<T>) {\n\t\tconst subscription = new RpcSubscription(input);\n\t\tthis.#subscriptions.add(subscription);\n\t\tawait subscription.subscribe(this);\n\t\treturn () => subscription.unsubscribe(this);\n\t}\n}\n\nclass RpcSubscription {\n\tsubscriptionId: number | null = null;\n\tinput: SubscriptionRequest<any>;\n\tsubscribed = false;\n\n\tconstructor(input: SubscriptionRequest) {\n\t\tthis.input = input;\n\t}\n\n\tonMessage(message: unknown) {\n\t\tif (this.subscribed) {\n\t\t\tthis.input.onMessage(message);\n\t\t}\n\t}\n\n\tasync unsubscribe(client: WebsocketClient) {\n\t\tconst { subscriptionId } = this;\n\t\tthis.subscribed = false;\n\t\tif (subscriptionId == null) return false;\n\t\tthis.subscriptionId = null;\n\n\t\treturn client.makeRequest(this.input.unsubscribe, [subscriptionId]);\n\t}\n\n\tasync subscribe(client: WebsocketClient) {\n\t\tthis.subscriptionId = null;\n\t\tthis.subscribed = true;\n\t\tconst newSubscriptionId = await client.makeRequest<number>(\n\t\t\tthis.input.method,\n\t\t\tthis.input.params,\n\t\t\tthis.input.signal,\n\t\t);\n\n\t\tif (this.subscribed) {\n\t\t\tthis.subscriptionId = newSubscriptionId;\n\t\t}\n\t}\n}\n"],"names":["#setupWebSocket","#requestId","#pendingRequests","#connectionPromise","#webSocket","#disconnects","#reconnect","#subscriptions"],"mappings":"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"}},
    {"offset": {"line": 837, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/jsonRpc/http-transport.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/jsonRpc/http-transport.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { PACKAGE_VERSION, TARGETED_RPC_VERSION } from '../version.js';\nimport { JsonRpcError, SuiHTTPStatusError } from './errors.js';\nimport type { WebsocketClientOptions } from './rpc-websocket-client.js';\nimport { WebsocketClient } from './rpc-websocket-client.js';\n\n/**\n * An object defining headers to be passed to the RPC server\n */\nexport type HttpHeaders = { [header: string]: string };\n\nexport interface JsonRpcHTTPTransportOptions {\n\tfetch?: typeof fetch;\n\tWebSocketConstructor?: typeof WebSocket;\n\turl: string;\n\trpc?: {\n\t\theaders?: HttpHeaders;\n\t\turl?: string;\n\t};\n\twebsocket?: WebsocketClientOptions & {\n\t\turl?: string;\n\t};\n}\n\nexport interface JsonRpcTransportRequestOptions {\n\tmethod: string;\n\tparams: unknown[];\n\tsignal?: AbortSignal;\n}\n\nexport interface JsonRpcTransportSubscribeOptions<T> {\n\tmethod: string;\n\tunsubscribe: string;\n\tparams: unknown[];\n\tonMessage: (event: T) => void;\n\tsignal?: AbortSignal;\n}\n\nexport interface JsonRpcTransport {\n\trequest<T = unknown>(input: JsonRpcTransportRequestOptions): Promise<T>;\n\tsubscribe<T = unknown>(\n\t\tinput: JsonRpcTransportSubscribeOptions<T>,\n\t): Promise<() => Promise<boolean>>;\n}\n\nexport class JsonRpcHTTPTransport implements JsonRpcTransport {\n\t#requestId = 0;\n\t#options: JsonRpcHTTPTransportOptions;\n\t#websocketClient?: WebsocketClient;\n\n\tconstructor(options: JsonRpcHTTPTransportOptions) {\n\t\tthis.#options = options;\n\t}\n\n\tfetch(input: RequestInfo, init?: RequestInit): Promise<Response> {\n\t\tconst fetchFn = this.#options.fetch ?? fetch;\n\n\t\tif (!fetchFn) {\n\t\t\tthrow new Error(\n\t\t\t\t'The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.',\n\t\t\t);\n\t\t}\n\n\t\treturn fetchFn(input, init);\n\t}\n\n\t#getWebsocketClient(): WebsocketClient {\n\t\tif (!this.#websocketClient) {\n\t\t\tconst WebSocketConstructor = this.#options.WebSocketConstructor ?? WebSocket;\n\t\t\tif (!WebSocketConstructor) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.',\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tthis.#websocketClient = new WebsocketClient(\n\t\t\t\tthis.#options.websocket?.url ?? this.#options.url,\n\t\t\t\t{\n\t\t\t\t\tWebSocketConstructor,\n\t\t\t\t\t...this.#options.websocket,\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn this.#websocketClient;\n\t}\n\n\tasync request<T>(input: JsonRpcTransportRequestOptions): Promise<T> {\n\t\tthis.#requestId += 1;\n\n\t\tconst res = await this.fetch(this.#options.rpc?.url ?? this.#options.url, {\n\t\t\tmethod: 'POST',\n\t\t\tsignal: input.signal,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Client-Sdk-Type': 'typescript',\n\t\t\t\t'Client-Sdk-Version': PACKAGE_VERSION,\n\t\t\t\t'Client-Target-Api-Version': TARGETED_RPC_VERSION,\n\t\t\t\t'Client-Request-Method': input.method,\n\t\t\t\t...this.#options.rpc?.headers,\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tjsonrpc: '2.0',\n\t\t\t\tid: this.#requestId,\n\t\t\t\tmethod: input.method,\n\t\t\t\tparams: input.params,\n\t\t\t}),\n\t\t});\n\n\t\tif (!res.ok) {\n\t\t\tthrow new SuiHTTPStatusError(\n\t\t\t\t`Unexpected status code: ${res.status}`,\n\t\t\t\tres.status,\n\t\t\t\tres.statusText,\n\t\t\t);\n\t\t}\n\n\t\tconst data = await res.json();\n\n\t\tif ('error' in data && data.error != null) {\n\t\t\tthrow new JsonRpcError(data.error.message, data.error.code);\n\t\t}\n\n\t\treturn data.result;\n\t}\n\n\tasync subscribe<T>(input: JsonRpcTransportSubscribeOptions<T>): Promise<() => Promise<boolean>> {\n\t\tconst unsubscribe = await this.#getWebsocketClient().subscribe(input);\n\n\t\tif (input.signal) {\n\t\t\tinput.signal.throwIfAborted();\n\t\t\tinput.signal.addEventListener('abort', () => {\n\t\t\t\tunsubscribe();\n\t\t\t});\n\t\t}\n\n\t\treturn async () => !!(await unsubscribe());\n\t}\n}\n"],"names":["#options","#websocketClient","#requestId","#getWebsocketClient"],"mappings":";;;;;;;;;;;AA+CA,IAAa,uBAAb,MAA8D;KAC7D,SAAA,GAAa,EAAA;KACb,OAAA,CAAA;KACA,eAAA,CAAA;IAEA,YAAY,OAAA,CAAsC;QACjD,IAAA,CAAA,CAAA,CAAKA,MAAAA,GAAW;;IAGjB,MAAM,KAAA,EAAoB,IAAA,EAAuC;QAChE,MAAM,UAAU,IAAA,CAAA,CAAA,CAAKA,MAAAA,CAAS,KAAA,IAAS;QAEvC,IAAI,CAAC,QACJ,CAAA,MAAM,IAAI,MACT,8HACA;QAGF,OAAO,QAAQ,OAAO,KAAK;;KAG5B,kBAAA,GAAuC;QACtC,IAAI,CAAC,IAAA,CAAA,CAAA,CAAKC,cAAAA,EAAkB;YAC3B,MAAM,uBAAuB,IAAA,CAAA,CAAA,CAAKD,MAAAA,CAAS,oBAAA,IAAwB;YACnE,IAAI,CAAC,qBACJ,CAAA,MAAM,IAAI,MACT,kIACA;YAGF,IAAA,CAAA,CAAA,CAAKC,cAAAA,GAAmB,IAAI,uMAAA,CAC3B,IAAA,CAAA,CAAA,CAAKD,MAAAA,CAAS,SAAA,EAAW,OAAO,IAAA,CAAA,CAAA,CAAKA,MAAAA,CAAS,GAAA,EAC9C;gBACC;gBACA,GAAG,IAAA,CAAA,CAAA,CAAKA,MAAAA,CAAS,SAAA;aACjB,CACD;;QAGF,OAAO,IAAA,CAAA,CAAA,CAAKC,cAAAA;;IAGb,MAAM,QAAW,KAAA,EAAmD;QACnE,IAAA,CAAA,CAAA,CAAKC,QAAAA,IAAc;QAEnB,MAAM,MAAM,MAAM,IAAA,CAAK,KAAA,CAAM,IAAA,CAAA,CAAA,CAAKF,MAAAA,CAAS,GAAA,EAAK,OAAO,IAAA,CAAA,CAAA,CAAKA,MAAAA,CAAS,GAAA,EAAK;YACzE,QAAQ;YACR,QAAQ,MAAM,MAAA;YACd,SAAS;gBACR,gBAAgB;gBAChB,mBAAmB;gBACnB,sBAAsB,yKAAA;gBACtB,6BAA6B,8KAAA;gBAC7B,yBAAyB,MAAM,MAAA;gBAC/B,GAAG,IAAA,CAAA,CAAA,CAAKA,MAAAA,CAAS,GAAA,EAAK,OAAA;aACtB;YACD,MAAM,KAAK,SAAA,CAAU;gBACpB,SAAS;gBACT,IAAI,IAAA,CAAA,CAAA,CAAKE,QAAAA;gBACT,QAAQ,MAAM,MAAA;gBACd,QAAQ,MAAM,MAAA;aACd,CAAC;SACF,CAAC;QAEF,IAAI,CAAC,IAAI,EAAA,CACR,CAAA,MAAM,IAAI,sLAAA,CACT,CAAA,wBAAA,EAA2B,IAAI,MAAA,EAAA,EAC/B,IAAI,MAAA,EACJ,IAAI,UAAA,CACJ;QAGF,MAAM,OAAO,MAAM,IAAI,IAAA,EAAM;QAE7B,IAAI,WAAW,QAAQ,KAAK,KAAA,IAAS,KACpC,CAAA,MAAM,IAAI,gLAAA,CAAa,KAAK,KAAA,CAAM,OAAA,EAAS,KAAK,KAAA,CAAM,IAAA,CAAK;QAG5D,OAAO,KAAK,MAAA;;IAGb,MAAM,UAAa,KAAA,EAA6E;QAC/F,MAAM,cAAc,MAAM,IAAA,CAAA,CAAA,CAAKC,iBAAAA,EAAqB,CAAC,SAAA,CAAU,MAAM;QAErE,IAAI,MAAM,MAAA,EAAQ;YACjB,MAAM,MAAA,CAAO,cAAA,EAAgB;YAC7B,MAAM,MAAA,CAAO,gBAAA,CAAiB,SAAA,MAAe;gBAC5C,aAAa;cACZ;;QAGH,OAAO,UAAY,CAAC,CAAE,MAAM,aAAa"}},
    {"offset": {"line": 913, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/data/internal.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/data/internal.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { EnumInputShape, EnumOutputShape } from '@mysten/bcs';\nimport type { GenericSchema, InferInput, InferOutput, ObjectEntries, ObjectSchema } from 'valibot';\nimport {\n\tarray,\n\tboolean,\n\tcheck,\n\tinteger,\n\tlazy,\n\tliteral,\n\tnullable,\n\tnullish,\n\tnumber,\n\tobject,\n\toptional,\n\tpipe,\n\trecord,\n\tstring,\n\ttransform,\n\ttuple,\n\tunion,\n\tunknown,\n} from 'valibot';\n\nimport { isValidSuiAddress, normalizeSuiAddress } from '../../utils/sui-types.js';\nimport type { Simplify } from '@mysten/utils';\nimport type { SuiClientTypes } from '../../client/types.js';\n\ntype EnumSchemaInput<T extends Record<string, GenericSchema<any>>> = EnumInputShape<\n\tSimplify<{\n\t\t[K in keyof T]: InferInput<T[K]>;\n\t}>\n>;\n\ntype EnumSchemaOutput<T extends Record<string, GenericSchema<any>>> = EnumOutputShape<\n\tSimplify<{\n\t\t[K in keyof T]: InferOutput<T[K]>;\n\t}>\n>;\n\ntype EnumSchema<T extends Record<string, GenericSchema<any>>> = GenericSchema<\n\tEnumSchemaInput<T>,\n\tEnumSchemaOutput<T>\n>;\n\nexport function safeEnum<T extends Record<string, GenericSchema<any>>>(options: T): EnumSchema<T> {\n\treturn union(\n\t\tObject.keys(options).map(\n\t\t\t(key) =>\n\t\t\t\twithKind(\n\t\t\t\t\tkey,\n\t\t\t\t\tobject({\n\t\t\t\t\t\t[key]: options[key],\n\t\t\t\t\t}),\n\t\t\t\t) as GenericSchema<EnumOutputShape<T>>,\n\t\t),\n\t) as EnumSchema<T>;\n}\n\nfunction withKind<K extends string, TEntries extends ObjectEntries>(\n\tkey: K,\n\tschema: ObjectSchema<TEntries, undefined>,\n) {\n\treturn pipe(\n\t\tobject({\n\t\t\t...schema.entries,\n\t\t\t$kind: optional(literal(key)),\n\t\t}),\n\t\ttransform((value) => ({ ...value, $kind: key })),\n\t) as GenericSchema<\n\t\tSimplify<InferInput<ObjectSchema<TEntries, undefined>> & { $kind?: K }>,\n\t\tSimplify<InferOutput<ObjectSchema<TEntries, undefined>> & { $kind: K }>\n\t>;\n}\n\nexport const SuiAddress = pipe(\n\tstring(),\n\ttransform((value) => normalizeSuiAddress(value)),\n\tcheck(isValidSuiAddress),\n);\nexport const ObjectID = SuiAddress;\nexport const BCSBytes = string();\nexport const JsonU64 = pipe(\n\tunion([string(), pipe(number(), integer())]),\n\n\tcheck((val) => {\n\t\ttry {\n\t\t\tBigInt(val);\n\t\t\treturn BigInt(val) >= 0 && BigInt(val) <= 18446744073709551615n;\n\t\t} catch {\n\t\t\treturn false;\n\t\t}\n\t}, 'Invalid u64'),\n);\n\nexport const U32 = pipe(\n\tnumber(),\n\tinteger(),\n\tcheck((val) => val >= 0 && val < 2 ** 32, 'Invalid u32'),\n);\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/base_types.rs#L138\n// Implemented as a tuple in rust\nexport const ObjectRefSchema = object({\n\tobjectId: SuiAddress,\n\tversion: JsonU64,\n\tdigest: string(),\n});\nexport type ObjectRef = InferOutput<typeof ObjectRefSchema>;\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L690-L702\nexport const ArgumentSchema = union([\n\twithKind('GasCoin', object({ GasCoin: literal(true) })),\n\twithKind(\n\t\t'Input',\n\t\tobject({\n\t\t\tInput: pipe(number(), integer()),\n\t\t\ttype: optional(union([literal('pure'), literal('object'), literal('withdrawal')])),\n\t\t}),\n\t),\n\twithKind('Result', object({ Result: pipe(number(), integer()) })),\n\twithKind(\n\t\t'NestedResult',\n\t\tobject({ NestedResult: tuple([pipe(number(), integer()), pipe(number(), integer())]) }),\n\t),\n]);\n\nexport type Argument = InferOutput<typeof ArgumentSchema>;\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L1387-L1392\nexport const GasDataSchema = object({\n\tbudget: nullable(JsonU64),\n\tprice: nullable(JsonU64),\n\towner: nullable(SuiAddress),\n\tpayment: nullable(array(ObjectRefSchema)),\n});\nexport type GasData = InferOutput<typeof GasDataSchema>;\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/external-crates/move/crates/move-core-types/src/language_storage.rs#L140-L147\nexport const StructTagSchema = object({\n\taddress: string(),\n\tmodule: string(),\n\tname: string(),\n\t// type_params in rust, should be updated to use camelCase\n\ttypeParams: array(string()),\n});\nexport type StructTag = InferOutput<typeof StructTagSchema>;\n\nexport const OpenSignatureBodySchema: GenericSchema<SuiClientTypes.OpenSignatureBody> = union([\n\tobject({ $kind: literal('address') }),\n\tobject({ $kind: literal('bool') }),\n\tobject({ $kind: literal('u8') }),\n\tobject({ $kind: literal('u16') }),\n\tobject({ $kind: literal('u32') }),\n\tobject({ $kind: literal('u64') }),\n\tobject({ $kind: literal('u128') }),\n\tobject({ $kind: literal('u256') }),\n\tobject({ $kind: literal('unknown') }),\n\tobject({ $kind: literal('vector'), vector: lazy(() => OpenSignatureBodySchema) }),\n\tobject({\n\t\t$kind: literal('datatype'),\n\t\tdatatype: object({\n\t\t\ttypeName: string(),\n\t\t\ttypeParameters: array(lazy(() => OpenSignatureBodySchema)),\n\t\t}),\n\t}),\n\tobject({ $kind: literal('typeParameter'), index: pipe(number(), integer()) }),\n]);\n\nexport const OpenSignatureSchema = object({\n\treference: nullable(union([literal('mutable'), literal('immutable'), literal('unknown')])),\n\tbody: OpenSignatureBodySchema,\n});\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L707-L718\nconst ProgrammableMoveCallSchema = object({\n\tpackage: ObjectID,\n\tmodule: string(),\n\tfunction: string(),\n\t// snake case in rust\n\ttypeArguments: array(string()),\n\targuments: array(ArgumentSchema),\n\t_argumentTypes: optional(nullable(array(OpenSignatureSchema))),\n});\nexport type ProgrammableMoveCall = InferOutput<typeof ProgrammableMoveCallSchema>;\n\nexport const $Intent = object({\n\tname: string(),\n\tinputs: record(string(), union([ArgumentSchema, array(ArgumentSchema)])),\n\tdata: record(string(), unknown()),\n});\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L657-L685\nexport const CommandSchema = safeEnum({\n\tMoveCall: ProgrammableMoveCallSchema,\n\tTransferObjects: object({\n\t\tobjects: array(ArgumentSchema),\n\t\taddress: ArgumentSchema,\n\t}),\n\tSplitCoins: object({\n\t\tcoin: ArgumentSchema,\n\t\tamounts: array(ArgumentSchema),\n\t}),\n\tMergeCoins: object({\n\t\tdestination: ArgumentSchema,\n\t\tsources: array(ArgumentSchema),\n\t}),\n\tPublish: object({\n\t\tmodules: array(BCSBytes),\n\t\tdependencies: array(ObjectID),\n\t}),\n\tMakeMoveVec: object({\n\t\ttype: nullable(string()),\n\t\telements: array(ArgumentSchema),\n\t}),\n\tUpgrade: object({\n\t\tmodules: array(BCSBytes),\n\t\tdependencies: array(ObjectID),\n\t\tpackage: ObjectID,\n\t\tticket: ArgumentSchema,\n\t}),\n\t$Intent,\n});\n\nexport type Command<Arg = Argument> = EnumOutputShape<{\n\tMoveCall: {\n\t\tpackage: string;\n\t\tmodule: string;\n\t\tfunction: string;\n\t\ttypeArguments: string[];\n\t\targuments: Arg[];\n\t\t_argumentTypes?: SuiClientTypes.OpenSignature[] | null;\n\t};\n\tTransferObjects: {\n\t\tobjects: Arg[];\n\t\taddress: Arg;\n\t};\n\tSplitCoins: {\n\t\tcoin: Arg;\n\t\tamounts: Arg[];\n\t};\n\tMergeCoins: {\n\t\tdestination: Arg;\n\t\tsources: Arg[];\n\t};\n\tPublish: {\n\t\tmodules: string[];\n\t\tdependencies: string[];\n\t};\n\tMakeMoveVec: {\n\t\ttype: string | null;\n\t\telements: Arg[];\n\t};\n\tUpgrade: {\n\t\tmodules: string[];\n\t\tdependencies: string[];\n\t\tpackage: string;\n\t\tticket: Arg;\n\t};\n\t$Intent: {\n\t\tname: string;\n\t\tinputs: Record<string, Argument | Argument[]>;\n\t\tdata: Record<string, unknown>;\n\t};\n}>;\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L102-L114\nexport const ObjectArgSchema = safeEnum({\n\tImmOrOwnedObject: ObjectRefSchema,\n\tSharedObject: object({\n\t\tobjectId: ObjectID,\n\t\t// snake case in rust\n\t\tinitialSharedVersion: JsonU64,\n\t\tmutable: boolean(),\n\t}),\n\tReceiving: ObjectRefSchema,\n});\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const ReservationSchema = safeEnum({\n\tMaxAmountU64: JsonU64,\n});\nexport type Reservation = InferOutput<typeof ReservationSchema>;\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const WithdrawalTypeArgSchema = safeEnum({\n\tBalance: string(),\n});\nexport type WithdrawalTypeArg = InferOutput<typeof WithdrawalTypeArgSchema>;\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const WithdrawFromSchema = safeEnum({\n\tSender: literal(true),\n\tSponsor: literal(true),\n});\nexport type WithdrawFrom = InferOutput<typeof WithdrawFromSchema>;\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const FundsWithdrawalArgSchema = object({\n\treservation: ReservationSchema,\n\ttypeArg: WithdrawalTypeArgSchema,\n\twithdrawFrom: WithdrawFromSchema,\n});\nexport type FundsWithdrawalArg = InferOutput<typeof FundsWithdrawalArgSchema>;\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L75-L80\nconst CallArgSchema = safeEnum({\n\tObject: ObjectArgSchema,\n\tPure: object({\n\t\tbytes: BCSBytes,\n\t}),\n\tUnresolvedPure: object({\n\t\tvalue: unknown(),\n\t}),\n\tUnresolvedObject: object({\n\t\tobjectId: ObjectID,\n\t\tversion: optional(nullable(JsonU64)),\n\t\tdigest: optional(nullable(string())),\n\t\tinitialSharedVersion: optional(nullable(JsonU64)),\n\t\tmutable: optional(nullable(boolean())),\n\t}),\n\tFundsWithdrawal: FundsWithdrawalArgSchema,\n});\nexport type CallArg = InferOutput<typeof CallArgSchema>;\n\nexport const NormalizedCallArg = safeEnum({\n\tObject: ObjectArgSchema,\n\tPure: object({\n\t\tbytes: BCSBytes,\n\t}),\n});\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const ValidDuringSchema = object({\n\tminEpoch: nullable(JsonU64),\n\tmaxEpoch: nullable(JsonU64),\n\tminTimestamp: nullable(JsonU64),\n\tmaxTimestamp: nullable(JsonU64),\n\tchain: string(),\n\tnonce: U32,\n});\nexport type ValidDuring = InferOutput<typeof ValidDuringSchema>;\n\nexport const TransactionExpiration = safeEnum({\n\tNone: literal(true),\n\tEpoch: JsonU64,\n\tValidDuring: ValidDuringSchema,\n});\n\nexport type TransactionExpiration = InferOutput<typeof TransactionExpiration>;\n\nexport const TransactionDataSchema = object({\n\tversion: literal(2),\n\tsender: nullish(SuiAddress),\n\texpiration: nullish(TransactionExpiration),\n\tgasData: GasDataSchema,\n\tinputs: array(CallArgSchema),\n\tcommands: array(CommandSchema),\n});\n\nexport type TransactionData = InferOutput<typeof TransactionDataSchema>;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1184, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/bcs/type-tag-serializer.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/bcs/type-tag-serializer.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { splitGenericParameters } from '@mysten/bcs';\n\nimport { normalizeSuiAddress } from '../utils/sui-types.js';\nimport type { TypeTag } from './types.js';\n\nconst VECTOR_REGEX = /^vector<(.+)>$/;\nconst STRUCT_REGEX = /^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;\n\nexport class TypeTagSerializer {\n\tstatic parseFromStr(str: string, normalizeAddress = false): TypeTag {\n\t\tif (str === 'address') {\n\t\t\treturn { address: null };\n\t\t} else if (str === 'bool') {\n\t\t\treturn { bool: null };\n\t\t} else if (str === 'u8') {\n\t\t\treturn { u8: null };\n\t\t} else if (str === 'u16') {\n\t\t\treturn { u16: null };\n\t\t} else if (str === 'u32') {\n\t\t\treturn { u32: null };\n\t\t} else if (str === 'u64') {\n\t\t\treturn { u64: null };\n\t\t} else if (str === 'u128') {\n\t\t\treturn { u128: null };\n\t\t} else if (str === 'u256') {\n\t\t\treturn { u256: null };\n\t\t} else if (str === 'signer') {\n\t\t\treturn { signer: null };\n\t\t}\n\n\t\tconst vectorMatch = str.match(VECTOR_REGEX);\n\t\tif (vectorMatch) {\n\t\t\treturn {\n\t\t\t\tvector: TypeTagSerializer.parseFromStr(vectorMatch[1], normalizeAddress),\n\t\t\t};\n\t\t}\n\n\t\tconst structMatch = str.match(STRUCT_REGEX);\n\t\tif (structMatch) {\n\t\t\tconst address = normalizeAddress ? normalizeSuiAddress(structMatch[1]) : structMatch[1];\n\t\t\treturn {\n\t\t\t\tstruct: {\n\t\t\t\t\taddress,\n\t\t\t\t\tmodule: structMatch[2],\n\t\t\t\t\tname: structMatch[3],\n\t\t\t\t\ttypeParams:\n\t\t\t\t\t\tstructMatch[5] === undefined\n\t\t\t\t\t\t\t? []\n\t\t\t\t\t\t\t: TypeTagSerializer.parseStructTypeArgs(structMatch[5], normalizeAddress),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tthrow new Error(`Encountered unexpected token when parsing type args for ${str}`);\n\t}\n\n\tstatic parseStructTypeArgs(str: string, normalizeAddress = false): TypeTag[] {\n\t\treturn splitGenericParameters(str).map((tok) =>\n\t\t\tTypeTagSerializer.parseFromStr(tok, normalizeAddress),\n\t\t);\n\t}\n\n\tstatic tagToString(tag: TypeTag): string {\n\t\tif ('bool' in tag) {\n\t\t\treturn 'bool';\n\t\t}\n\t\tif ('u8' in tag) {\n\t\t\treturn 'u8';\n\t\t}\n\t\tif ('u16' in tag) {\n\t\t\treturn 'u16';\n\t\t}\n\t\tif ('u32' in tag) {\n\t\t\treturn 'u32';\n\t\t}\n\t\tif ('u64' in tag) {\n\t\t\treturn 'u64';\n\t\t}\n\t\tif ('u128' in tag) {\n\t\t\treturn 'u128';\n\t\t}\n\t\tif ('u256' in tag) {\n\t\t\treturn 'u256';\n\t\t}\n\t\tif ('address' in tag) {\n\t\t\treturn 'address';\n\t\t}\n\t\tif ('signer' in tag) {\n\t\t\treturn 'signer';\n\t\t}\n\t\tif ('vector' in tag) {\n\t\t\treturn `vector<${TypeTagSerializer.tagToString(tag.vector)}>`;\n\t\t}\n\t\tif ('struct' in tag) {\n\t\t\tconst struct = tag.struct;\n\t\t\tconst typeParams = struct.typeParams.map(TypeTagSerializer.tagToString).join(', ');\n\t\t\treturn `${struct.address}::${struct.module}::${struct.name}${\n\t\t\t\ttypeParams ? `<${typeParams}>` : ''\n\t\t\t}`;\n\t\t}\n\t\tthrow new Error('Invalid TypeTag');\n\t}\n}\n\nexport function normalizeTypeTag(type: string): string {\n\treturn TypeTagSerializer.tagToString(TypeTagSerializer.parseFromStr(type));\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAQA,MAAM,eAAe;AACrB,MAAM,eAAe;AAErB,IAAa,oBAAb,MAAa,kBAAkB;IAC9B,OAAO,aAAa,GAAA,EAAa,mBAAmB,KAAA,EAAgB;QACnE,IAAI,QAAQ,UACX,CAAA,OAAO;YAAE,SAAS;QAAA,CAAM;iBACd,QAAQ,OAClB,CAAA,OAAO;YAAE,MAAM;QAAA,CAAM;iBACX,QAAQ,KAClB,CAAA,OAAO;YAAE,IAAI;QAAA,CAAM;iBACT,QAAQ,MAClB,CAAA,OAAO;YAAE,KAAK;QAAA,CAAM;iBACV,QAAQ,MAClB,CAAA,OAAO;YAAE,KAAK;QAAA,CAAM;iBACV,QAAQ,MAClB,CAAA,OAAO;YAAE,KAAK;QAAA,CAAM;iBACV,QAAQ,OAClB,CAAA,OAAO;YAAE,MAAM;QAAA,CAAM;iBACX,QAAQ,OAClB,CAAA,OAAO;YAAE,MAAM;QAAA,CAAM;iBACX,QAAQ,SAClB,CAAA,OAAO;YAAE,QAAQ;QAAA,CAAM;QAGxB,MAAM,cAAc,IAAI,KAAA,CAAM,aAAa;QAC3C,IAAI,YACH,CAAA,OAAO;YACN,QAAQ,kBAAkB,YAAA,CAAa,WAAA,CAAY,EAAA,EAAI,iBAAiB;QAAA,CACxE;QAGF,MAAM,cAAc,IAAI,KAAA,CAAM,aAAa;QAC3C,IAAI,YAEH,CAAA,OAAO;YACN,QAAQ;gBACP,SAHc,uBAAmB,2LAAA,EAAoB,WAAA,CAAY,EAAA,CAAG,GAAG,WAAA,CAAY,EAAA;gBAInF,QAAQ,WAAA,CAAY,EAAA;gBACpB,MAAM,WAAA,CAAY,EAAA;gBAClB,YACC,WAAA,CAAY,EAAA,KAAO,KAAA,IAChB,EAAE,GACF,kBAAkB,mBAAA,CAAoB,WAAA,CAAY,EAAA,EAAI,iBAAiB;aAC3E;QAAA,CACD;QAGF,MAAM,IAAI,MAAM,CAAA,wDAAA,EAA2D,KAAA,CAAM;;IAGlF,OAAO,oBAAoB,GAAA,EAAa,mBAAmB,KAAA,EAAkB;QAC5E,WAAO,8KAAA,EAAuB,IAAI,CAAC,GAAA,CAAA,CAAK,MACvC,kBAAkB,YAAA,CAAa,KAAK,iBAAiB,CACrD;;IAGF,OAAO,YAAY,GAAA,EAAsB;QACxC,IAAI,UAAU,IACb,CAAA,OAAO;QAER,IAAI,QAAQ,IACX,CAAA,OAAO;QAER,IAAI,SAAS,IACZ,CAAA,OAAO;QAER,IAAI,SAAS,IACZ,CAAA,OAAO;QAER,IAAI,SAAS,IACZ,CAAA,OAAO;QAER,IAAI,UAAU,IACb,CAAA,OAAO;QAER,IAAI,UAAU,IACb,CAAA,OAAO;QAER,IAAI,aAAa,IAChB,CAAA,OAAO;QAER,IAAI,YAAY,IACf,CAAA,OAAO;QAER,IAAI,YAAY,IACf,CAAA,OAAO,CAAA,OAAA,EAAU,kBAAkB,WAAA,CAAY,IAAI,MAAA,CAAO,CAAC,CAAA,CAAA;QAE5D,IAAI,YAAY,KAAK;YACpB,MAAM,SAAS,IAAI,MAAA;YACnB,MAAM,aAAa,OAAO,UAAA,CAAW,GAAA,CAAI,kBAAkB,WAAA,CAAY,CAAC,IAAA,CAAK,KAAK;YAClF,OAAO,GAAG,OAAO,OAAA,CAAQ,EAAA,EAAI,OAAO,MAAA,CAAO,EAAA,EAAI,OAAO,IAAA,GACrD,aAAa,CAAA,CAAA,EAAI,WAAW,CAAA,CAAA,GAAK,IAAA;;QAGnC,MAAM,IAAI,MAAM,kBAAkB;;;AAIpC,SAAgB,iBAAiB,IAAA,EAAsB;IACtD,OAAO,kBAAkB,WAAA,CAAY,kBAAkB,YAAA,CAAa,KAAK,CAAC"}},
    {"offset": {"line": 1272, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/data/v1.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/data/v1.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase64, toBase64 } from '@mysten/bcs';\nimport type { GenericSchema, InferInput, InferOutput } from 'valibot';\nimport {\n\tarray,\n\tbigint,\n\tboolean,\n\tcheck,\n\tinteger,\n\tis,\n\tlazy,\n\tliteral,\n\tnullable,\n\tnullish,\n\tnumber,\n\tobject,\n\toptional,\n\tparse,\n\tpipe,\n\tstring,\n\tunion,\n\tunknown,\n} from 'valibot';\n\nimport { TypeTagSerializer } from '../../bcs/index.js';\nimport type { StructTag as StructTagType, TypeTag as TypeTagType } from '../../bcs/types.js';\nimport { JsonU64, ObjectID, safeEnum, TransactionDataSchema } from './internal.js';\nimport type { Argument, ArgumentSchema, TransactionData } from './internal.js';\n\nexport const ObjectRef = object({\n\tdigest: string(),\n\tobjectId: string(),\n\tversion: union([pipe(number(), integer()), string(), bigint()]),\n});\n\nconst ObjectArg = safeEnum({\n\tImmOrOwned: ObjectRef,\n\tShared: object({\n\t\tobjectId: ObjectID,\n\t\tinitialSharedVersion: JsonU64,\n\t\tmutable: boolean(),\n\t}),\n\tReceiving: ObjectRef,\n});\n\nexport const NormalizedCallArg = safeEnum({\n\tObject: ObjectArg,\n\tPure: array(pipe(number(), integer())),\n});\n\nconst TransactionInput = union([\n\tobject({\n\t\tkind: literal('Input'),\n\t\tindex: pipe(number(), integer()),\n\t\tvalue: unknown(),\n\t\ttype: optional(literal('object')),\n\t}),\n\tobject({\n\t\tkind: literal('Input'),\n\t\tindex: pipe(number(), integer()),\n\t\tvalue: unknown(),\n\t\ttype: literal('pure'),\n\t}),\n]);\n\nconst TransactionExpiration = union([\n\tobject({ Epoch: pipe(number(), integer()) }),\n\tobject({ None: nullable(literal(true)) }),\n]);\n\nconst StringEncodedBigint = pipe(\n\tunion([number(), string(), bigint()]),\n\tcheck((val) => {\n\t\tif (!['string', 'number', 'bigint'].includes(typeof val)) return false;\n\n\t\ttry {\n\t\t\tBigInt(val as string);\n\t\t\treturn true;\n\t\t} catch {\n\t\t\treturn false;\n\t\t}\n\t}),\n);\n\nexport const TypeTag: GenericSchema<TypeTagType> = union([\n\tobject({ bool: nullable(literal(true)) }),\n\tobject({ u8: nullable(literal(true)) }),\n\tobject({ u64: nullable(literal(true)) }),\n\tobject({ u128: nullable(literal(true)) }),\n\tobject({ address: nullable(literal(true)) }),\n\tobject({ signer: nullable(literal(true)) }),\n\tobject({ vector: lazy(() => TypeTag) }),\n\tobject({ struct: lazy(() => StructTag) }),\n\tobject({ u16: nullable(literal(true)) }),\n\tobject({ u32: nullable(literal(true)) }),\n\tobject({ u256: nullable(literal(true)) }),\n]);\n\n// https://github.com/MystenLabs/sui/blob/cea8742e810142a8145fd83c4c142d61e561004a/external-crates/move/crates/move-core-types/src/language_storage.rs#L140-L147\nexport const StructTag: GenericSchema<StructTagType> = object({\n\taddress: string(),\n\tmodule: string(),\n\tname: string(),\n\ttypeParams: array(TypeTag),\n});\n\nconst GasConfig = object({\n\tbudget: optional(StringEncodedBigint),\n\tprice: optional(StringEncodedBigint),\n\tpayment: optional(array(ObjectRef)),\n\towner: optional(string()),\n});\n\nconst TransactionArgumentTypes = [\n\tTransactionInput,\n\tobject({ kind: literal('GasCoin') }),\n\tobject({ kind: literal('Result'), index: pipe(number(), integer()) }),\n\tobject({\n\t\tkind: literal('NestedResult'),\n\t\tindex: pipe(number(), integer()),\n\t\tresultIndex: pipe(number(), integer()),\n\t}),\n] as const;\n\n// Generic transaction argument\nexport const TransactionArgument = union([...TransactionArgumentTypes]);\n\nconst MoveCallTransaction = object({\n\tkind: literal('MoveCall'),\n\ttarget: pipe(\n\t\tstring(),\n\t\tcheck((target) => target.split('::').length === 3),\n\t) as GenericSchema<`${string}::${string}::${string}`>,\n\ttypeArguments: array(string()),\n\targuments: array(TransactionArgument),\n});\n\nconst TransferObjectsTransaction = object({\n\tkind: literal('TransferObjects'),\n\tobjects: array(TransactionArgument),\n\taddress: TransactionArgument,\n});\n\nconst SplitCoinsTransaction = object({\n\tkind: literal('SplitCoins'),\n\tcoin: TransactionArgument,\n\tamounts: array(TransactionArgument),\n});\n\nconst MergeCoinsTransaction = object({\n\tkind: literal('MergeCoins'),\n\tdestination: TransactionArgument,\n\tsources: array(TransactionArgument),\n});\n\nconst MakeMoveVecTransaction = object({\n\tkind: literal('MakeMoveVec'),\n\ttype: union([object({ Some: TypeTag }), object({ None: nullable(literal(true)) })]),\n\tobjects: array(TransactionArgument),\n});\n\nconst PublishTransaction = object({\n\tkind: literal('Publish'),\n\tmodules: array(array(pipe(number(), integer()))),\n\tdependencies: array(string()),\n});\n\nconst UpgradeTransaction = object({\n\tkind: literal('Upgrade'),\n\tmodules: array(array(pipe(number(), integer()))),\n\tdependencies: array(string()),\n\tpackageId: string(),\n\tticket: TransactionArgument,\n});\n\nconst TransactionTypes = [\n\tMoveCallTransaction,\n\tTransferObjectsTransaction,\n\tSplitCoinsTransaction,\n\tMergeCoinsTransaction,\n\tPublishTransaction,\n\tUpgradeTransaction,\n\tMakeMoveVecTransaction,\n] as const;\n\nconst TransactionType = union([...TransactionTypes]);\n\nexport const SerializedTransactionDataV1 = object({\n\tversion: literal(1),\n\tsender: optional(string()),\n\texpiration: nullish(TransactionExpiration),\n\tgasConfig: GasConfig,\n\tinputs: array(TransactionInput),\n\ttransactions: array(TransactionType),\n});\n\nexport type SerializedTransactionDataV1 = InferOutput<typeof SerializedTransactionDataV1>;\n\nexport function serializeV1TransactionData(\n\ttransactionData: TransactionData,\n): SerializedTransactionDataV1 {\n\tconst inputs: InferOutput<typeof TransactionInput>[] = transactionData.inputs.map(\n\t\t(input, index) => {\n\t\t\tif (input.Object) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'Input',\n\t\t\t\t\tindex,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tObject: input.Object.ImmOrOwnedObject\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tImmOrOwned: input.Object.ImmOrOwnedObject,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: input.Object.Receiving\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tReceiving: {\n\t\t\t\t\t\t\t\t\t\t\tdigest: input.Object.Receiving.digest,\n\t\t\t\t\t\t\t\t\t\t\tversion: input.Object.Receiving.version,\n\t\t\t\t\t\t\t\t\t\t\tobjectId: input.Object.Receiving.objectId,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\tShared: {\n\t\t\t\t\t\t\t\t\t\t\tmutable: input.Object.SharedObject.mutable,\n\t\t\t\t\t\t\t\t\t\t\tinitialSharedVersion: input.Object.SharedObject.initialSharedVersion,\n\t\t\t\t\t\t\t\t\t\t\tobjectId: input.Object.SharedObject.objectId,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'object',\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (input.Pure) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'Input',\n\t\t\t\t\tindex,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tPure: Array.from(fromBase64(input.Pure.bytes)),\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'pure',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (input.UnresolvedPure) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'Input',\n\t\t\t\t\ttype: 'pure',\n\t\t\t\t\tindex,\n\t\t\t\t\tvalue: input.UnresolvedPure.value,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (input.UnresolvedObject) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'Input',\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tindex,\n\t\t\t\t\tvalue: input.UnresolvedObject.objectId,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthrow new Error('Invalid input');\n\t\t},\n\t);\n\n\treturn {\n\t\tversion: 1,\n\t\tsender: transactionData.sender ?? undefined,\n\t\texpiration:\n\t\t\ttransactionData.expiration?.$kind === 'Epoch'\n\t\t\t\t? { Epoch: Number(transactionData.expiration.Epoch) }\n\t\t\t\t: transactionData.expiration\n\t\t\t\t\t? { None: true }\n\t\t\t\t\t: null,\n\t\tgasConfig: {\n\t\t\towner: transactionData.gasData.owner ?? undefined,\n\t\t\tbudget: transactionData.gasData.budget ?? undefined,\n\t\t\tprice: transactionData.gasData.price ?? undefined,\n\t\t\tpayment: transactionData.gasData.payment ?? undefined,\n\t\t},\n\t\tinputs,\n\t\ttransactions: transactionData.commands.map((command): InferOutput<typeof TransactionType> => {\n\t\t\tif (command.MakeMoveVec) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'MakeMoveVec',\n\t\t\t\t\ttype:\n\t\t\t\t\t\tcommand.MakeMoveVec.type === null\n\t\t\t\t\t\t\t? { None: true }\n\t\t\t\t\t\t\t: { Some: TypeTagSerializer.parseFromStr(command.MakeMoveVec.type) },\n\t\t\t\t\tobjects: command.MakeMoveVec.elements.map((arg) =>\n\t\t\t\t\t\tconvertTransactionArgument(arg, inputs),\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (command.MergeCoins) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'MergeCoins',\n\t\t\t\t\tdestination: convertTransactionArgument(command.MergeCoins.destination, inputs),\n\t\t\t\t\tsources: command.MergeCoins.sources.map((arg) => convertTransactionArgument(arg, inputs)),\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (command.MoveCall) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'MoveCall',\n\t\t\t\t\ttarget: `${command.MoveCall.package}::${command.MoveCall.module}::${command.MoveCall.function}`,\n\t\t\t\t\ttypeArguments: command.MoveCall.typeArguments,\n\t\t\t\t\targuments: command.MoveCall.arguments.map((arg) =>\n\t\t\t\t\t\tconvertTransactionArgument(arg, inputs),\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (command.Publish) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'Publish',\n\t\t\t\t\tmodules: command.Publish.modules.map((mod) => Array.from(fromBase64(mod))),\n\t\t\t\t\tdependencies: command.Publish.dependencies,\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (command.SplitCoins) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'SplitCoins',\n\t\t\t\t\tcoin: convertTransactionArgument(command.SplitCoins.coin, inputs),\n\t\t\t\t\tamounts: command.SplitCoins.amounts.map((arg) => convertTransactionArgument(arg, inputs)),\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (command.TransferObjects) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'TransferObjects',\n\t\t\t\t\tobjects: command.TransferObjects.objects.map((arg) =>\n\t\t\t\t\t\tconvertTransactionArgument(arg, inputs),\n\t\t\t\t\t),\n\t\t\t\t\taddress: convertTransactionArgument(command.TransferObjects.address, inputs),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (command.Upgrade) {\n\t\t\t\treturn {\n\t\t\t\t\tkind: 'Upgrade',\n\t\t\t\t\tmodules: command.Upgrade.modules.map((mod) => Array.from(fromBase64(mod))),\n\t\t\t\t\tdependencies: command.Upgrade.dependencies,\n\t\t\t\t\tpackageId: command.Upgrade.package,\n\t\t\t\t\tticket: convertTransactionArgument(command.Upgrade.ticket, inputs),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthrow new Error(`Unknown transaction ${Object.keys(command)}`);\n\t\t}),\n\t};\n}\n\nfunction convertTransactionArgument(\n\targ: Argument,\n\tinputs: InferOutput<typeof TransactionInput>[],\n): InferOutput<typeof TransactionArgument> {\n\tif (arg.$kind === 'GasCoin') {\n\t\treturn { kind: 'GasCoin' };\n\t}\n\tif (arg.$kind === 'Result') {\n\t\treturn { kind: 'Result', index: arg.Result };\n\t}\n\tif (arg.$kind === 'NestedResult') {\n\t\treturn { kind: 'NestedResult', index: arg.NestedResult[0], resultIndex: arg.NestedResult[1] };\n\t}\n\tif (arg.$kind === 'Input') {\n\t\treturn inputs[arg.Input];\n\t}\n\n\tthrow new Error(`Invalid argument ${Object.keys(arg)}`);\n}\n\nexport function transactionDataFromV1(data: SerializedTransactionDataV1): TransactionData {\n\treturn parse(TransactionDataSchema, {\n\t\tversion: 2,\n\t\tsender: data.sender ?? null,\n\t\texpiration: data.expiration\n\t\t\t? 'Epoch' in data.expiration\n\t\t\t\t? { Epoch: data.expiration.Epoch }\n\t\t\t\t: { None: true }\n\t\t\t: null,\n\t\tgasData: {\n\t\t\towner: data.gasConfig.owner ?? null,\n\t\t\tbudget: data.gasConfig.budget?.toString() ?? null,\n\t\t\tprice: data.gasConfig.price?.toString() ?? null,\n\t\t\tpayment:\n\t\t\t\tdata.gasConfig.payment?.map((ref) => ({\n\t\t\t\t\tdigest: ref.digest,\n\t\t\t\t\tobjectId: ref.objectId,\n\t\t\t\t\tversion: ref.version.toString(),\n\t\t\t\t})) ?? null,\n\t\t},\n\t\tinputs: data.inputs.map((input) => {\n\t\t\tif (input.kind === 'Input') {\n\t\t\t\tif (is(NormalizedCallArg, input.value)) {\n\t\t\t\t\tconst value = parse(NormalizedCallArg, input.value);\n\n\t\t\t\t\tif (value.Object) {\n\t\t\t\t\t\tif (value.Object.ImmOrOwned) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tObject: {\n\t\t\t\t\t\t\t\t\tImmOrOwnedObject: {\n\t\t\t\t\t\t\t\t\t\tobjectId: value.Object.ImmOrOwned.objectId,\n\t\t\t\t\t\t\t\t\t\tversion: String(value.Object.ImmOrOwned.version),\n\t\t\t\t\t\t\t\t\t\tdigest: value.Object.ImmOrOwned.digest,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value.Object.Shared) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tObject: {\n\t\t\t\t\t\t\t\t\tSharedObject: {\n\t\t\t\t\t\t\t\t\t\tmutable: value.Object.Shared.mutable ?? null,\n\t\t\t\t\t\t\t\t\t\tinitialSharedVersion: value.Object.Shared.initialSharedVersion,\n\t\t\t\t\t\t\t\t\t\tobjectId: value.Object.Shared.objectId,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value.Object.Receiving) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tObject: {\n\t\t\t\t\t\t\t\t\tReceiving: {\n\t\t\t\t\t\t\t\t\t\tdigest: value.Object.Receiving.digest,\n\t\t\t\t\t\t\t\t\t\tversion: String(value.Object.Receiving.version),\n\t\t\t\t\t\t\t\t\t\tobjectId: value.Object.Receiving.objectId,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthrow new Error('Invalid object input');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tPure: {\n\t\t\t\t\t\t\tbytes: toBase64(new Uint8Array(value.Pure)),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (input.type === 'object') {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tUnresolvedObject: {\n\t\t\t\t\t\t\tobjectId: input.value as string,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tUnresolvedPure: {\n\t\t\t\t\t\tvalue: input.value,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthrow new Error('Invalid input');\n\t\t}),\n\t\tcommands: data.transactions.map((transaction) => {\n\t\t\tswitch (transaction.kind) {\n\t\t\t\tcase 'MakeMoveVec':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tMakeMoveVec: {\n\t\t\t\t\t\t\ttype:\n\t\t\t\t\t\t\t\t'Some' in transaction.type\n\t\t\t\t\t\t\t\t\t? TypeTagSerializer.tagToString(transaction.type.Some)\n\t\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\t\telements: transaction.objects.map((arg) => parseV1TransactionArgument(arg)),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\tcase 'MergeCoins': {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tMergeCoins: {\n\t\t\t\t\t\t\tdestination: parseV1TransactionArgument(transaction.destination),\n\t\t\t\t\t\t\tsources: transaction.sources.map((arg) => parseV1TransactionArgument(arg)),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcase 'MoveCall': {\n\t\t\t\t\tconst [pkg, mod, fn] = transaction.target.split('::');\n\t\t\t\t\treturn {\n\t\t\t\t\t\tMoveCall: {\n\t\t\t\t\t\t\tpackage: pkg,\n\t\t\t\t\t\t\tmodule: mod,\n\t\t\t\t\t\t\tfunction: fn,\n\t\t\t\t\t\t\ttypeArguments: transaction.typeArguments,\n\t\t\t\t\t\t\targuments: transaction.arguments.map((arg) => parseV1TransactionArgument(arg)),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcase 'Publish': {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tPublish: {\n\t\t\t\t\t\t\tmodules: transaction.modules.map((mod) => toBase64(Uint8Array.from(mod))),\n\t\t\t\t\t\t\tdependencies: transaction.dependencies,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcase 'SplitCoins': {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tSplitCoins: {\n\t\t\t\t\t\t\tcoin: parseV1TransactionArgument(transaction.coin),\n\t\t\t\t\t\t\tamounts: transaction.amounts.map((arg) => parseV1TransactionArgument(arg)),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcase 'TransferObjects': {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tTransferObjects: {\n\t\t\t\t\t\t\tobjects: transaction.objects.map((arg) => parseV1TransactionArgument(arg)),\n\t\t\t\t\t\t\taddress: parseV1TransactionArgument(transaction.address),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcase 'Upgrade': {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tUpgrade: {\n\t\t\t\t\t\t\tmodules: transaction.modules.map((mod) => toBase64(Uint8Array.from(mod))),\n\t\t\t\t\t\t\tdependencies: transaction.dependencies,\n\t\t\t\t\t\t\tpackage: transaction.packageId,\n\t\t\t\t\t\t\tticket: parseV1TransactionArgument(transaction.ticket),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthrow new Error(`Unknown transaction ${Object.keys(transaction)}`);\n\t\t}),\n\t} satisfies InferInput<typeof TransactionDataSchema>);\n}\n\nfunction parseV1TransactionArgument(\n\targ: InferOutput<typeof TransactionArgument>,\n): InferInput<typeof ArgumentSchema> {\n\tswitch (arg.kind) {\n\t\tcase 'GasCoin': {\n\t\t\treturn { GasCoin: true };\n\t\t}\n\t\tcase 'Result':\n\t\t\treturn { Result: arg.index };\n\t\tcase 'NestedResult': {\n\t\t\treturn { NestedResult: [arg.index, arg.resultIndex] };\n\t\t}\n\t\tcase 'Input': {\n\t\t\treturn { Input: arg.index };\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1764, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/utils.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/utils.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { is } from 'valibot';\n\nimport type { SuiMoveNormalizedType } from '../jsonRpc/index.js';\nimport { normalizeSuiAddress } from '../utils/sui-types.js';\nimport { ArgumentSchema } from './data/internal.js';\nimport type { Argument, CallArg, Command } from './data/internal.js';\n\nexport function extractMutableReference(\n\tnormalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedType | undefined {\n\treturn typeof normalizedType === 'object' && 'MutableReference' in normalizedType\n\t\t? normalizedType.MutableReference\n\t\t: undefined;\n}\n\nexport function extractReference(\n\tnormalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedType | undefined {\n\treturn typeof normalizedType === 'object' && 'Reference' in normalizedType\n\t\t? normalizedType.Reference\n\t\t: undefined;\n}\n\nexport function extractStructTag(\n\tnormalizedType: SuiMoveNormalizedType,\n): Extract<SuiMoveNormalizedType, { Struct: unknown }> | undefined {\n\tif (typeof normalizedType === 'object' && 'Struct' in normalizedType) {\n\t\treturn normalizedType;\n\t}\n\n\tconst ref = extractReference(normalizedType);\n\tconst mutRef = extractMutableReference(normalizedType);\n\n\tif (typeof ref === 'object' && 'Struct' in ref) {\n\t\treturn ref;\n\t}\n\n\tif (typeof mutRef === 'object' && 'Struct' in mutRef) {\n\t\treturn mutRef;\n\t}\n\treturn undefined;\n}\n\nexport function getIdFromCallArg(arg: string | CallArg) {\n\tif (typeof arg === 'string') {\n\t\treturn normalizeSuiAddress(arg);\n\t}\n\n\tif (arg.Object) {\n\t\tif (arg.Object.ImmOrOwnedObject) {\n\t\t\treturn normalizeSuiAddress(arg.Object.ImmOrOwnedObject.objectId);\n\t\t}\n\n\t\tif (arg.Object.Receiving) {\n\t\t\treturn normalizeSuiAddress(arg.Object.Receiving.objectId);\n\t\t}\n\n\t\treturn normalizeSuiAddress(arg.Object.SharedObject.objectId);\n\t}\n\n\tif (arg.UnresolvedObject) {\n\t\treturn normalizeSuiAddress(arg.UnresolvedObject.objectId);\n\t}\n\n\treturn undefined;\n}\n\nexport function isArgument(value: unknown): value is Argument {\n\treturn is(ArgumentSchema, value);\n}\n\nexport function remapCommandArguments(\n\tcommand: Command,\n\tinputMapping: Map<number, number>,\n\tcommandMapping: Map<number, number>,\n) {\n\tconst remapArg = (arg: Argument): Argument => {\n\t\tswitch (arg.$kind) {\n\t\t\tcase 'Input': {\n\t\t\t\tconst newInputIndex = inputMapping.get(arg.Input);\n\t\t\t\tif (newInputIndex === undefined) {\n\t\t\t\t\tthrow new Error(`Input ${arg.Input} not found in input mapping`);\n\t\t\t\t}\n\t\t\t\treturn { ...arg, Input: newInputIndex };\n\t\t\t}\n\t\t\tcase 'Result': {\n\t\t\t\tconst newCommandIndex = commandMapping.get(arg.Result);\n\t\t\t\tif (newCommandIndex !== undefined) {\n\t\t\t\t\treturn { ...arg, Result: newCommandIndex };\n\t\t\t\t}\n\t\t\t\treturn arg;\n\t\t\t}\n\t\t\tcase 'NestedResult': {\n\t\t\t\tconst newCommandIndex = commandMapping.get(arg.NestedResult[0]);\n\t\t\t\tif (newCommandIndex !== undefined) {\n\t\t\t\t\treturn { ...arg, NestedResult: [newCommandIndex, arg.NestedResult[1]] };\n\t\t\t\t}\n\t\t\t\treturn arg;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn arg;\n\t\t}\n\t};\n\n\tswitch (command.$kind) {\n\t\tcase 'MoveCall':\n\t\t\tcommand.MoveCall.arguments = command.MoveCall.arguments.map(remapArg);\n\t\t\tbreak;\n\t\tcase 'TransferObjects':\n\t\t\tcommand.TransferObjects.objects = command.TransferObjects.objects.map(remapArg);\n\t\t\tcommand.TransferObjects.address = remapArg(command.TransferObjects.address);\n\t\t\tbreak;\n\t\tcase 'SplitCoins':\n\t\t\tcommand.SplitCoins.coin = remapArg(command.SplitCoins.coin);\n\t\t\tcommand.SplitCoins.amounts = command.SplitCoins.amounts.map(remapArg);\n\t\t\tbreak;\n\t\tcase 'MergeCoins':\n\t\t\tcommand.MergeCoins.destination = remapArg(command.MergeCoins.destination);\n\t\t\tcommand.MergeCoins.sources = command.MergeCoins.sources.map(remapArg);\n\t\t\tbreak;\n\t\tcase 'MakeMoveVec':\n\t\t\tcommand.MakeMoveVec.elements = command.MakeMoveVec.elements.map(remapArg);\n\t\t\tbreak;\n\t\tcase 'Upgrade':\n\t\t\tcommand.Upgrade.ticket = remapArg(command.Upgrade.ticket);\n\t\t\tbreak;\n\t\tcase '$Intent': {\n\t\t\tconst inputs = command.$Intent.inputs;\n\t\t\tcommand.$Intent.inputs = {};\n\n\t\t\tfor (const [key, value] of Object.entries(inputs)) {\n\t\t\t\tcommand.$Intent.inputs[key] = Array.isArray(value) ? value.map(remapArg) : remapArg(value);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 'Publish':\n\t\t\tbreak;\n\t}\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1867, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/bcs/bcs.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/bcs/bcs.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { BcsType, BcsTypeOptions } from '@mysten/bcs';\nimport { bcs, fromBase58, fromBase64, fromHex, toBase58, toBase64, toHex } from '@mysten/bcs';\n\nimport { isValidSuiAddress, normalizeSuiAddress, SUI_ADDRESS_LENGTH } from '../utils/sui-types.js';\nimport { TypeTagSerializer } from './type-tag-serializer.js';\nimport type { TypeTag as TypeTagType } from './types.js';\n\nfunction unsafe_u64(options?: BcsTypeOptions<number>) {\n\treturn bcs\n\t\t.u64({\n\t\t\tname: 'unsafe_u64',\n\t\t\t...(options as object),\n\t\t})\n\t\t.transform({\n\t\t\tinput: (val: number | string) => val,\n\t\t\toutput: (val) => Number(val),\n\t\t});\n}\n\nfunction optionEnum<T extends BcsType<any, any>>(type: T) {\n\treturn bcs.enum('Option', {\n\t\tNone: null,\n\t\tSome: type,\n\t});\n}\n\nexport const Address = bcs.bytes(SUI_ADDRESS_LENGTH).transform({\n\tvalidate: (val) => {\n\t\tconst address = typeof val === 'string' ? val : toHex(val);\n\t\tif (!address || !isValidSuiAddress(normalizeSuiAddress(address))) {\n\t\t\tthrow new Error(`Invalid Sui address ${address}`);\n\t\t}\n\t},\n\tinput: (val: string | Uint8Array) =>\n\t\ttypeof val === 'string' ? fromHex(normalizeSuiAddress(val)) : val,\n\toutput: (val) => normalizeSuiAddress(toHex(val)),\n});\n\nexport const ObjectDigest = bcs.byteVector().transform({\n\tname: 'ObjectDigest',\n\tinput: (value: string) => fromBase58(value),\n\toutput: (value) => toBase58(new Uint8Array(value)),\n\tvalidate: (value) => {\n\t\tif (fromBase58(value).length !== 32) {\n\t\t\tthrow new Error('ObjectDigest must be 32 bytes');\n\t\t}\n\t},\n});\n\nexport const SuiObjectRef = bcs.struct('SuiObjectRef', {\n\tobjectId: Address,\n\tversion: bcs.u64(),\n\tdigest: ObjectDigest,\n});\n\nexport const SharedObjectRef = bcs.struct('SharedObjectRef', {\n\tobjectId: Address,\n\tinitialSharedVersion: bcs.u64(),\n\tmutable: bcs.bool(),\n});\n\nexport const ObjectArg = bcs.enum('ObjectArg', {\n\tImmOrOwnedObject: SuiObjectRef,\n\tSharedObject: SharedObjectRef,\n\tReceiving: SuiObjectRef,\n});\n\n// Rust: crates/sui-types/src/object.rs\nexport const Owner = bcs.enum('Owner', {\n\tAddressOwner: Address,\n\tObjectOwner: Address,\n\tShared: bcs.struct('Shared', {\n\t\tinitialSharedVersion: bcs.u64(),\n\t}),\n\tImmutable: null,\n\tConsensusAddressOwner: bcs.struct('ConsensusAddressOwner', {\n\t\tstartVersion: bcs.u64(),\n\t\towner: Address,\n\t}),\n});\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const Reservation = bcs.enum('Reservation', {\n\tMaxAmountU64: bcs.u64(),\n});\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const WithdrawalType = bcs.enum('WithdrawalType', {\n\tBalance: bcs.lazy(() => TypeTag),\n});\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const WithdrawFrom = bcs.enum('WithdrawFrom', {\n\tSender: null,\n\tSponsor: null,\n});\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const FundsWithdrawal = bcs.struct('FundsWithdrawal', {\n\treservation: Reservation,\n\ttypeArg: WithdrawalType,\n\twithdrawFrom: WithdrawFrom,\n});\n\nexport const CallArg = bcs.enum('CallArg', {\n\tPure: bcs.struct('Pure', {\n\t\tbytes: bcs.byteVector().transform({\n\t\t\tinput: (val: string | Uint8Array) => (typeof val === 'string' ? fromBase64(val) : val),\n\t\t\toutput: (val) => toBase64(new Uint8Array(val)),\n\t\t}),\n\t}),\n\tObject: ObjectArg,\n\tFundsWithdrawal: FundsWithdrawal,\n});\n\nconst InnerTypeTag: BcsType<TypeTagType, TypeTagType> = bcs.enum('TypeTag', {\n\tbool: null,\n\tu8: null,\n\tu64: null,\n\tu128: null,\n\taddress: null,\n\tsigner: null,\n\tvector: bcs.lazy(() => InnerTypeTag),\n\tstruct: bcs.lazy(() => StructTag),\n\tu16: null,\n\tu32: null,\n\tu256: null,\n}) as BcsType<TypeTagType>;\n\nexport const TypeTag = InnerTypeTag.transform({\n\tinput: (typeTag: string | TypeTagType) =>\n\t\ttypeof typeTag === 'string' ? TypeTagSerializer.parseFromStr(typeTag, true) : typeTag,\n\toutput: (typeTag: TypeTagType) => TypeTagSerializer.tagToString(typeTag),\n});\n\nexport const Argument = bcs.enum('Argument', {\n\tGasCoin: null,\n\tInput: bcs.u16(),\n\tResult: bcs.u16(),\n\tNestedResult: bcs.tuple([bcs.u16(), bcs.u16()]),\n});\n\nexport const ProgrammableMoveCall = bcs.struct('ProgrammableMoveCall', {\n\tpackage: Address,\n\tmodule: bcs.string(),\n\tfunction: bcs.string(),\n\ttypeArguments: bcs.vector(TypeTag),\n\targuments: bcs.vector(Argument),\n});\n\nexport const Command = bcs.enum('Command', {\n\t/**\n\t * A Move Call - any public Move function can be called via\n\t * this transaction. The results can be used that instant to pass\n\t * into the next transaction.\n\t */\n\tMoveCall: ProgrammableMoveCall,\n\t/**\n\t * Transfer vector of objects to a receiver.\n\t */\n\tTransferObjects: bcs.struct('TransferObjects', {\n\t\tobjects: bcs.vector(Argument),\n\t\taddress: Argument,\n\t}),\n\t// /**\n\t//  * Split `amount` from a `coin`.\n\t//  */\n\tSplitCoins: bcs.struct('SplitCoins', {\n\t\tcoin: Argument,\n\t\tamounts: bcs.vector(Argument),\n\t}),\n\t// /**\n\t//  * Merge Vector of Coins (`sources`) into a `destination`.\n\t//  */\n\tMergeCoins: bcs.struct('MergeCoins', {\n\t\tdestination: Argument,\n\t\tsources: bcs.vector(Argument),\n\t}),\n\t// /**\n\t//  * Publish a Move module.\n\t//  */\n\tPublish: bcs.struct('Publish', {\n\t\tmodules: bcs.vector(\n\t\t\tbcs.byteVector().transform({\n\t\t\t\tinput: (val: string | Uint8Array) => (typeof val === 'string' ? fromBase64(val) : val),\n\t\t\t\toutput: (val) => toBase64(new Uint8Array(val)),\n\t\t\t}),\n\t\t),\n\t\tdependencies: bcs.vector(Address),\n\t}),\n\t// /**\n\t//  * Build a vector of objects using the input arguments.\n\t//  * It is impossible to export construct a `vector<T: key>` otherwise,\n\t//  * so this call serves a utility function.\n\t//  */\n\tMakeMoveVec: bcs.struct('MakeMoveVec', {\n\t\ttype: optionEnum(TypeTag).transform({\n\t\t\tinput: (val: string | null) =>\n\t\t\t\tval === null\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tNone: true,\n\t\t\t\t\t\t}\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tSome: val,\n\t\t\t\t\t\t},\n\t\t\toutput: (val) => val.Some ?? null,\n\t\t}),\n\t\telements: bcs.vector(Argument),\n\t}),\n\tUpgrade: bcs.struct('Upgrade', {\n\t\tmodules: bcs.vector(\n\t\t\tbcs.byteVector().transform({\n\t\t\t\tinput: (val: string | Uint8Array) => (typeof val === 'string' ? fromBase64(val) : val),\n\t\t\t\toutput: (val) => toBase64(new Uint8Array(val)),\n\t\t\t}),\n\t\t),\n\t\tdependencies: bcs.vector(Address),\n\t\tpackage: Address,\n\t\tticket: Argument,\n\t}),\n});\n\nexport const ProgrammableTransaction = bcs.struct('ProgrammableTransaction', {\n\tinputs: bcs.vector(CallArg),\n\tcommands: bcs.vector(Command),\n});\n\nexport const TransactionKind = bcs.enum('TransactionKind', {\n\tProgrammableTransaction: ProgrammableTransaction,\n\tChangeEpoch: null,\n\tGenesis: null,\n\tConsensusCommitPrologue: null,\n});\n\n// Rust: crates/sui-types/src/transaction.rs\nexport const ValidDuring = bcs.struct('ValidDuring', {\n\tminEpoch: bcs.option(bcs.u64()),\n\tmaxEpoch: bcs.option(bcs.u64()),\n\tminTimestamp: bcs.option(bcs.u64()),\n\tmaxTimestamp: bcs.option(bcs.u64()),\n\tchain: ObjectDigest,\n\tnonce: bcs.u32(),\n});\n\nexport const TransactionExpiration = bcs.enum('TransactionExpiration', {\n\tNone: null,\n\tEpoch: unsafe_u64(),\n\tValidDuring: ValidDuring,\n});\n\nexport const StructTag = bcs.struct('StructTag', {\n\taddress: Address,\n\tmodule: bcs.string(),\n\tname: bcs.string(),\n\ttypeParams: bcs.vector(InnerTypeTag),\n});\n\nexport const GasData = bcs.struct('GasData', {\n\tpayment: bcs.vector(SuiObjectRef),\n\towner: Address,\n\tprice: bcs.u64(),\n\tbudget: bcs.u64(),\n});\n\nexport const TransactionDataV1 = bcs.struct('TransactionDataV1', {\n\tkind: TransactionKind,\n\tsender: Address,\n\tgasData: GasData,\n\texpiration: TransactionExpiration,\n});\n\nexport const TransactionData = bcs.enum('TransactionData', {\n\tV1: TransactionDataV1,\n});\n\nexport const IntentScope = bcs.enum('IntentScope', {\n\tTransactionData: null,\n\tTransactionEffects: null,\n\tCheckpointSummary: null,\n\tPersonalMessage: null,\n});\n\nexport const IntentVersion = bcs.enum('IntentVersion', {\n\tV0: null,\n});\n\nexport const AppId = bcs.enum('AppId', {\n\tSui: null,\n});\n\nexport const Intent = bcs.struct('Intent', {\n\tscope: IntentScope,\n\tversion: IntentVersion,\n\tappId: AppId,\n});\n\nexport function IntentMessage<T extends BcsType<any>>(T: T) {\n\treturn bcs.struct(`IntentMessage<${T.name}>`, {\n\t\tintent: Intent,\n\t\tvalue: T,\n\t});\n}\n\nexport const CompressedSignature = bcs.enum('CompressedSignature', {\n\tED25519: bcs.bytes(64),\n\tSecp256k1: bcs.bytes(64),\n\tSecp256r1: bcs.bytes(64),\n\tZkLogin: bcs.byteVector(),\n\tPasskey: bcs.byteVector(),\n});\n\nexport const PublicKey = bcs.enum('PublicKey', {\n\tED25519: bcs.bytes(32),\n\tSecp256k1: bcs.bytes(33),\n\tSecp256r1: bcs.bytes(33),\n\tZkLogin: bcs.byteVector(),\n\tPasskey: bcs.bytes(33),\n});\n\nexport const MultiSigPkMap = bcs.struct('MultiSigPkMap', {\n\tpubKey: PublicKey,\n\tweight: bcs.u8(),\n});\n\nexport const MultiSigPublicKey = bcs.struct('MultiSigPublicKey', {\n\tpk_map: bcs.vector(MultiSigPkMap),\n\tthreshold: bcs.u16(),\n});\n\nexport const MultiSig = bcs.struct('MultiSig', {\n\tsigs: bcs.vector(CompressedSignature),\n\tbitmap: bcs.u16(),\n\tmultisig_pk: MultiSigPublicKey,\n});\n\nexport const base64String = bcs.byteVector().transform({\n\tinput: (val: string | Uint8Array) => (typeof val === 'string' ? fromBase64(val) : val),\n\toutput: (val) => toBase64(new Uint8Array(val)),\n});\n\nexport const SenderSignedTransaction = bcs.struct('SenderSignedTransaction', {\n\tintentMessage: IntentMessage(TransactionData),\n\ttxSignatures: bcs.vector(base64String),\n});\n\nexport const SenderSignedData = bcs.vector(SenderSignedTransaction, {\n\tname: 'SenderSignedData',\n});\n\nexport const PasskeyAuthenticator = bcs.struct('PasskeyAuthenticator', {\n\tauthenticatorData: bcs.byteVector(),\n\tclientDataJson: bcs.string(),\n\tuserSignature: bcs.byteVector(),\n});\n\n// Rust: crates/sui-types/src/object.rs\nexport const MoveObjectType = bcs.enum('MoveObjectType', {\n\tOther: StructTag,\n\tGasCoin: null,\n\tStakedSui: null,\n\tCoin: TypeTag,\n\tAccumulatorBalanceWrapper: null,\n});\n\n// Rust: crates/sui-types/src/object.rs\nexport const TypeOrigin = bcs.struct('TypeOrigin', {\n\tmoduleName: bcs.string(),\n\tdatatypeName: bcs.string(),\n\tpackage: Address,\n});\n\n// Rust: crates/sui-types/src/object.rs\nexport const UpgradeInfo = bcs.struct('UpgradeInfo', {\n\tupgradedId: Address,\n\tupgradedVersion: bcs.u64(),\n});\n\n// Rust: crates/sui-types/src/object.rs\nexport const MovePackage = bcs.struct('MovePackage', {\n\tid: Address,\n\tversion: bcs.u64(),\n\tmoduleMap: bcs.map(bcs.string(), bcs.byteVector()),\n\ttypeOriginTable: bcs.vector(TypeOrigin),\n\tlinkageTable: bcs.map(Address, UpgradeInfo),\n});\n\n// Rust: crates/sui-types/src/object.rs\nexport const MoveObject = bcs.struct('MoveObject', {\n\ttype: MoveObjectType,\n\thasPublicTransfer: bcs.bool(),\n\tversion: bcs.u64(),\n\tcontents: bcs.byteVector(),\n});\n\n// Rust: crates/sui-types/src/object.rs\nexport const Data = bcs.enum('Data', {\n\tMove: MoveObject,\n\tPackage: MovePackage,\n});\n\n// Rust: crates/sui-types/src/object.rs\nexport const ObjectInner = bcs.struct('ObjectInner', {\n\tdata: Data,\n\towner: Owner,\n\tpreviousTransaction: ObjectDigest,\n\tstorageRebate: bcs.u64(),\n});\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,SAAS,WAAW,OAAA,EAAkC;IACrD,OAAO,yJAAA,CACL,GAAA,CAAI;QACJ,MAAM;QACN,GAAI,OAAA;KACJ,CAAC,CACD,SAAA,CAAU;QACV,OAAA,CAAQ,MAAyB;QACjC,QAAA,CAAS,MAAQ,OAAO,IAAI;KAC5B,CAAC;;AAGJ,SAAS,WAAwC,IAAA,EAAS;IACzD,OAAO,yJAAA,CAAI,IAAA,CAAK,UAAU;QACzB,MAAM;QACN,MAAM;KACN,CAAC;;AAGH,MAAa,UAAU,yJAAA,CAAI,KAAA,CAAM,0LAAA,CAAmB,CAAC,SAAA,CAAU;IAC9D,UAAA,CAAW,QAAQ;QAClB,MAAM,UAAU,OAAO,QAAQ,WAAW,UAAM,6JAAA,EAAM,IAAI;QAC1D,IAAI,CAAC,WAAW,KAAC,yLAAA,MAAkB,2LAAA,EAAoB,QAAQ,CAAC,CAC/D,CAAA,MAAM,IAAI,MAAM,CAAA,oBAAA,EAAuB,SAAA,CAAU;;IAGnD,OAAA,CAAQ,MACP,OAAO,QAAQ,eAAW,+JAAA,MAAQ,2LAAA,EAAoB,IAAI,CAAC,GAAG;IAC/D,QAAA,CAAS,UAAQ,2LAAA,MAAoB,6JAAA,EAAM,IAAI,CAAC;CAChD,CAAC;AAEF,MAAa,eAAe,yJAAA,CAAI,UAAA,EAAY,CAAC,SAAA,CAAU;IACtD,MAAM;IACN,OAAA,CAAQ,YAAkB,kKAAA,EAAW,MAAM;IAC3C,QAAA,CAAS,YAAU,gKAAA,EAAS,IAAI,WAAW,MAAM,CAAC;IAClD,UAAA,CAAW,UAAU;QACpB,QAAI,kKAAA,EAAW,MAAM,CAAC,MAAA,KAAW,GAChC,CAAA,MAAM,IAAI,MAAM,gCAAgC;;CAGlD,CAAC;AAEF,MAAa,eAAe,yJAAA,CAAI,MAAA,CAAO,gBAAgB;IACtD,UAAU;IACV,SAAS,yJAAA,CAAI,GAAA,EAAK;IAClB,QAAQ;CACR,CAAC;AAEF,MAAa,kBAAkB,yJAAA,CAAI,MAAA,CAAO,mBAAmB;IAC5D,UAAU;IACV,sBAAsB,yJAAA,CAAI,GAAA,EAAK;IAC/B,SAAS,yJAAA,CAAI,IAAA,EAAM;CACnB,CAAC;AAEF,MAAa,YAAY,yJAAA,CAAI,IAAA,CAAK,aAAa;IAC9C,kBAAkB;IAClB,cAAc;IACd,WAAW;CACX,CAAC;AAGF,MAAa,QAAQ,yJAAA,CAAI,IAAA,CAAK,SAAS;IACtC,cAAc;IACd,aAAa;IACb,QAAQ,yJAAA,CAAI,MAAA,CAAO,UAAU;QAC5B,sBAAsB,yJAAA,CAAI,GAAA,EAAK;IAAA,CAC/B,CAAC;IACF,WAAW;IACX,uBAAuB,yJAAA,CAAI,MAAA,CAAO,yBAAyB;QAC1D,cAAc,yJAAA,CAAI,GAAA,EAAK;QACvB,OAAO;KACP,CAAC;CACF,CAAC;AAGF,MAAa,cAAc,yJAAA,CAAI,IAAA,CAAK,eAAe;IAClD,cAAc,yJAAA,CAAI,GAAA,EAAK;AAAA,CACvB,CAAC;AAGF,MAAa,iBAAiB,yJAAA,CAAI,IAAA,CAAK,kBAAkB;IACxD,SAAS,yJAAA,CAAI,IAAA,CAAA,IAAW,QAAQ;AAAA,CAChC,CAAC;AAGF,MAAa,eAAe,yJAAA,CAAI,IAAA,CAAK,gBAAgB;IACpD,QAAQ;IACR,SAAS;CACT,CAAC;AAGF,MAAa,kBAAkB,yJAAA,CAAI,MAAA,CAAO,mBAAmB;IAC5D,aAAa;IACb,SAAS;IACT,cAAc;CACd,CAAC;AAEF,MAAa,UAAU,yJAAA,CAAI,IAAA,CAAK,WAAW;IAC1C,MAAM,yJAAA,CAAI,MAAA,CAAO,QAAQ;QACxB,OAAO,yJAAA,CAAI,UAAA,EAAY,CAAC,SAAA,CAAU;YACjC,OAAA,CAAQ,MAA8B,OAAO,QAAQ,eAAW,kKAAA,EAAW,IAAI,GAAG;YAClF,QAAA,CAAS,UAAQ,gKAAA,EAAS,IAAI,WAAW,IAAI,CAAC;SAC9C,CAAC;IAAA,CACF,CAAC;IACF,QAAQ;IACS;CACjB,CAAC;AAEF,MAAM,eAAkD,yJAAA,CAAI,IAAA,CAAK,WAAW;IAC3E,MAAM;IACN,IAAI;IACJ,KAAK;IACL,MAAM;IACN,SAAS;IACT,QAAQ;IACR,QAAQ,yJAAA,CAAI,IAAA,CAAA,IAAW,aAAa;IACpC,QAAQ,yJAAA,CAAI,IAAA,CAAA,IAAW,UAAU;IACjC,KAAK;IACL,KAAK;IACL,MAAM;CACN,CAAC;AAEF,MAAa,UAAU,aAAa,SAAA,CAAU;IAC7C,OAAA,CAAQ,UACP,OAAO,YAAY,WAAW,oMAAA,CAAkB,YAAA,CAAa,SAAS,KAAK,GAAG;IAC/E,QAAA,CAAS,UAAyB,oMAAA,CAAkB,WAAA,CAAY,QAAQ;CACxE,CAAC;AAEF,MAAa,WAAW,yJAAA,CAAI,IAAA,CAAK,YAAY;IAC5C,SAAS;IACT,OAAO,yJAAA,CAAI,GAAA,EAAK;IAChB,QAAQ,yJAAA,CAAI,GAAA,EAAK;IACjB,cAAc,yJAAA,CAAI,KAAA,CAAM;QAAC,yJAAA,CAAI,GAAA,EAAK;QAAE,yJAAA,CAAI,GAAA,EAAK;KAAC,CAAC;CAC/C,CAAC;AAEF,MAAa,uBAAuB,yJAAA,CAAI,MAAA,CAAO,wBAAwB;IACtE,SAAS;IACT,QAAQ,yJAAA,CAAI,MAAA,EAAQ;IACpB,UAAU,yJAAA,CAAI,MAAA,EAAQ;IACtB,eAAe,yJAAA,CAAI,MAAA,CAAO,QAAQ;IAClC,WAAW,yJAAA,CAAI,MAAA,CAAO,SAAS;CAC/B,CAAC;AAEF,MAAa,UAAU,yJAAA,CAAI,IAAA,CAAK,WAAW;IAM1C,UAAU;IAIV,iBAAiB,yJAAA,CAAI,MAAA,CAAO,mBAAmB;QAC9C,SAAS,yJAAA,CAAI,MAAA,CAAO,SAAS;QAC7B,SAAS;KACT,CAAC;IAIF,YAAY,yJAAA,CAAI,MAAA,CAAO,cAAc;QACpC,MAAM;QACN,SAAS,yJAAA,CAAI,MAAA,CAAO,SAAS;KAC7B,CAAC;IAIF,YAAY,yJAAA,CAAI,MAAA,CAAO,cAAc;QACpC,aAAa;QACb,SAAS,yJAAA,CAAI,MAAA,CAAO,SAAS;KAC7B,CAAC;IAIF,SAAS,yJAAA,CAAI,MAAA,CAAO,WAAW;QAC9B,SAAS,yJAAA,CAAI,MAAA,CACZ,yJAAA,CAAI,UAAA,EAAY,CAAC,SAAA,CAAU;YAC1B,OAAA,CAAQ,MAA8B,OAAO,QAAQ,eAAW,kKAAA,EAAW,IAAI,GAAG;YAClF,QAAA,CAAS,UAAQ,gKAAA,EAAS,IAAI,WAAW,IAAI,CAAC;SAC9C,CAAC,CACF;QACD,cAAc,yJAAA,CAAI,MAAA,CAAO,QAAQ;KACjC,CAAC;IAMF,aAAa,yJAAA,CAAI,MAAA,CAAO,eAAe;QACtC,MAAM,WAAW,QAAQ,CAAC,SAAA,CAAU;YACnC,OAAA,CAAQ,MACP,QAAQ,OACL;oBACA,MAAM;gBAAA,CACN,GACA;oBACA,MAAM;gBAAA,CACN;YACJ,QAAA,CAAS,MAAQ,IAAI,IAAA,IAAQ;SAC7B,CAAC;QACF,UAAU,yJAAA,CAAI,MAAA,CAAO,SAAS;KAC9B,CAAC;IACF,SAAS,yJAAA,CAAI,MAAA,CAAO,WAAW;QAC9B,SAAS,yJAAA,CAAI,MAAA,CACZ,yJAAA,CAAI,UAAA,EAAY,CAAC,SAAA,CAAU;YAC1B,OAAA,CAAQ,MAA8B,OAAO,QAAQ,eAAW,kKAAA,EAAW,IAAI,GAAG;YAClF,QAAA,CAAS,UAAQ,gKAAA,EAAS,IAAI,WAAW,IAAI,CAAC;SAC9C,CAAC,CACF;QACD,cAAc,yJAAA,CAAI,MAAA,CAAO,QAAQ;QACjC,SAAS;QACT,QAAQ;KACR,CAAC;CACF,CAAC;AAEF,MAAa,0BAA0B,yJAAA,CAAI,MAAA,CAAO,2BAA2B;IAC5E,QAAQ,yJAAA,CAAI,MAAA,CAAO,QAAQ;IAC3B,UAAU,yJAAA,CAAI,MAAA,CAAO,QAAQ;CAC7B,CAAC;AAEF,MAAa,kBAAkB,yJAAA,CAAI,IAAA,CAAK,mBAAmB;IACjC;IACzB,aAAa;IACb,SAAS;IACT,yBAAyB;CACzB,CAAC;AAGF,MAAa,cAAc,yJAAA,CAAI,MAAA,CAAO,eAAe;IACpD,UAAU,yJAAA,CAAI,MAAA,CAAO,yJAAA,CAAI,GAAA,EAAK,CAAC;IAC/B,UAAU,yJAAA,CAAI,MAAA,CAAO,yJAAA,CAAI,GAAA,EAAK,CAAC;IAC/B,cAAc,yJAAA,CAAI,MAAA,CAAO,yJAAA,CAAI,GAAA,EAAK,CAAC;IACnC,cAAc,yJAAA,CAAI,MAAA,CAAO,yJAAA,CAAI,GAAA,EAAK,CAAC;IACnC,OAAO;IACP,OAAO,yJAAA,CAAI,GAAA,EAAK;CAChB,CAAC;AAEF,MAAa,wBAAwB,yJAAA,CAAI,IAAA,CAAK,yBAAyB;IACtE,MAAM;IACN,OAAO,YAAY;IACN;CACb,CAAC;AAEF,MAAa,YAAY,yJAAA,CAAI,MAAA,CAAO,aAAa;IAChD,SAAS;IACT,QAAQ,yJAAA,CAAI,MAAA,EAAQ;IACpB,MAAM,yJAAA,CAAI,MAAA,EAAQ;IAClB,YAAY,yJAAA,CAAI,MAAA,CAAO,aAAa;CACpC,CAAC;AAEF,MAAa,UAAU,yJAAA,CAAI,MAAA,CAAO,WAAW;IAC5C,SAAS,yJAAA,CAAI,MAAA,CAAO,aAAa;IACjC,OAAO;IACP,OAAO,yJAAA,CAAI,GAAA,EAAK;IAChB,QAAQ,yJAAA,CAAI,GAAA,EAAK;CACjB,CAAC;AAEF,MAAa,oBAAoB,yJAAA,CAAI,MAAA,CAAO,qBAAqB;IAChE,MAAM;IACN,QAAQ;IACR,SAAS;IACT,YAAY;CACZ,CAAC;AAEF,MAAa,kBAAkB,yJAAA,CAAI,IAAA,CAAK,mBAAmB;IAC1D,IAAI;AAAA,CACJ,CAAC;AAEF,MAAa,cAAc,yJAAA,CAAI,IAAA,CAAK,eAAe;IAClD,iBAAiB;IACjB,oBAAoB;IACpB,mBAAmB;IACnB,iBAAiB;CACjB,CAAC;AAEF,MAAa,gBAAgB,yJAAA,CAAI,IAAA,CAAK,iBAAiB;IACtD,IAAI;AAAA,CACJ,CAAC;AAEF,MAAa,QAAQ,yJAAA,CAAI,IAAA,CAAK,SAAS;IACtC,KAAK;AAAA,CACL,CAAC;AAEF,MAAa,SAAS,yJAAA,CAAI,MAAA,CAAO,UAAU;IAC1C,OAAO;IACP,SAAS;IACT,OAAO;CACP,CAAC;AAEF,SAAgB,cAAsC,CAAA,EAAM;IAC3D,OAAO,yJAAA,CAAI,MAAA,CAAO,CAAA,cAAA,EAAiB,EAAE,IAAA,CAAK,CAAA,CAAA,EAAI;QAC7C,QAAQ;QACR,OAAO;KACP,CAAC;;AAGH,MAAa,sBAAsB,yJAAA,CAAI,IAAA,CAAK,uBAAuB;IAClE,SAAS,yJAAA,CAAI,KAAA,CAAM,GAAG;IACtB,WAAW,yJAAA,CAAI,KAAA,CAAM,GAAG;IACxB,WAAW,yJAAA,CAAI,KAAA,CAAM,GAAG;IACxB,SAAS,yJAAA,CAAI,UAAA,EAAY;IACzB,SAAS,yJAAA,CAAI,UAAA,EAAY;CACzB,CAAC;AAEF,MAAa,YAAY,yJAAA,CAAI,IAAA,CAAK,aAAa;IAC9C,SAAS,yJAAA,CAAI,KAAA,CAAM,GAAG;IACtB,WAAW,yJAAA,CAAI,KAAA,CAAM,GAAG;IACxB,WAAW,yJAAA,CAAI,KAAA,CAAM,GAAG;IACxB,SAAS,yJAAA,CAAI,UAAA,EAAY;IACzB,SAAS,yJAAA,CAAI,KAAA,CAAM,GAAG;CACtB,CAAC;AAEF,MAAa,gBAAgB,yJAAA,CAAI,MAAA,CAAO,iBAAiB;IACxD,QAAQ;IACR,QAAQ,yJAAA,CAAI,EAAA,EAAI;CAChB,CAAC;AAEF,MAAa,oBAAoB,yJAAA,CAAI,MAAA,CAAO,qBAAqB;IAChE,QAAQ,yJAAA,CAAI,MAAA,CAAO,cAAc;IACjC,WAAW,yJAAA,CAAI,GAAA,EAAK;CACpB,CAAC;AAEF,MAAa,WAAW,yJAAA,CAAI,MAAA,CAAO,YAAY;IAC9C,MAAM,yJAAA,CAAI,MAAA,CAAO,oBAAoB;IACrC,QAAQ,yJAAA,CAAI,GAAA,EAAK;IACjB,aAAa;CACb,CAAC;AAEF,MAAa,eAAe,yJAAA,CAAI,UAAA,EAAY,CAAC,SAAA,CAAU;IACtD,OAAA,CAAQ,MAA8B,OAAO,QAAQ,eAAW,kKAAA,EAAW,IAAI,GAAG;IAClF,QAAA,CAAS,UAAQ,gKAAA,EAAS,IAAI,WAAW,IAAI,CAAC;CAC9C,CAAC;AAEF,MAAa,0BAA0B,yJAAA,CAAI,MAAA,CAAO,2BAA2B;IAC5E,eAAe,cAAc,gBAAgB;IAC7C,cAAc,yJAAA,CAAI,MAAA,CAAO,aAAa;CACtC,CAAC;AAEF,MAAa,mBAAmB,yJAAA,CAAI,MAAA,CAAO,yBAAyB;IACnE,MAAM;AAAA,CACN,CAAC;AAEF,MAAa,uBAAuB,yJAAA,CAAI,MAAA,CAAO,wBAAwB;IACtE,mBAAmB,yJAAA,CAAI,UAAA,EAAY;IACnC,gBAAgB,yJAAA,CAAI,MAAA,EAAQ;IAC5B,eAAe,yJAAA,CAAI,UAAA,EAAY;CAC/B,CAAC;AAGF,MAAa,iBAAiB,yJAAA,CAAI,IAAA,CAAK,kBAAkB;IACxD,OAAO;IACP,SAAS;IACT,WAAW;IACX,MAAM;IACN,2BAA2B;CAC3B,CAAC;AAGF,MAAa,aAAa,yJAAA,CAAI,MAAA,CAAO,cAAc;IAClD,YAAY,yJAAA,CAAI,MAAA,EAAQ;IACxB,cAAc,yJAAA,CAAI,MAAA,EAAQ;IAC1B,SAAS;CACT,CAAC;AAGF,MAAa,cAAc,yJAAA,CAAI,MAAA,CAAO,eAAe;IACpD,YAAY;IACZ,iBAAiB,yJAAA,CAAI,GAAA,EAAK;CAC1B,CAAC;AAGF,MAAa,cAAc,yJAAA,CAAI,MAAA,CAAO,eAAe;IACpD,IAAI;IACJ,SAAS,yJAAA,CAAI,GAAA,EAAK;IAClB,WAAW,yJAAA,CAAI,GAAA,CAAI,yJAAA,CAAI,MAAA,EAAQ,EAAE,yJAAA,CAAI,UAAA,EAAY,CAAC;IAClD,iBAAiB,yJAAA,CAAI,MAAA,CAAO,WAAW;IACvC,cAAc,yJAAA,CAAI,GAAA,CAAI,SAAS,YAAY;CAC3C,CAAC;AAGF,MAAa,aAAa,yJAAA,CAAI,MAAA,CAAO,cAAc;IAClD,MAAM;IACN,mBAAmB,yJAAA,CAAI,IAAA,EAAM;IAC7B,SAAS,yJAAA,CAAI,GAAA,EAAK;IAClB,UAAU,yJAAA,CAAI,UAAA,EAAY;CAC1B,CAAC;AAGF,MAAa,OAAO,yJAAA,CAAI,IAAA,CAAK,QAAQ;IACpC,MAAM;IACN,SAAS;CACT,CAAC;AAGF,MAAa,cAAc,yJAAA,CAAI,MAAA,CAAO,eAAe;IACpD,MAAM;IACN,OAAO;IACP,qBAAqB;IACrB,eAAe,yJAAA,CAAI,GAAA,EAAK;CACxB,CAAC"}},
    {"offset": {"line": 2268, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/bcs/effects.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/bcs/effects.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { bcs } from '@mysten/bcs';\n\nimport { Address, ObjectDigest, Owner, SuiObjectRef, TypeTag } from './bcs.js';\n\n// Rust: crates/sui-types/src/execution_status.rs (PackageUpgradeError enum)\nconst PackageUpgradeError = bcs.enum('PackageUpgradeError', {\n\tUnableToFetchPackage: bcs.struct('UnableToFetchPackage', { packageId: Address }),\n\tNotAPackage: bcs.struct('NotAPackage', { objectId: Address }),\n\tIncompatibleUpgrade: null,\n\tDigestDoesNotMatch: bcs.struct('DigestDoesNotMatch', { digest: bcs.byteVector() }),\n\tUnknownUpgradePolicy: bcs.struct('UnknownUpgradePolicy', { policy: bcs.u8() }),\n\tPackageIDDoesNotMatch: bcs.struct('PackageIDDoesNotMatch', {\n\t\tpackageId: Address,\n\t\tticketId: Address,\n\t}),\n});\n\n// Rust: move-core-types/src/language_storage.rs\nconst ModuleId = bcs.struct('ModuleId', {\n\taddress: Address,\n\tname: bcs.string(),\n});\n// Rust: crates/sui-types/src/execution_status.rs\nconst MoveLocation = bcs.struct('MoveLocation', {\n\tmodule: ModuleId,\n\tfunction: bcs.u16(),\n\tinstruction: bcs.u16(),\n\tfunctionName: bcs.option(bcs.string()),\n});\n\n// Rust: crates/sui-types/src/execution_status.rs\nconst CommandArgumentError = bcs.enum('CommandArgumentError', {\n\tTypeMismatch: null,\n\tInvalidBCSBytes: null,\n\tInvalidUsageOfPureArg: null,\n\tInvalidArgumentToPrivateEntryFunction: null,\n\tIndexOutOfBounds: bcs.struct('IndexOutOfBounds', { idx: bcs.u16() }),\n\tSecondaryIndexOutOfBounds: bcs.struct('SecondaryIndexOutOfBounds', {\n\t\tresultIdx: bcs.u16(),\n\t\tsecondaryIdx: bcs.u16(),\n\t}),\n\tInvalidResultArity: bcs.struct('InvalidResultArity', { resultIdx: bcs.u16() }),\n\tInvalidGasCoinUsage: null,\n\tInvalidValueUsage: null,\n\tInvalidObjectByValue: null,\n\tInvalidObjectByMutRef: null,\n\tSharedObjectOperationNotAllowed: null,\n\tInvalidArgumentArity: null,\n\tInvalidTransferObject: null,\n\tInvalidMakeMoveVecNonObjectArgument: null,\n\tArgumentWithoutValue: null,\n\tCannotMoveBorrowedValue: null,\n\tCannotWriteToExtendedReference: null,\n\tInvalidReferenceArgument: null,\n});\n\n// Rust: crates/sui-types/src/execution_status.rs\nconst TypeArgumentError = bcs.enum('TypeArgumentError', {\n\tTypeNotFound: null,\n\tConstraintNotSatisfied: null,\n});\n\n// Rust: crates/sui-types/src/execution_status.rs\nconst ExecutionFailureStatus = bcs.enum('ExecutionFailureStatus', {\n\tInsufficientGas: null,\n\tInvalidGasObject: null,\n\tInvariantViolation: null,\n\tFeatureNotYetSupported: null,\n\tMoveObjectTooBig: bcs.struct('MoveObjectTooBig', {\n\t\tobjectSize: bcs.u64(),\n\t\tmaxObjectSize: bcs.u64(),\n\t}),\n\tMovePackageTooBig: bcs.struct('MovePackageTooBig', {\n\t\tobjectSize: bcs.u64(),\n\t\tmaxObjectSize: bcs.u64(),\n\t}),\n\tCircularObjectOwnership: bcs.struct('CircularObjectOwnership', { object: Address }),\n\tInsufficientCoinBalance: null,\n\tCoinBalanceOverflow: null,\n\tPublishErrorNonZeroAddress: null,\n\tSuiMoveVerificationError: null,\n\tMovePrimitiveRuntimeError: bcs.option(MoveLocation),\n\tMoveAbort: bcs.tuple([MoveLocation, bcs.u64()]),\n\tVMVerificationOrDeserializationError: null,\n\tVMInvariantViolation: null,\n\tFunctionNotFound: null,\n\tArityMismatch: null,\n\tTypeArityMismatch: null,\n\tNonEntryFunctionInvoked: null,\n\tCommandArgumentError: bcs.struct('CommandArgumentError', {\n\t\targIdx: bcs.u16(),\n\t\tkind: CommandArgumentError,\n\t}),\n\tTypeArgumentError: bcs.struct('TypeArgumentError', {\n\t\targumentIdx: bcs.u16(),\n\t\tkind: TypeArgumentError,\n\t}),\n\tUnusedValueWithoutDrop: bcs.struct('UnusedValueWithoutDrop', {\n\t\tresultIdx: bcs.u16(),\n\t\tsecondaryIdx: bcs.u16(),\n\t}),\n\tInvalidPublicFunctionReturnType: bcs.struct('InvalidPublicFunctionReturnType', {\n\t\tidx: bcs.u16(),\n\t}),\n\tInvalidTransferObject: null,\n\tEffectsTooLarge: bcs.struct('EffectsTooLarge', { currentSize: bcs.u64(), maxSize: bcs.u64() }),\n\tPublishUpgradeMissingDependency: null,\n\tPublishUpgradeDependencyDowngrade: null,\n\tPackageUpgradeError: bcs.struct('PackageUpgradeError', { upgradeError: PackageUpgradeError }),\n\tWrittenObjectsTooLarge: bcs.struct('WrittenObjectsTooLarge', {\n\t\tcurrentSize: bcs.u64(),\n\t\tmaxSize: bcs.u64(),\n\t}),\n\tCertificateDenied: null,\n\tSuiMoveVerificationTimedout: null,\n\tSharedObjectOperationNotAllowed: null,\n\tInputObjectDeleted: null,\n\tExecutionCancelledDueToSharedObjectCongestion: bcs.struct(\n\t\t'ExecutionCancelledDueToSharedObjectCongestion',\n\t\t{\n\t\t\tcongested_objects: bcs.vector(Address),\n\t\t},\n\t),\n\tAddressDeniedForCoin: bcs.struct('AddressDeniedForCoin', {\n\t\taddress: Address,\n\t\tcoinType: bcs.string(),\n\t}),\n\tCoinTypeGlobalPause: bcs.struct('CoinTypeGlobalPause', { coinType: bcs.string() }),\n\tExecutionCancelledDueToRandomnessUnavailable: null,\n\tMoveVectorElemTooBig: bcs.struct('MoveVectorElemTooBig', {\n\t\tvalueSize: bcs.u64(),\n\t\tmaxScaledSize: bcs.u64(),\n\t}),\n\tMoveRawValueTooBig: bcs.struct('MoveRawValueTooBig', {\n\t\tvalueSize: bcs.u64(),\n\t\tmaxScaledSize: bcs.u64(),\n\t}),\n\tInvalidLinkage: null,\n\tInsufficientBalanceForWithdraw: null,\n\tNonExclusiveWriteInputObjectModified: bcs.struct('NonExclusiveWriteInputObjectModified', {\n\t\tid: Address,\n\t}),\n});\n\n// Rust: crates/sui-types/src/execution_status.rs\nexport const ExecutionStatus = bcs.enum('ExecutionStatus', {\n\tSuccess: null,\n\tFailure: bcs.struct('Failure', {\n\t\terror: ExecutionFailureStatus,\n\t\tcommand: bcs.option(bcs.u64()),\n\t}),\n});\n\n// Rust: crates/sui-types/src/gas.rs\nconst GasCostSummary = bcs.struct('GasCostSummary', {\n\tcomputationCost: bcs.u64(),\n\tstorageCost: bcs.u64(),\n\tstorageRebate: bcs.u64(),\n\tnonRefundableStorageFee: bcs.u64(),\n});\n\n// Rust: crates/sui-types/src/effects/effects_v1.rs\nconst TransactionEffectsV1 = bcs.struct('TransactionEffectsV1', {\n\tstatus: ExecutionStatus,\n\texecutedEpoch: bcs.u64(),\n\tgasUsed: GasCostSummary,\n\tmodifiedAtVersions: bcs.vector(bcs.tuple([Address, bcs.u64()])),\n\tsharedObjects: bcs.vector(SuiObjectRef),\n\ttransactionDigest: ObjectDigest,\n\tcreated: bcs.vector(bcs.tuple([SuiObjectRef, Owner])),\n\tmutated: bcs.vector(bcs.tuple([SuiObjectRef, Owner])),\n\tunwrapped: bcs.vector(bcs.tuple([SuiObjectRef, Owner])),\n\tdeleted: bcs.vector(SuiObjectRef),\n\tunwrappedThenDeleted: bcs.vector(SuiObjectRef),\n\twrapped: bcs.vector(SuiObjectRef),\n\tgasObject: bcs.tuple([SuiObjectRef, Owner]),\n\teventsDigest: bcs.option(ObjectDigest),\n\tdependencies: bcs.vector(ObjectDigest),\n});\n\n// Rust: crates/sui-types/src/base_types.rs\nconst VersionDigest = bcs.tuple([bcs.u64(), ObjectDigest]);\n\n// Rust: crates/sui-types/src/effects/object_change.rs\nconst ObjectIn = bcs.enum('ObjectIn', {\n\tNotExist: null,\n\tExist: bcs.tuple([VersionDigest, Owner]),\n});\n\n// Rust: crates/sui-types/src/effects/object_change.rs\nconst AccumulatorAddress = bcs.struct('AccumulatorAddress', {\n\taddress: Address,\n\t// TODO: ask why this is the name\n\tty: TypeTag,\n});\n\n// Rust: crates/sui-types/src/effects/object_change.rs\nconst AccumulatorOperation = bcs.enum('AccumulatorOperation', {\n\tMerge: null,\n\tSplit: null,\n});\n\n// Rust: crates/sui-types/src/effects/object_change.rs\nconst AccumulatorValue = bcs.enum('AccumulatorValue', {\n\tInteger: bcs.u64(),\n\tIntegerTuple: bcs.tuple([bcs.u64(), bcs.u64()]),\n\t// NonEmpty<(u64, Digest)> in Rust - vector must have at least one element\n\tEventDigest: bcs.vector(bcs.tuple([bcs.u64(), ObjectDigest])),\n});\n\n// Rust: crates/sui-types/src/effects/object_change.rs\nconst AccumulatorWriteV1 = bcs.struct('AccumulatorWriteV1', {\n\taddress: AccumulatorAddress,\n\toperation: AccumulatorOperation,\n\tvalue: AccumulatorValue,\n});\n\n// Rust: crates/sui-types/src/effects/object_change.rs\nconst ObjectOut = bcs.enum('ObjectOut', {\n\tNotExist: null,\n\tObjectWrite: bcs.tuple([ObjectDigest, Owner]),\n\tPackageWrite: VersionDigest,\n\tAccumulatorWriteV1: AccumulatorWriteV1,\n});\n\n// Rust: crates/sui-types/src/effects/mod.rs\nconst IDOperation = bcs.enum('IDOperation', {\n\tNone: null,\n\tCreated: null,\n\tDeleted: null,\n});\n\n// Rust: crates/sui-types/src/effects/object_change.rs\nconst EffectsObjectChange = bcs.struct('EffectsObjectChange', {\n\tinputState: ObjectIn,\n\toutputState: ObjectOut,\n\tidOperation: IDOperation,\n});\n\n// Rust: crates/sui-types/src/effects/effects_v2.rs\nconst UnchangedConsensusKind = bcs.enum('UnchangedConsensusKind', {\n\tReadOnlyRoot: VersionDigest,\n\tMutateConsensusStreamEnded: bcs.u64(),\n\tReadConsensusStreamEnded: bcs.u64(),\n\tCancelled: bcs.u64(),\n\tPerEpochConfig: null,\n});\n\n// Rust: crates/sui-types/src/effects/effects_v2.rs\nconst TransactionEffectsV2 = bcs.struct('TransactionEffectsV2', {\n\tstatus: ExecutionStatus,\n\texecutedEpoch: bcs.u64(),\n\tgasUsed: GasCostSummary,\n\ttransactionDigest: ObjectDigest,\n\tgasObjectIndex: bcs.option(bcs.u32()),\n\teventsDigest: bcs.option(ObjectDigest),\n\tdependencies: bcs.vector(ObjectDigest),\n\tlamportVersion: bcs.u64(),\n\tchangedObjects: bcs.vector(bcs.tuple([Address, EffectsObjectChange])),\n\tunchangedConsensusObjects: bcs.vector(bcs.tuple([Address, UnchangedConsensusKind])),\n\tauxDataDigest: bcs.option(ObjectDigest),\n});\n\n// Rust: crates/sui-types/src/effects/mod.rs\nexport const TransactionEffects = bcs.enum('TransactionEffects', {\n\tV1: TransactionEffectsV1,\n\tV2: TransactionEffectsV2,\n});\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2564, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/bcs/pure.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/bcs/pure.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { bcs } from '@mysten/bcs';\nimport type { BcsType } from '@mysten/bcs';\n\nimport { Address } from './bcs.js';\n\nexport type BasePureType =\n\t| 'u8'\n\t| 'u16'\n\t| 'u32'\n\t| 'u64'\n\t| 'u128'\n\t| 'u256'\n\t| 'bool'\n\t| 'id'\n\t| 'string'\n\t| 'address';\n\ninterface PureShapeByType {\n\tu8: number;\n\tu16: number;\n\tu32: number;\n\tu64: bigint | string | number;\n\tu128: bigint | string | number;\n\tu256: bigint | string | number;\n\tbool: boolean;\n\tstring: string;\n\tid: string | Uint8Array;\n\taddress: string | Uint8Array;\n}\n\nexport type PureTypeName = BasePureType | `vector<${string}>` | `option<${string}>`;\nexport type ValidPureTypeName<T extends string> = T extends BasePureType\n\t? PureTypeName\n\t: T extends `vector<${infer U}>`\n\t\t? ValidPureTypeName<U>\n\t\t: T extends `option<${infer U}>`\n\t\t\t? ValidPureTypeName<U>\n\t\t\t: PureTypeValidationError<T>;\n\nexport type ShapeFromPureTypeName<T extends PureTypeName> = T extends BasePureType\n\t? PureShapeByType[T]\n\t: T extends `vector<${infer U extends PureTypeName}>`\n\t\t? ShapeFromPureTypeName<U>[]\n\t\t: T extends `option<${infer U extends PureTypeName}>`\n\t\t\t? ShapeFromPureTypeName<U> | null\n\t\t\t: never;\n\ntype PureTypeValidationError<T extends string> = {\n\terror: `Invalid Pure type name: ${T}`;\n} & {};\n\nexport function pureBcsSchemaFromTypeName<T extends PureTypeName>(\n\tname: T extends PureTypeName ? ValidPureTypeName<T> : T,\n): BcsType<ShapeFromPureTypeName<T>> {\n\tswitch (name) {\n\t\tcase 'u8':\n\t\t\treturn bcs.u8() as never;\n\t\tcase 'u16':\n\t\t\treturn bcs.u16() as never;\n\t\tcase 'u32':\n\t\t\treturn bcs.u32() as never;\n\t\tcase 'u64':\n\t\t\treturn bcs.u64() as never;\n\t\tcase 'u128':\n\t\t\treturn bcs.u128() as never;\n\t\tcase 'u256':\n\t\t\treturn bcs.u256() as never;\n\t\tcase 'bool':\n\t\t\treturn bcs.bool() as never;\n\t\tcase 'string':\n\t\t\treturn bcs.string() as never;\n\t\tcase 'id':\n\t\tcase 'address':\n\t\t\treturn Address as never;\n\t}\n\n\tconst generic = (name as string).match(/^(vector|option)<(.+)>$/);\n\tif (generic) {\n\t\tconst [kind, inner] = generic.slice(1);\n\t\tif (kind === 'vector') {\n\t\t\treturn bcs.vector(pureBcsSchemaFromTypeName(inner as PureTypeName)) as never;\n\t\t} else {\n\t\t\treturn bcs.option(pureBcsSchemaFromTypeName(inner as PureTypeName)) as never;\n\t\t}\n\t}\n\n\tthrow new Error(`Invalid Pure type name: ${name}`);\n}\n"],"names":[],"mappings":";;;;;;;;;AAsDA,SAAgB,0BACf,IAAA,EACoC;IACpC,OAAQ,MAAR;QACC,KAAK,KACJ;YAAA,OAAO,yJAAA,CAAI,EAAA,EAAI;QAChB,KAAK,MACJ;YAAA,OAAO,yJAAA,CAAI,GAAA,EAAK;QACjB,KAAK,MACJ;YAAA,OAAO,yJAAA,CAAI,GAAA,EAAK;QACjB,KAAK,MACJ;YAAA,OAAO,yJAAA,CAAI,GAAA,EAAK;QACjB,KAAK,OACJ;YAAA,OAAO,yJAAA,CAAI,IAAA,EAAM;QAClB,KAAK,OACJ;YAAA,OAAO,yJAAA,CAAI,IAAA,EAAM;QAClB,KAAK,OACJ;YAAA,OAAO,yJAAA,CAAI,IAAA,EAAM;QAClB,KAAK,SACJ;YAAA,OAAO,yJAAA,CAAI,MAAA,EAAQ;QACpB,KAAK;QACL,KAAK,UACJ;YAAA,OAAO,oKAAA;;IAGT,MAAM,UAAW,KAAgB,KAAA,CAAM,0BAA0B;IACjE,IAAI,SAAS;QACZ,MAAM,CAAC,MAAM,MAAA,GAAS,QAAQ,KAAA,CAAM,EAAE;QACtC,IAAI,SAAS,SACZ,CAAA,OAAO,yJAAA,CAAI,MAAA,CAAO,0BAA0B,MAAsB,CAAC;aAEnE,OAAO,yJAAA,CAAI,MAAA,CAAO,0BAA0B,MAAsB,CAAC;;IAIrE,MAAM,IAAI,MAAM,CAAA,wBAAA,EAA2B,MAAA,CAAO"}},
    {"offset": {"line": 2609, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/bcs/index.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/bcs/index.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { bcs } from '@mysten/bcs';\n\nimport {\n\tAddress,\n\tAppId,\n\tArgument,\n\tCallArg,\n\tCommand,\n\tCompressedSignature,\n\tData,\n\tGasData,\n\tIntent,\n\tIntentMessage,\n\tIntentScope,\n\tIntentVersion,\n\tMoveObject,\n\tMoveObjectType,\n\tMovePackage,\n\tMultiSig,\n\tMultiSigPkMap,\n\tMultiSigPublicKey,\n\tObjectArg,\n\tObjectDigest,\n\tObjectInner,\n\tOwner,\n\tPasskeyAuthenticator,\n\tProgrammableMoveCall,\n\tProgrammableTransaction,\n\tPublicKey,\n\tSenderSignedData,\n\tSenderSignedTransaction,\n\tSharedObjectRef,\n\tStructTag,\n\tSuiObjectRef,\n\tTransactionData,\n\tTransactionDataV1,\n\tTransactionExpiration,\n\tTransactionKind,\n\tTypeOrigin,\n\tTypeTag,\n\tUpgradeInfo,\n} from './bcs.js';\nimport { TransactionEffects } from './effects.js';\n\nexport type { TypeTag } from './types.js';\n\nexport { TypeTagSerializer } from './type-tag-serializer.js';\nexport {\n\tBcsType,\n\tBcsStruct,\n\tBcsEnum,\n\tBcsTuple,\n\ttype BcsTypeOptions,\n\tcompareBcsBytes,\n} from '@mysten/bcs';\n\nconst suiBcs = {\n\t...bcs,\n\tU8: bcs.u8(),\n\tU16: bcs.u16(),\n\tU32: bcs.u32(),\n\tU64: bcs.u64(),\n\tU128: bcs.u128(),\n\tU256: bcs.u256(),\n\tULEB128: bcs.uleb128(),\n\tBool: bcs.bool(),\n\tString: bcs.string(),\n\tAddress,\n\tAppId,\n\tArgument,\n\tCallArg,\n\tCommand,\n\tCompressedSignature,\n\tData,\n\tGasData,\n\tIntent,\n\tIntentMessage,\n\tIntentScope,\n\tIntentVersion,\n\tMoveObject,\n\tMoveObjectType,\n\tMovePackage,\n\tMultiSig,\n\tMultiSigPkMap,\n\tMultiSigPublicKey,\n\tObject: ObjectInner,\n\tObjectArg,\n\tObjectDigest,\n\tOwner,\n\tPasskeyAuthenticator,\n\tProgrammableMoveCall,\n\tProgrammableTransaction,\n\tPublicKey,\n\tSenderSignedData,\n\tSenderSignedTransaction,\n\tSharedObjectRef,\n\tStructTag,\n\tSuiObjectRef,\n\tTransactionData,\n\tTransactionDataV1,\n\tTransactionEffects,\n\tTransactionExpiration,\n\tTransactionKind,\n\tTypeOrigin,\n\tTypeTag,\n\tUpgradeInfo,\n};\nexport {\n\tpureBcsSchemaFromTypeName,\n\ttype ShapeFromPureTypeName,\n\ttype PureTypeName,\n} from './pure.js';\n\nexport { suiBcs as bcs };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AA2DA,MAAM,SAAS;IACd,GAAG,yJAAA;IACH,IAAI,yJAAA,CAAI,EAAA,EAAI;IACZ,KAAK,yJAAA,CAAI,GAAA,EAAK;IACd,KAAK,yJAAA,CAAI,GAAA,EAAK;IACd,KAAK,yJAAA,CAAI,GAAA,EAAK;IACd,MAAM,yJAAA,CAAI,IAAA,EAAM;IAChB,MAAM,yJAAA,CAAI,IAAA,EAAM;IAChB,SAAS,yJAAA,CAAI,OAAA,EAAS;IACtB,MAAM,yJAAA,CAAI,IAAA,EAAM;IAChB,QAAQ,yJAAA,CAAI,MAAA,EAAQ;aACpB,oKAAA;WACA,kKAAA;cACA,qKAAA;aACA,oKAAA;aACA,oKAAA;yBACA,gLAAA;UACA,iKAAA;aACA,oKAAA;YACA,mKAAA;mBACA,0KAAA;iBACA,wKAAA;mBACA,0KAAA;gBACA,uKAAA;oBACA,2KAAA;iBACA,wKAAA;cACA,qKAAA;mBACA,0KAAA;uBACA,8KAAA;IACA,QAAQ,wKAAA;eACR,sKAAA;kBACA,yKAAA;WACA,kKAAA;0BACA,iLAAA;0BACA,iLAAA;6BACA,oLAAA;eACA,sKAAA;sBACA,6KAAA;6BACA,oLAAA;qBACA,4KAAA;eACA,sKAAA;kBACA,yKAAA;qBACA,4KAAA;uBACA,8KAAA;wBACA,mLAAA;2BACA,kLAAA;qBACA,4KAAA;gBACA,uKAAA;aACA,oKAAA;iBACA,wKAAA;CACA"}},
    {"offset": {"line": 2682, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/hash.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/hash.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { blake2b } from '@noble/hashes/blake2.js';\n\n/**\n * Generates a Blake2b hash of typed data as a base64 string.\n *\n * @param typeTag type tag (e.g. TransactionData, SenderSignedData)\n * @param data data to hash\n */\nexport function hashTypedData(typeTag: string, data: Uint8Array): Uint8Array {\n\tconst typeTagBytes = Array.from(`${typeTag}::`).map((e) => e.charCodeAt(0));\n\n\tconst dataWithTag = new Uint8Array(typeTagBytes.length + data.length);\n\tdataWithTag.set(typeTagBytes);\n\tdataWithTag.set(data, typeTagBytes.length);\n\n\treturn blake2b(dataWithTag, { dkLen: 32 });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;GAWA,SAAgB,cAAc,OAAA,EAAiB,IAAA,EAA8B;IAC5E,MAAM,eAAe,MAAM,IAAA,CAAK,GAAG,QAAQ,EAAA,CAAA,CAAI,CAAC,GAAA,CAAA,CAAK,IAAM,EAAE,UAAA,CAAW,EAAE,CAAC;IAE3E,MAAM,cAAc,IAAI,WAAW,aAAa,MAAA,GAAS,KAAK,MAAA,CAAO;IACrE,YAAY,GAAA,CAAI,aAAa;IAC7B,YAAY,GAAA,CAAI,MAAM,aAAa,MAAA,CAAO;IAE1C,WAAO,4LAAA,EAAQ,aAAa;QAAE,OAAO;IAAA,CAAI,CAAC"}},
    {"offset": {"line": 2709, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/TransactionData.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/TransactionData.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toBase58 } from '@mysten/bcs';\nimport type { InferInput } from 'valibot';\nimport { parse } from 'valibot';\n\nimport { bcs } from '../bcs/index.js';\nimport { normalizeSuiAddress } from '../utils/sui-types.js';\nimport type {\n\tArgument,\n\tCallArg,\n\tCommand,\n\tGasData,\n\tTransactionExpiration,\n\tTransactionData,\n} from './data/internal.js';\nimport { ArgumentSchema, TransactionDataSchema } from './data/internal.js';\nimport { transactionDataFromV1 } from './data/v1.js';\nimport type { SerializedTransactionDataV1 } from './data/v1.js';\nimport type { SerializedTransactionDataV2Schema } from './data/v2.js';\nimport { hashTypedData } from './hash.js';\nimport { getIdFromCallArg, remapCommandArguments } from './utils.js';\nimport type { TransactionResult } from './Transaction.js';\nfunction prepareSuiAddress(address: string) {\n\treturn normalizeSuiAddress(address).replace('0x', '');\n}\n\nexport class TransactionDataBuilder implements TransactionData {\n\tstatic fromKindBytes(bytes: Uint8Array) {\n\t\tconst kind = bcs.TransactionKind.parse(bytes);\n\n\t\tconst programmableTx = kind.ProgrammableTransaction;\n\t\tif (!programmableTx) {\n\t\t\tthrow new Error('Unable to deserialize from bytes.');\n\t\t}\n\n\t\treturn TransactionDataBuilder.restore({\n\t\t\tversion: 2,\n\t\t\tsender: null,\n\t\t\texpiration: null,\n\t\t\tgasData: {\n\t\t\t\tbudget: null,\n\t\t\t\towner: null,\n\t\t\t\tpayment: null,\n\t\t\t\tprice: null,\n\t\t\t},\n\t\t\tinputs: programmableTx.inputs,\n\t\t\tcommands: programmableTx.commands,\n\t\t});\n\t}\n\n\tstatic fromBytes(bytes: Uint8Array) {\n\t\tconst rawData = bcs.TransactionData.parse(bytes);\n\t\tconst data = rawData?.V1;\n\t\tconst programmableTx = data.kind.ProgrammableTransaction;\n\n\t\tif (!data || !programmableTx) {\n\t\t\tthrow new Error('Unable to deserialize from bytes.');\n\t\t}\n\n\t\treturn TransactionDataBuilder.restore({\n\t\t\tversion: 2,\n\t\t\tsender: data.sender,\n\t\t\texpiration: data.expiration,\n\t\t\tgasData: data.gasData,\n\t\t\tinputs: programmableTx.inputs,\n\t\t\tcommands: programmableTx.commands,\n\t\t});\n\t}\n\n\tstatic restore(\n\t\tdata:\n\t\t\t| InferInput<typeof SerializedTransactionDataV2Schema>\n\t\t\t| InferInput<typeof SerializedTransactionDataV1>,\n\t) {\n\t\tif (data.version === 2) {\n\t\t\treturn new TransactionDataBuilder(parse(TransactionDataSchema, data));\n\t\t} else {\n\t\t\treturn new TransactionDataBuilder(parse(TransactionDataSchema, transactionDataFromV1(data)));\n\t\t}\n\t}\n\n\t/**\n\t * Generate transaction digest.\n\t *\n\t * @param bytes BCS serialized transaction data\n\t * @returns transaction digest.\n\t */\n\tstatic getDigestFromBytes(bytes: Uint8Array) {\n\t\tconst hash = hashTypedData('TransactionData', bytes);\n\t\treturn toBase58(hash);\n\t}\n\n\tversion = 2 as const;\n\tsender: string | null;\n\texpiration: TransactionExpiration | null;\n\tgasData: GasData;\n\tinputs: CallArg[];\n\tcommands: Command[];\n\n\tconstructor(clone?: TransactionData) {\n\t\tthis.sender = clone?.sender ?? null;\n\t\tthis.expiration = clone?.expiration ?? null;\n\t\tthis.inputs = clone?.inputs ?? [];\n\t\tthis.commands = clone?.commands ?? [];\n\t\tthis.gasData = clone?.gasData ?? {\n\t\t\tbudget: null,\n\t\t\tprice: null,\n\t\t\towner: null,\n\t\t\tpayment: null,\n\t\t};\n\t}\n\n\tbuild({\n\t\tmaxSizeBytes = Infinity,\n\t\toverrides,\n\t\tonlyTransactionKind,\n\t}: {\n\t\tmaxSizeBytes?: number;\n\t\toverrides?: {\n\t\t\texpiration?: TransactionExpiration;\n\t\t\tsender?: string;\n\t\t\tgasData?: Partial<GasData>;\n\t\t};\n\t\tonlyTransactionKind?: boolean;\n\t} = {}) {\n\t\t// TODO validate that inputs and intents are actually resolved\n\t\tconst inputs = this.inputs as (typeof bcs.CallArg.$inferInput)[];\n\t\tconst commands = this.commands as Extract<\n\t\t\tCommand<Exclude<Argument, { IntentResult: unknown } | { NestedIntentResult: unknown }>>,\n\t\t\t{ Upgrade: unknown }\n\t\t>[];\n\n\t\tconst kind = {\n\t\t\tProgrammableTransaction: {\n\t\t\t\tinputs,\n\t\t\t\tcommands,\n\t\t\t},\n\t\t};\n\n\t\tif (onlyTransactionKind) {\n\t\t\treturn bcs.TransactionKind.serialize(kind, { maxSize: maxSizeBytes }).toBytes();\n\t\t}\n\n\t\tconst expiration = overrides?.expiration ?? this.expiration;\n\t\tconst sender = overrides?.sender ?? this.sender;\n\t\tconst gasData = { ...this.gasData, ...overrides?.gasData };\n\n\t\tif (!sender) {\n\t\t\tthrow new Error('Missing transaction sender');\n\t\t}\n\n\t\tif (!gasData.budget) {\n\t\t\tthrow new Error('Missing gas budget');\n\t\t}\n\n\t\tif (!gasData.payment) {\n\t\t\tthrow new Error('Missing gas payment');\n\t\t}\n\n\t\tif (!gasData.price) {\n\t\t\tthrow new Error('Missing gas price');\n\t\t}\n\n\t\tconst transactionData = {\n\t\t\tsender: prepareSuiAddress(sender),\n\t\t\texpiration: expiration ? expiration : { None: true },\n\t\t\tgasData: {\n\t\t\t\tpayment: gasData.payment,\n\t\t\t\towner: prepareSuiAddress(this.gasData.owner ?? sender),\n\t\t\t\tprice: BigInt(gasData.price),\n\t\t\t\tbudget: BigInt(gasData.budget),\n\t\t\t},\n\t\t\tkind: {\n\t\t\t\tProgrammableTransaction: {\n\t\t\t\t\tinputs,\n\t\t\t\t\tcommands,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\treturn bcs.TransactionData.serialize(\n\t\t\t{ V1: transactionData },\n\t\t\t{ maxSize: maxSizeBytes },\n\t\t).toBytes();\n\t}\n\n\taddInput<T extends 'object' | 'pure' | 'withdrawal'>(type: T, arg: CallArg) {\n\t\tconst index = this.inputs.length;\n\t\tthis.inputs.push(arg);\n\t\treturn { Input: index, type, $kind: 'Input' as const };\n\t}\n\n\tgetInputUses(index: number, fn: (arg: Argument, command: Command) => void) {\n\t\tthis.mapArguments((arg, command) => {\n\t\t\tif (arg.$kind === 'Input' && arg.Input === index) {\n\t\t\t\tfn(arg, command);\n\t\t\t}\n\n\t\t\treturn arg;\n\t\t});\n\t}\n\n\tmapCommandArguments(\n\t\tindex: number,\n\t\tfn: (arg: Argument, command: Command, commandIndex: number) => Argument,\n\t) {\n\t\tconst command = this.commands[index];\n\n\t\tswitch (command.$kind) {\n\t\t\tcase 'MoveCall':\n\t\t\t\tcommand.MoveCall.arguments = command.MoveCall.arguments.map((arg) =>\n\t\t\t\t\tfn(arg, command, index),\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 'TransferObjects':\n\t\t\t\tcommand.TransferObjects.objects = command.TransferObjects.objects.map((arg) =>\n\t\t\t\t\tfn(arg, command, index),\n\t\t\t\t);\n\t\t\t\tcommand.TransferObjects.address = fn(command.TransferObjects.address, command, index);\n\t\t\t\tbreak;\n\t\t\tcase 'SplitCoins':\n\t\t\t\tcommand.SplitCoins.coin = fn(command.SplitCoins.coin, command, index);\n\t\t\t\tcommand.SplitCoins.amounts = command.SplitCoins.amounts.map((arg) =>\n\t\t\t\t\tfn(arg, command, index),\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 'MergeCoins':\n\t\t\t\tcommand.MergeCoins.destination = fn(command.MergeCoins.destination, command, index);\n\t\t\t\tcommand.MergeCoins.sources = command.MergeCoins.sources.map((arg) =>\n\t\t\t\t\tfn(arg, command, index),\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 'MakeMoveVec':\n\t\t\t\tcommand.MakeMoveVec.elements = command.MakeMoveVec.elements.map((arg) =>\n\t\t\t\t\tfn(arg, command, index),\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 'Upgrade':\n\t\t\t\tcommand.Upgrade.ticket = fn(command.Upgrade.ticket, command, index);\n\t\t\t\tbreak;\n\t\t\tcase '$Intent':\n\t\t\t\tconst inputs = command.$Intent.inputs;\n\t\t\t\tcommand.$Intent.inputs = {};\n\n\t\t\t\tfor (const [key, value] of Object.entries(inputs)) {\n\t\t\t\t\tcommand.$Intent.inputs[key] = Array.isArray(value)\n\t\t\t\t\t\t? value.map((arg) => fn(arg, command, index))\n\t\t\t\t\t\t: fn(value, command, index);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 'Publish':\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unexpected transaction kind: ${(command as { $kind: unknown }).$kind}`);\n\t\t}\n\t}\n\n\tmapArguments(fn: (arg: Argument, command: Command, commandIndex: number) => Argument) {\n\t\tfor (const commandIndex of this.commands.keys()) {\n\t\t\tthis.mapCommandArguments(commandIndex, fn);\n\t\t}\n\t}\n\n\treplaceCommand(\n\t\tindex: number,\n\t\treplacement: Command | Command[],\n\t\tresultIndex: number | { Result: number } | { NestedResult: [number, number] } = index,\n\t) {\n\t\tif (!Array.isArray(replacement)) {\n\t\t\tthis.commands[index] = replacement;\n\t\t\treturn;\n\t\t}\n\n\t\tconst sizeDiff = replacement.length - 1;\n\n\t\tthis.commands.splice(index, 1, ...structuredClone(replacement));\n\n\t\tthis.mapArguments((arg, _command, commandIndex) => {\n\t\t\tif (commandIndex < index + replacement.length) {\n\t\t\t\treturn arg;\n\t\t\t}\n\n\t\t\tif (typeof resultIndex !== 'number') {\n\t\t\t\tif (\n\t\t\t\t\t(arg.$kind === 'Result' && arg.Result === index) ||\n\t\t\t\t\t(arg.$kind === 'NestedResult' && arg.NestedResult[0] === index)\n\t\t\t\t) {\n\t\t\t\t\tif (!('NestedResult' in arg) || arg.NestedResult[1] === 0) {\n\t\t\t\t\t\treturn parse(ArgumentSchema, structuredClone(resultIndex));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`Cannot replace command ${index} with a specific result type: NestedResult[${index}, ${arg.NestedResult[1]}] references a nested element that cannot be mapped to the replacement result`,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Handle adjustment of other references\n\t\t\tswitch (arg.$kind) {\n\t\t\t\tcase 'Result':\n\t\t\t\t\tif (arg.Result === index && typeof resultIndex === 'number') {\n\t\t\t\t\t\targ.Result = resultIndex;\n\t\t\t\t\t}\n\t\t\t\t\tif (arg.Result > index) {\n\t\t\t\t\t\targ.Result += sizeDiff;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'NestedResult':\n\t\t\t\t\tif (arg.NestedResult[0] === index && typeof resultIndex === 'number') {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t$kind: 'NestedResult',\n\t\t\t\t\t\t\tNestedResult: [resultIndex, arg.NestedResult[1]],\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (arg.NestedResult[0] > index) {\n\t\t\t\t\t\targ.NestedResult[0] += sizeDiff;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn arg;\n\t\t});\n\t}\n\n\treplaceCommandWithTransaction(\n\t\tindex: number,\n\t\totherTransaction: TransactionData,\n\t\tresult: TransactionResult,\n\t) {\n\t\tif (result.$kind !== 'Result' && result.$kind !== 'NestedResult') {\n\t\t\tthrow new Error('Result must be of kind Result or NestedResult');\n\t\t}\n\n\t\tthis.insertTransaction(index, otherTransaction);\n\n\t\tthis.replaceCommand(\n\t\t\tindex + otherTransaction.commands.length,\n\t\t\t[],\n\t\t\t'Result' in result\n\t\t\t\t? { NestedResult: [result.Result + index, 0] }\n\t\t\t\t: {\n\t\t\t\t\t\tNestedResult: [\n\t\t\t\t\t\t\t(result as { NestedResult: [number, number] }).NestedResult[0] + index,\n\t\t\t\t\t\t\t(result as { NestedResult: [number, number] }).NestedResult[1],\n\t\t\t\t\t\t] as [number, number],\n\t\t\t\t\t},\n\t\t);\n\t}\n\n\tinsertTransaction(atCommandIndex: number, otherTransaction: TransactionData) {\n\t\tconst inputMapping = new Map<number, number>();\n\t\tconst commandMapping = new Map<number, number>();\n\n\t\tfor (let i = 0; i < otherTransaction.inputs.length; i++) {\n\t\t\tconst otherInput = otherTransaction.inputs[i];\n\t\t\tconst id = getIdFromCallArg(otherInput);\n\n\t\t\tlet existingIndex = -1;\n\t\t\tif (id !== undefined) {\n\t\t\t\texistingIndex = this.inputs.findIndex((input) => getIdFromCallArg(input) === id);\n\n\t\t\t\tif (\n\t\t\t\t\texistingIndex !== -1 &&\n\t\t\t\t\tthis.inputs[existingIndex].Object?.SharedObject &&\n\t\t\t\t\totherInput.Object?.SharedObject\n\t\t\t\t) {\n\t\t\t\t\tthis.inputs[existingIndex].Object!.SharedObject!.mutable =\n\t\t\t\t\t\tthis.inputs[existingIndex].Object!.SharedObject!.mutable ||\n\t\t\t\t\t\totherInput.Object.SharedObject.mutable;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tinputMapping.set(i, existingIndex);\n\t\t\t} else {\n\t\t\t\tconst newIndex = this.inputs.length;\n\t\t\t\tthis.inputs.push(otherInput);\n\t\t\t\tinputMapping.set(i, newIndex);\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < otherTransaction.commands.length; i++) {\n\t\t\tcommandMapping.set(i, atCommandIndex + i);\n\t\t}\n\n\t\tconst remappedCommands: Command[] = [];\n\t\tfor (let i = 0; i < otherTransaction.commands.length; i++) {\n\t\t\tconst command = structuredClone(otherTransaction.commands[i]);\n\n\t\t\tremapCommandArguments(command, inputMapping, commandMapping);\n\n\t\t\tremappedCommands.push(command);\n\t\t}\n\n\t\tthis.commands.splice(atCommandIndex, 0, ...remappedCommands);\n\n\t\tconst sizeDiff = remappedCommands.length;\n\t\tif (sizeDiff > 0) {\n\t\t\tthis.mapArguments((arg, _command, commandIndex) => {\n\t\t\t\tif (\n\t\t\t\t\tcommandIndex >= atCommandIndex &&\n\t\t\t\t\tcommandIndex < atCommandIndex + remappedCommands.length\n\t\t\t\t) {\n\t\t\t\t\treturn arg;\n\t\t\t\t}\n\n\t\t\t\tswitch (arg.$kind) {\n\t\t\t\t\tcase 'Result':\n\t\t\t\t\t\tif (arg.Result >= atCommandIndex) {\n\t\t\t\t\t\t\targ.Result += sizeDiff;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'NestedResult':\n\t\t\t\t\t\tif (arg.NestedResult[0] >= atCommandIndex) {\n\t\t\t\t\t\t\targ.NestedResult[0] += sizeDiff;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn arg;\n\t\t\t});\n\t\t}\n\t}\n\n\tgetDigest() {\n\t\tconst bytes = this.build({ onlyTransactionKind: false });\n\t\treturn TransactionDataBuilder.getDigestFromBytes(bytes);\n\t}\n\n\tsnapshot(): TransactionData {\n\t\treturn parse(TransactionDataSchema, this);\n\t}\n\n\tshallowClone() {\n\t\treturn new TransactionDataBuilder({\n\t\t\tversion: this.version,\n\t\t\tsender: this.sender,\n\t\t\texpiration: this.expiration,\n\t\t\tgasData: {\n\t\t\t\t...this.gasData,\n\t\t\t},\n\t\t\tinputs: [...this.inputs],\n\t\t\tcommands: [...this.commands],\n\t\t});\n\t}\n\n\tapplyResolvedData(resolved: TransactionData) {\n\t\tif (!this.sender) {\n\t\t\tthis.sender = resolved.sender ?? null;\n\t\t}\n\n\t\tif (!this.expiration) {\n\t\t\tthis.expiration = resolved.expiration ?? null;\n\t\t}\n\n\t\tif (!this.gasData.budget) {\n\t\t\tthis.gasData.budget = resolved.gasData.budget;\n\t\t}\n\n\t\tif (!this.gasData.owner) {\n\t\t\tthis.gasData.owner = resolved.gasData.owner ?? null;\n\t\t}\n\n\t\tif (!this.gasData.payment) {\n\t\t\tthis.gasData.payment = resolved.gasData.payment;\n\t\t}\n\n\t\tif (!this.gasData.price) {\n\t\t\tthis.gasData.price = resolved.gasData.price;\n\t\t}\n\n\t\tfor (let i = 0; i < this.inputs.length; i++) {\n\t\t\tconst input = this.inputs[i];\n\t\t\tconst resolvedInput = resolved.inputs[i];\n\n\t\t\tswitch (input.$kind) {\n\t\t\t\tcase 'UnresolvedPure':\n\t\t\t\t\tif (resolvedInput.$kind !== 'Pure') {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`Expected input at index ${i} to resolve to a Pure argument, but got ${JSON.stringify(\n\t\t\t\t\t\t\t\tresolvedInput,\n\t\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tthis.inputs[i] = resolvedInput;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'UnresolvedObject':\n\t\t\t\t\tif (resolvedInput.$kind !== 'Object') {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`Expected input at index ${i} to resolve to an Object argument, but got ${JSON.stringify(\n\t\t\t\t\t\t\t\tresolvedInput,\n\t\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tresolvedInput.Object.$kind === 'ImmOrOwnedObject' ||\n\t\t\t\t\t\tresolvedInput.Object.$kind === 'Receiving'\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst original = input.UnresolvedObject;\n\t\t\t\t\t\tconst resolved =\n\t\t\t\t\t\t\tresolvedInput.Object.ImmOrOwnedObject ?? resolvedInput.Object.Receiving!;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tnormalizeSuiAddress(original.objectId) !== normalizeSuiAddress(resolved.objectId) ||\n\t\t\t\t\t\t\t(original.version != null && original.version !== resolved.version) ||\n\t\t\t\t\t\t\t(original.digest != null && original.digest !== resolved.digest) ||\n\t\t\t\t\t\t\t// Objects with shared object properties should not resolve to owned objects\n\t\t\t\t\t\t\toriginal.mutable != null ||\n\t\t\t\t\t\t\toriginal.initialSharedVersion != null\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t`Input at index ${i} did not match unresolved object. ${JSON.stringify(original)} is not compatible with ${JSON.stringify(resolved)}`,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (resolvedInput.Object.$kind === 'SharedObject') {\n\t\t\t\t\t\tconst original = input.UnresolvedObject;\n\t\t\t\t\t\tconst resolved = resolvedInput.Object.SharedObject;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tnormalizeSuiAddress(original.objectId) !== normalizeSuiAddress(resolved.objectId) ||\n\t\t\t\t\t\t\t(original.initialSharedVersion != null &&\n\t\t\t\t\t\t\t\toriginal.initialSharedVersion !== resolved.initialSharedVersion) ||\n\t\t\t\t\t\t\t(original.mutable != null && original.mutable !== resolved.mutable) ||\n\t\t\t\t\t\t\t// Objects with owned object properties should not resolve to shared objects\n\t\t\t\t\t\t\toriginal.version != null ||\n\t\t\t\t\t\t\toriginal.digest != null\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t`Input at index ${i} did not match unresolved object. ${JSON.stringify(original)} is not compatible with ${JSON.stringify(resolved)}`,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`Input at index ${i} resolved to an unexpected Object kind: ${JSON.stringify(\n\t\t\t\t\t\t\t\tresolvedInput.Object,\n\t\t\t\t\t\t\t)}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.inputs[i] = resolvedInput;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}\n"],"names":["bcs","resolved"],"mappings":"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"}},
    {"offset": {"line": 3038, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/Commands.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/Commands.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toBase64 } from '@mysten/bcs';\nimport type { InferInput } from 'valibot';\nimport { parse } from 'valibot';\n\nimport { normalizeSuiObjectId } from '../utils/sui-types.js';\nimport type { Argument, CallArg, Command } from './data/internal.js';\nimport { ArgumentSchema } from './data/internal.js';\nimport type { AsyncTransactionThunk, Transaction } from './Transaction.js';\n\nexport type TransactionArgument =\n\t| InferInput<typeof ArgumentSchema>\n\t| ((tx: Transaction) => InferInput<typeof ArgumentSchema>)\n\t| AsyncTransactionThunk;\nexport type TransactionInput = CallArg;\n\n// Keep in sync with constants in\n// crates/sui-framework/packages/sui-framework/sources/package.move\nexport enum UpgradePolicy {\n\tCOMPATIBLE = 0,\n\tADDITIVE = 128,\n\tDEP_ONLY = 192,\n}\n\ntype TransactionShape<T extends Command['$kind']> = { $kind: T } & {\n\t[K in T]: Extract<Command, { [K in T]: any }>[T];\n};\n\n/**\n * Simple helpers used to construct transactions:\n */\nexport const TransactionCommands = {\n\tMoveCall(\n\t\tinput:\n\t\t\t| {\n\t\t\t\t\tpackage: string;\n\t\t\t\t\tmodule: string;\n\t\t\t\t\tfunction: string;\n\t\t\t\t\targuments?: Argument[];\n\t\t\t\t\ttypeArguments?: string[];\n\t\t\t  }\n\t\t\t| {\n\t\t\t\t\ttarget: string;\n\t\t\t\t\targuments?: Argument[];\n\t\t\t\t\ttypeArguments?: string[];\n\t\t\t  },\n\t): TransactionShape<'MoveCall'> {\n\t\tconst [pkg, mod = '', fn = ''] =\n\t\t\t'target' in input ? input.target.split('::') : [input.package, input.module, input.function];\n\n\t\treturn {\n\t\t\t$kind: 'MoveCall',\n\t\t\tMoveCall: {\n\t\t\t\tpackage: pkg,\n\t\t\t\tmodule: mod,\n\t\t\t\tfunction: fn,\n\t\t\t\ttypeArguments: input.typeArguments ?? [],\n\t\t\t\targuments: input.arguments ?? [],\n\t\t\t},\n\t\t};\n\t},\n\n\tTransferObjects(\n\t\tobjects: InferInput<typeof ArgumentSchema>[],\n\t\taddress: InferInput<typeof ArgumentSchema>,\n\t): TransactionShape<'TransferObjects'> {\n\t\treturn {\n\t\t\t$kind: 'TransferObjects',\n\t\t\tTransferObjects: {\n\t\t\t\tobjects: objects.map((o) => parse(ArgumentSchema, o)),\n\t\t\t\taddress: parse(ArgumentSchema, address),\n\t\t\t},\n\t\t};\n\t},\n\tSplitCoins(\n\t\tcoin: InferInput<typeof ArgumentSchema>,\n\t\tamounts: InferInput<typeof ArgumentSchema>[],\n\t): TransactionShape<'SplitCoins'> {\n\t\treturn {\n\t\t\t$kind: 'SplitCoins',\n\t\t\tSplitCoins: {\n\t\t\t\tcoin: parse(ArgumentSchema, coin),\n\t\t\t\tamounts: amounts.map((o) => parse(ArgumentSchema, o)),\n\t\t\t},\n\t\t};\n\t},\n\tMergeCoins(\n\t\tdestination: InferInput<typeof ArgumentSchema>,\n\t\tsources: InferInput<typeof ArgumentSchema>[],\n\t): TransactionShape<'MergeCoins'> {\n\t\treturn {\n\t\t\t$kind: 'MergeCoins',\n\t\t\tMergeCoins: {\n\t\t\t\tdestination: parse(ArgumentSchema, destination),\n\t\t\t\tsources: sources.map((o) => parse(ArgumentSchema, o)),\n\t\t\t},\n\t\t};\n\t},\n\tPublish({\n\t\tmodules,\n\t\tdependencies,\n\t}: {\n\t\tmodules: number[][] | string[];\n\t\tdependencies: string[];\n\t}): TransactionShape<'Publish'> {\n\t\treturn {\n\t\t\t$kind: 'Publish',\n\t\t\tPublish: {\n\t\t\t\tmodules: modules.map((module) =>\n\t\t\t\t\ttypeof module === 'string' ? module : toBase64(new Uint8Array(module)),\n\t\t\t\t),\n\t\t\t\tdependencies: dependencies.map((dep) => normalizeSuiObjectId(dep)),\n\t\t\t},\n\t\t};\n\t},\n\tUpgrade({\n\t\tmodules,\n\t\tdependencies,\n\t\tpackage: packageId,\n\t\tticket,\n\t}: {\n\t\tmodules: number[][] | string[];\n\t\tdependencies: string[];\n\t\tpackage: string;\n\t\tticket: InferInput<typeof ArgumentSchema>;\n\t}): TransactionShape<'Upgrade'> {\n\t\treturn {\n\t\t\t$kind: 'Upgrade',\n\t\t\tUpgrade: {\n\t\t\t\tmodules: modules.map((module) =>\n\t\t\t\t\ttypeof module === 'string' ? module : toBase64(new Uint8Array(module)),\n\t\t\t\t),\n\t\t\t\tdependencies: dependencies.map((dep) => normalizeSuiObjectId(dep)),\n\t\t\t\tpackage: packageId,\n\t\t\t\tticket: parse(ArgumentSchema, ticket),\n\t\t\t},\n\t\t};\n\t},\n\tMakeMoveVec({\n\t\ttype,\n\t\telements,\n\t}: {\n\t\ttype?: string;\n\t\telements: InferInput<typeof ArgumentSchema>[];\n\t}): TransactionShape<'MakeMoveVec'> {\n\t\treturn {\n\t\t\t$kind: 'MakeMoveVec',\n\t\t\tMakeMoveVec: {\n\t\t\t\ttype: type ?? null,\n\t\t\t\telements: elements.map((o) => parse(ArgumentSchema, o)),\n\t\t\t},\n\t\t};\n\t},\n\tIntent({\n\t\tname,\n\t\tinputs = {},\n\t\tdata = {},\n\t}: {\n\t\tname: string;\n\t\tinputs?: Record<\n\t\t\tstring,\n\t\t\tInferInput<typeof ArgumentSchema> | InferInput<typeof ArgumentSchema>[]\n\t\t>;\n\t\tdata?: Record<string, unknown>;\n\t}): TransactionShape<'$Intent'> {\n\t\treturn {\n\t\t\t$kind: '$Intent',\n\t\t\t$Intent: {\n\t\t\t\tname,\n\t\t\t\tinputs: Object.fromEntries(\n\t\t\t\t\tObject.entries(inputs).map(([key, value]) => [\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t? value.map((o) => parse(ArgumentSchema, o))\n\t\t\t\t\t\t\t: parse(ArgumentSchema, value),\n\t\t\t\t\t]),\n\t\t\t\t),\n\t\t\t\tdata,\n\t\t\t},\n\t\t};\n\t},\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3155, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/data/v2.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/data/v2.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { EnumInputShape } from '@mysten/bcs';\nimport type { GenericSchema, InferInput, InferOutput } from 'valibot';\nimport {\n\tarray,\n\tboolean,\n\tinteger,\n\tliteral,\n\tnullable,\n\tnullish,\n\tnumber,\n\tobject,\n\toptional,\n\tpipe,\n\trecord,\n\tstring,\n\ttuple,\n\tunion,\n\tunknown,\n} from 'valibot';\n\nimport {\n\tBCSBytes,\n\tFundsWithdrawalArgSchema,\n\tJsonU64,\n\tObjectID,\n\tObjectRefSchema,\n\tSuiAddress,\n\tValidDuringSchema,\n} from './internal.js';\nimport type { Simplify } from '@mysten/utils';\n\nfunction enumUnion<T extends Record<string, GenericSchema<any>>>(options: T) {\n\treturn union(\n\t\tObject.entries(options).map(([key, value]) => object({ [key]: value })),\n\t) as GenericSchema<\n\t\tEnumInputShape<\n\t\t\tSimplify<{\n\t\t\t\t[K in keyof T]: InferInput<T[K]>;\n\t\t\t}>\n\t\t>\n\t>;\n}\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L690-L702\nconst Argument = enumUnion({\n\tGasCoin: literal(true),\n\tInput: pipe(number(), integer()),\n\tResult: pipe(number(), integer()),\n\tNestedResult: tuple([pipe(number(), integer()), pipe(number(), integer())]),\n});\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L1387-L1392\nconst GasData = object({\n\tbudget: nullable(JsonU64),\n\tprice: nullable(JsonU64),\n\towner: nullable(SuiAddress),\n\tpayment: nullable(array(ObjectRefSchema)),\n});\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L707-L718\nconst ProgrammableMoveCall = object({\n\tpackage: ObjectID,\n\tmodule: string(),\n\tfunction: string(),\n\t// snake case in rust\n\ttypeArguments: array(string()),\n\targuments: array(Argument),\n});\n\nconst $Intent = object({\n\tname: string(),\n\tinputs: record(string(), union([Argument, array(Argument)])),\n\tdata: record(string(), unknown()),\n});\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L657-L685\nconst Command = enumUnion({\n\tMoveCall: ProgrammableMoveCall,\n\tTransferObjects: object({\n\t\tobjects: array(Argument),\n\t\taddress: Argument,\n\t}),\n\tSplitCoins: object({\n\t\tcoin: Argument,\n\t\tamounts: array(Argument),\n\t}),\n\tMergeCoins: object({\n\t\tdestination: Argument,\n\t\tsources: array(Argument),\n\t}),\n\tPublish: object({\n\t\tmodules: array(BCSBytes),\n\t\tdependencies: array(ObjectID),\n\t}),\n\tMakeMoveVec: object({\n\t\ttype: nullable(string()),\n\t\telements: array(Argument),\n\t}),\n\tUpgrade: object({\n\t\tmodules: array(BCSBytes),\n\t\tdependencies: array(ObjectID),\n\t\tpackage: ObjectID,\n\t\tticket: Argument,\n\t}),\n\t$Intent,\n});\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L102-L114\nconst ObjectArg = enumUnion({\n\tImmOrOwnedObject: ObjectRefSchema,\n\tSharedObject: object({\n\t\tobjectId: ObjectID,\n\t\t// snake case in rust\n\t\tinitialSharedVersion: JsonU64,\n\t\tmutable: boolean(),\n\t}),\n\tReceiving: ObjectRefSchema,\n});\n\n// https://github.com/MystenLabs/sui/blob/df41d5fa8127634ff4285671a01ead00e519f806/crates/sui-types/src/transaction.rs#L75-L80\nconst CallArg = enumUnion({\n\tObject: ObjectArg,\n\tPure: object({\n\t\tbytes: BCSBytes,\n\t}),\n\tUnresolvedPure: object({\n\t\tvalue: unknown(),\n\t}),\n\tUnresolvedObject: object({\n\t\tobjectId: ObjectID,\n\t\tversion: optional(nullable(JsonU64)),\n\t\tdigest: optional(nullable(string())),\n\t\tinitialSharedVersion: optional(nullable(JsonU64)),\n\t\tmutable: optional(nullable(boolean())),\n\t}),\n\tFundsWithdrawal: FundsWithdrawalArgSchema,\n});\n\nconst TransactionExpiration = enumUnion({\n\tNone: literal(true),\n\tEpoch: JsonU64,\n\tValidDuring: ValidDuringSchema,\n});\n\nexport const SerializedTransactionDataV2Schema = object({\n\tversion: literal(2),\n\tsender: nullish(SuiAddress),\n\texpiration: nullish(TransactionExpiration),\n\tgasData: GasData,\n\tinputs: array(CallArg),\n\tcommands: array(Command),\n\tdigest: optional(nullable(string())),\n});\n\nexport type SerializedTransactionDataV2 = InferOutput<typeof SerializedTransactionDataV2Schema>;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3274, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/Inputs.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/Inputs.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toBase64 } from '@mysten/bcs';\nimport type { SerializedBcs } from '@mysten/bcs';\n\nimport { normalizeSuiAddress } from '../utils/sui-types.js';\nimport type {\n\tCallArg,\n\tObjectRef,\n\tReservation,\n\tWithdrawalTypeArg,\n\tWithdrawFrom,\n} from './data/internal.js';\n\nfunction Pure(data: Uint8Array | SerializedBcs<any>): Extract<CallArg, { Pure: unknown }> {\n\treturn {\n\t\t$kind: 'Pure',\n\t\tPure: {\n\t\t\tbytes: data instanceof Uint8Array ? toBase64(data) : data.toBase64(),\n\t\t},\n\t};\n}\n\nexport const Inputs = {\n\tPure,\n\tObjectRef({ objectId, digest, version }: ObjectRef): Extract<CallArg, { Object: unknown }> {\n\t\treturn {\n\t\t\t$kind: 'Object',\n\t\t\tObject: {\n\t\t\t\t$kind: 'ImmOrOwnedObject',\n\t\t\t\tImmOrOwnedObject: {\n\t\t\t\t\tdigest,\n\t\t\t\t\tversion,\n\t\t\t\t\tobjectId: normalizeSuiAddress(objectId),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n\tSharedObjectRef({\n\t\tobjectId,\n\t\tmutable,\n\t\tinitialSharedVersion,\n\t}: {\n\t\tobjectId: string;\n\t\tmutable: boolean;\n\t\tinitialSharedVersion: number | string;\n\t}): Extract<CallArg, { Object: unknown }> {\n\t\treturn {\n\t\t\t$kind: 'Object',\n\t\t\tObject: {\n\t\t\t\t$kind: 'SharedObject',\n\t\t\t\tSharedObject: {\n\t\t\t\t\tmutable,\n\t\t\t\t\tinitialSharedVersion,\n\t\t\t\t\tobjectId: normalizeSuiAddress(objectId),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n\tReceivingRef({ objectId, digest, version }: ObjectRef): Extract<CallArg, { Object: unknown }> {\n\t\treturn {\n\t\t\t$kind: 'Object',\n\t\t\tObject: {\n\t\t\t\t$kind: 'Receiving',\n\t\t\t\tReceiving: {\n\t\t\t\t\tdigest,\n\t\t\t\t\tversion,\n\t\t\t\t\tobjectId: normalizeSuiAddress(objectId),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n\tFundsWithdrawal({\n\t\treservation,\n\t\ttypeArg,\n\t\twithdrawFrom,\n\t}: {\n\t\treservation: Reservation;\n\t\ttypeArg: WithdrawalTypeArg;\n\t\twithdrawFrom: WithdrawFrom;\n\t}): Extract<CallArg, { FundsWithdrawal: unknown }> {\n\t\treturn {\n\t\t\t$kind: 'FundsWithdrawal',\n\t\t\tFundsWithdrawal: {\n\t\t\t\treservation,\n\t\t\t\ttypeArg,\n\t\t\t\twithdrawFrom,\n\t\t\t},\n\t\t};\n\t},\n};\n"],"names":[],"mappings":";;;;;;;;;AAeA,SAAS,KAAK,IAAA,EAA4E;IACzF,OAAO;QACN,OAAO;QACP,MAAM;YACL,OAAO,gBAAgB,iBAAa,gKAAA,EAAS,KAAK,GAAG,KAAK,QAAA,EAAU;QAAA,CACpE;KACD;;AAGF,MAAa,SAAS;IACrB;IACA,WAAU,EAAE,QAAA,EAAU,MAAA,EAAQ,OAAA,EAAA,EAA6D;QAC1F,OAAO;YACN,OAAO;YACP,QAAQ;gBACP,OAAO;gBACP,kBAAkB;oBACjB;oBACA;oBACA,cAAU,2LAAA,EAAoB,SAAS;iBACvC;aACD;SACD;;IAEF,iBAAgB,EACf,QAAA,EACA,OAAA,EACA,oBAAA,EAAA,EAKyC;QACzC,OAAO;YACN,OAAO;YACP,QAAQ;gBACP,OAAO;gBACP,cAAc;oBACb;oBACA;oBACA,cAAU,2LAAA,EAAoB,SAAS;iBACvC;aACD;SACD;;IAEF,cAAa,EAAE,QAAA,EAAU,MAAA,EAAQ,OAAA,EAAA,EAA6D;QAC7F,OAAO;YACN,OAAO;YACP,QAAQ;gBACP,OAAO;gBACP,WAAW;oBACV;oBACA;oBACA,cAAU,2LAAA,EAAoB,SAAS;iBACvC;aACD;SACD;;IAEF,iBAAgB,EACf,WAAA,EACA,OAAA,EACA,YAAA,EAAA,EAKkD;QAClD,OAAO;YACN,OAAO;YACP,iBAAiB;gBAChB;gBACA;gBACA;aACA;SACD;;CAEF"}},
    {"offset": {"line": 3349, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/client/errors.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/client/errors.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { ObjectResponseError } from '../jsonRpc/index.js';\nimport type { SuiClientTypes } from './types.js';\n\nexport class SuiClientError extends Error {}\n\nexport class SimulationError extends SuiClientError {\n\texecutionError?: SuiClientTypes.ExecutionError;\n\n\tconstructor(\n\t\tmessage: string,\n\t\toptions?: { cause?: unknown; executionError?: SuiClientTypes.ExecutionError },\n\t) {\n\t\tsuper(message, { cause: options?.cause });\n\t\tthis.executionError = options?.executionError;\n\t}\n}\n\nexport class ObjectError extends SuiClientError {\n\tcode: string;\n\n\tconstructor(code: string, message: string) {\n\t\tsuper(message);\n\t\tthis.code = code;\n\t}\n\n\tstatic fromResponse(response: ObjectResponseError, objectId?: string): ObjectError {\n\t\tswitch (response.code) {\n\t\t\tcase 'notExists':\n\t\t\t\treturn new ObjectError(response.code, `Object ${response.object_id} does not exist`);\n\t\t\tcase 'dynamicFieldNotFound':\n\t\t\t\treturn new ObjectError(\n\t\t\t\t\tresponse.code,\n\t\t\t\t\t`Dynamic field not found for object ${response.parent_object_id}`,\n\t\t\t\t);\n\t\t\tcase 'deleted':\n\t\t\t\treturn new ObjectError(response.code, `Object ${response.object_id} has been deleted`);\n\t\t\tcase 'displayError':\n\t\t\t\treturn new ObjectError(response.code, `Display error: ${response.error}`);\n\t\t\tcase 'unknown':\n\t\t\tdefault:\n\t\t\t\treturn new ObjectError(\n\t\t\t\t\tresponse.code,\n\t\t\t\t\t`Unknown error while loading object${objectId ? ` ${objectId}` : ''}`,\n\t\t\t\t);\n\t\t}\n\t}\n}\n"],"names":[],"mappings":";;;;;;;AAMA,IAAa,iBAAb,cAAoC,MAAM;AAAA;AAE1C,IAAa,kBAAb,cAAqC,eAAe;IAGnD,YACC,OAAA,EACA,OAAA,CACC;QACD,KAAA,CAAM,SAAS;YAAE,OAAO,SAAS;QAAA,CAAO,CAAC;QACzC,IAAA,CAAK,cAAA,GAAiB,SAAS;;;AAIjC,IAAa,cAAb,MAAa,oBAAoB,eAAe;IAG/C,YAAY,IAAA,EAAc,OAAA,CAAiB;QAC1C,KAAA,CAAM,QAAQ;QACd,IAAA,CAAK,IAAA,GAAO;;IAGb,OAAO,aAAa,QAAA,EAA+B,QAAA,EAAgC;QAClF,OAAQ,SAAS,IAAA,EAAjB;YACC,KAAK,YACJ;gBAAA,OAAO,IAAI,YAAY,SAAS,IAAA,EAAM,CAAA,OAAA,EAAU,SAAS,SAAA,CAAU,eAAA,CAAA,CAAiB;YACrF,KAAK,uBACJ;gBAAA,OAAO,IAAI,YACV,SAAS,IAAA,EACT,CAAA,mCAAA,EAAsC,SAAS,gBAAA,EAAA,CAC/C;YACF,KAAK,UACJ;gBAAA,OAAO,IAAI,YAAY,SAAS,IAAA,EAAM,CAAA,OAAA,EAAU,SAAS,SAAA,CAAU,iBAAA,CAAA,CAAmB;YACvF,KAAK,eACJ;gBAAA,OAAO,IAAI,YAAY,SAAS,IAAA,EAAM,CAAA,eAAA,EAAkB,SAAS,KAAA,EAAA,CAAQ;YAC1E,KAAK;YACL,QACC;gBAAA,OAAO,IAAI,YACV,SAAS,IAAA,EACT,CAAA,kCAAA,EAAqC,WAAW,CAAA,CAAA,EAAI,UAAA,GAAa,IAAA,CACjE"}},
    {"offset": {"line": 3393, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/utils/constants.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/utils/constants.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport const SUI_DECIMALS = 9;\nexport const MIST_PER_SUI = BigInt(1000000000);\n\nexport const MOVE_STDLIB_ADDRESS =\n\t'0x0000000000000000000000000000000000000000000000000000000000000001';\nexport const SUI_FRAMEWORK_ADDRESS =\n\t'0x0000000000000000000000000000000000000000000000000000000000000002';\nexport const SUI_SYSTEM_ADDRESS =\n\t'0x0000000000000000000000000000000000000000000000000000000000000003';\nexport const SUI_CLOCK_OBJECT_ID =\n\t'0x0000000000000000000000000000000000000000000000000000000000000006';\nexport const SUI_SYSTEM_MODULE_NAME = 'sui_system';\nexport const SUI_TYPE_ARG = `${SUI_FRAMEWORK_ADDRESS}::sui::SUI`;\nexport const SUI_SYSTEM_STATE_OBJECT_ID =\n\t'0x0000000000000000000000000000000000000000000000000000000000000005';\nexport const SUI_RANDOM_OBJECT_ID =\n\t'0x0000000000000000000000000000000000000000000000000000000000000008';\nexport const SUI_DENY_LIST_OBJECT_ID =\n\t'0x0000000000000000000000000000000000000000000000000000000000000403';\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA,MAAa,eAAe;AAC5B,MAAa,eAAe,OAAO,IAAW;AAE9C,MAAa,sBACZ;AACD,MAAa,wBACZ;AACD,MAAa,qBACZ;AACD,MAAa,sBACZ;AACD,MAAa,yBAAyB;AACtC,MAAa,eAAe,GAAG,sBAAsB,UAAA,CAAA;AACrD,MAAa,6BACZ;AACD,MAAa,uBACZ;AACD,MAAa,0BACZ"}},
    {"offset": {"line": 3435, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/serializer.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/serializer.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { BcsType } from '@mysten/bcs';\n\nimport { bcs } from '../bcs/index.js';\nimport type { SuiMoveNormalizedType } from '../jsonRpc/index.js';\nimport { MOVE_STDLIB_ADDRESS, SUI_FRAMEWORK_ADDRESS } from '../utils/index.js';\nimport { normalizeSuiAddress } from '../utils/sui-types.js';\nimport type { SuiClientTypes } from '../client/types.js';\n\n/**\n * Parses a type name like \"0x2::tx_context::TxContext\" into package, module, and name parts.\n */\nfunction parseTypeName(typeName: string): { package: string; module: string; name: string } {\n\tconst parts = typeName.split('::');\n\tif (parts.length !== 3) {\n\t\tthrow new Error(`Invalid type name format: ${typeName}`);\n\t}\n\treturn { package: parts[0], module: parts[1], name: parts[2] };\n}\n\nexport function isTxContext(param: SuiClientTypes.OpenSignature): boolean {\n\tif (param.body.$kind !== 'datatype') {\n\t\treturn false;\n\t}\n\n\tconst { package: pkg, module, name } = parseTypeName(param.body.datatype.typeName);\n\n\treturn (\n\t\tnormalizeSuiAddress(pkg) === SUI_FRAMEWORK_ADDRESS &&\n\t\tmodule === 'tx_context' &&\n\t\tname === 'TxContext'\n\t);\n}\n\nexport function getPureBcsSchema(\n\ttypeSignature: SuiClientTypes.OpenSignatureBody,\n): BcsType<any> | null {\n\tswitch (typeSignature.$kind) {\n\t\tcase 'address':\n\t\t\treturn bcs.Address;\n\t\tcase 'bool':\n\t\t\treturn bcs.Bool;\n\t\tcase 'u8':\n\t\t\treturn bcs.U8;\n\t\tcase 'u16':\n\t\t\treturn bcs.U16;\n\t\tcase 'u32':\n\t\t\treturn bcs.U32;\n\t\tcase 'u64':\n\t\t\treturn bcs.U64;\n\t\tcase 'u128':\n\t\t\treturn bcs.U128;\n\t\tcase 'u256':\n\t\t\treturn bcs.U256;\n\t\tcase 'vector': {\n\t\t\tif (typeSignature.vector.$kind === 'u8') {\n\t\t\t\treturn bcs.byteVector().transform({\n\t\t\t\t\tinput: (val: string | Uint8Array) =>\n\t\t\t\t\t\ttypeof val === 'string' ? new TextEncoder().encode(val) : val,\n\t\t\t\t\toutput: (val) => val,\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst type = getPureBcsSchema(typeSignature.vector);\n\t\t\treturn type ? bcs.vector(type) : null;\n\t\t}\n\t\tcase 'datatype': {\n\t\t\tconst { package: pkg, module, name } = parseTypeName(typeSignature.datatype.typeName);\n\t\t\tconst normalizedPkg = normalizeSuiAddress(pkg);\n\n\t\t\tif (normalizedPkg === MOVE_STDLIB_ADDRESS) {\n\t\t\t\tif (module === 'ascii' && name === 'String') {\n\t\t\t\t\treturn bcs.String;\n\t\t\t\t}\n\t\t\t\tif (module === 'string' && name === 'String') {\n\t\t\t\t\treturn bcs.String;\n\t\t\t\t}\n\t\t\t\tif (module === 'option' && name === 'Option') {\n\t\t\t\t\tconst type = getPureBcsSchema(typeSignature.datatype.typeParameters[0]);\n\t\t\t\t\treturn type ? bcs.vector(type) : null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (normalizedPkg === SUI_FRAMEWORK_ADDRESS) {\n\t\t\t\tif (module === 'object' && name === 'ID') {\n\t\t\t\t\treturn bcs.Address;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t\tcase 'typeParameter':\n\t\tcase 'unknown':\n\t\t\treturn null;\n\t}\n}\n\nexport function normalizedTypeToMoveTypeSignature(\n\ttype: SuiMoveNormalizedType,\n): SuiClientTypes.OpenSignature {\n\tif (typeof type === 'object' && 'Reference' in type) {\n\t\treturn {\n\t\t\treference: 'immutable',\n\t\t\tbody: normalizedTypeToMoveTypeSignatureBody(type.Reference),\n\t\t};\n\t}\n\tif (typeof type === 'object' && 'MutableReference' in type) {\n\t\treturn {\n\t\t\treference: 'mutable',\n\t\t\tbody: normalizedTypeToMoveTypeSignatureBody(type.MutableReference),\n\t\t};\n\t}\n\n\treturn {\n\t\treference: null,\n\t\tbody: normalizedTypeToMoveTypeSignatureBody(type),\n\t};\n}\n\nfunction normalizedTypeToMoveTypeSignatureBody(\n\ttype: SuiMoveNormalizedType,\n): SuiClientTypes.OpenSignatureBody {\n\tif (typeof type === 'string') {\n\t\tswitch (type) {\n\t\t\tcase 'Address':\n\t\t\t\treturn { $kind: 'address' };\n\t\t\tcase 'Bool':\n\t\t\t\treturn { $kind: 'bool' };\n\t\t\tcase 'U8':\n\t\t\t\treturn { $kind: 'u8' };\n\t\t\tcase 'U16':\n\t\t\t\treturn { $kind: 'u16' };\n\t\t\tcase 'U32':\n\t\t\t\treturn { $kind: 'u32' };\n\t\t\tcase 'U64':\n\t\t\t\treturn { $kind: 'u64' };\n\t\t\tcase 'U128':\n\t\t\t\treturn { $kind: 'u128' };\n\t\t\tcase 'U256':\n\t\t\t\treturn { $kind: 'u256' };\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unexpected type ${type}`);\n\t\t}\n\t}\n\n\tif ('Vector' in type) {\n\t\treturn { $kind: 'vector', vector: normalizedTypeToMoveTypeSignatureBody(type.Vector) };\n\t}\n\n\tif ('Struct' in type) {\n\t\treturn {\n\t\t\t$kind: 'datatype',\n\t\t\tdatatype: {\n\t\t\t\ttypeName: `${type.Struct.address}::${type.Struct.module}::${type.Struct.name}`,\n\t\t\t\ttypeParameters: type.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody),\n\t\t\t},\n\t\t};\n\t}\n\n\tif ('TypeParameter' in type) {\n\t\treturn { $kind: 'typeParameter', index: type.TypeParameter };\n\t}\n\n\tthrow new Error(`Unexpected type ${JSON.stringify(type)}`);\n}\n\nexport function pureBcsSchemaFromOpenSignatureBody(\n\ttypeSignature: SuiClientTypes.OpenSignatureBody,\n): BcsType<any> {\n\tswitch (typeSignature.$kind) {\n\t\tcase 'address':\n\t\t\treturn bcs.Address;\n\t\tcase 'bool':\n\t\t\treturn bcs.Bool;\n\t\tcase 'u8':\n\t\t\treturn bcs.U8;\n\t\tcase 'u16':\n\t\t\treturn bcs.U16;\n\t\tcase 'u32':\n\t\t\treturn bcs.U32;\n\t\tcase 'u64':\n\t\t\treturn bcs.U64;\n\t\tcase 'u128':\n\t\t\treturn bcs.U128;\n\t\tcase 'u256':\n\t\t\treturn bcs.U256;\n\t\tcase 'vector':\n\t\t\treturn bcs.vector(pureBcsSchemaFromOpenSignatureBody(typeSignature.vector));\n\t\tdefault:\n\t\t\tthrow new Error(`Expected pure typeSignature, but got ${JSON.stringify(typeSignature)}`);\n\t}\n}\n"],"names":["bcs"],"mappings":"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"}},
    {"offset": {"line": 3589, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/client/core-resolver.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/client/core-resolver.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { parse } from 'valibot';\n\nimport { normalizeSuiAddress, normalizeSuiObjectId, SUI_TYPE_ARG } from '../utils/index.js';\nimport type { ClientWithCoreApi } from './core.js';\nimport { ObjectRefSchema } from '../transactions/data/internal.js';\nimport type { CallArg, Command } from '../transactions/data/internal.js';\nimport type { SuiClientTypes } from './types.js';\nimport { SimulationError } from './errors.js';\nimport { Inputs } from '../transactions/Inputs.js';\nimport { getPureBcsSchema, isTxContext } from '../transactions/serializer.js';\nimport type { TransactionDataBuilder } from '../transactions/TransactionData.js';\nimport { chunk } from '@mysten/utils';\nimport type { BuildTransactionOptions } from '../transactions/index.js';\n\n// The maximum objects that can be fetched at once using multiGetObjects.\nconst MAX_OBJECTS_PER_FETCH = 50;\n\n// An amount of gas (in gas units) that is added to transactions as an overhead to ensure transactions do not fail.\nconst GAS_SAFE_OVERHEAD = 1000n;\nconst MAX_GAS = 50_000_000_000;\n\nfunction getClient(options: BuildTransactionOptions): ClientWithCoreApi {\n\tif (!options.client) {\n\t\tthrow new Error(\n\t\t\t`No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.`,\n\t\t);\n\t}\n\treturn options.client;\n}\n\nexport async function coreClientResolveTransactionPlugin(\n\ttransactionData: TransactionDataBuilder,\n\toptions: BuildTransactionOptions,\n\tnext: () => Promise<void>,\n) {\n\tconst client = getClient(options);\n\n\tawait normalizeInputs(transactionData, client);\n\tawait resolveObjectReferences(transactionData, client);\n\n\tif (!options.onlyTransactionKind) {\n\t\tawait setGasData(transactionData, client);\n\t}\n\n\treturn await next();\n}\n\ninterface SystemStateData {\n\tepoch: string;\n\treferenceGasPrice: string;\n}\n\nasync function setGasData(transactionData: TransactionDataBuilder, client: ClientWithCoreApi) {\n\tlet systemState: SystemStateData | null = null;\n\n\tif (!transactionData.gasData.price) {\n\t\tconst response = await client.core.getCurrentSystemState();\n\t\tsystemState = response.systemState;\n\t\ttransactionData.gasData.price = systemState.referenceGasPrice;\n\t}\n\n\tawait setGasBudget(transactionData, client);\n\tawait setGasPayment(transactionData, client);\n\n\tif (!transactionData.expiration) {\n\t\tawait setExpiration(transactionData, client, systemState);\n\t}\n}\n\nasync function setGasBudget(transactionData: TransactionDataBuilder, client: ClientWithCoreApi) {\n\tif (transactionData.gasData.budget) {\n\t\treturn;\n\t}\n\n\tconst simulateResult = await client.core.simulateTransaction({\n\t\ttransaction: transactionData.build({\n\t\t\toverrides: {\n\t\t\t\tgasData: {\n\t\t\t\t\tbudget: String(MAX_GAS),\n\t\t\t\t\tpayment: [],\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\tinclude: { effects: true },\n\t});\n\n\tif (simulateResult.$kind === 'FailedTransaction') {\n\t\tconst executionError = simulateResult.FailedTransaction.status.error ?? undefined;\n\t\tconst errorMessage = executionError?.message ?? 'Unknown error';\n\t\tthrow new SimulationError(`Transaction resolution failed: ${errorMessage}`, {\n\t\t\tcause: simulateResult,\n\t\t\texecutionError,\n\t\t});\n\t}\n\n\tconst gasUsed = simulateResult.Transaction.effects!.gasUsed;\n\tconst safeOverhead = GAS_SAFE_OVERHEAD * BigInt(transactionData.gasData.price || 1n);\n\n\tconst baseComputationCostWithOverhead = BigInt(gasUsed.computationCost) + safeOverhead;\n\n\tconst gasBudget =\n\t\tbaseComputationCostWithOverhead + BigInt(gasUsed.storageCost) - BigInt(gasUsed.storageRebate);\n\n\ttransactionData.gasData.budget = String(\n\t\tgasBudget > baseComputationCostWithOverhead ? gasBudget : baseComputationCostWithOverhead,\n\t);\n}\n\n// The current default is just picking _all_ coins we can which may not be ideal.\nasync function setGasPayment(transactionData: TransactionDataBuilder, client: ClientWithCoreApi) {\n\tif (!transactionData.gasData.payment) {\n\t\tconst gasPayer = transactionData.gasData.owner ?? transactionData.sender!;\n\t\tlet usesGasCoin = false;\n\t\tlet withdrawals = 0n;\n\n\t\ttransactionData.mapArguments((arg) => {\n\t\t\tif (arg.$kind === 'GasCoin') {\n\t\t\t\tusesGasCoin = true;\n\t\t\t} else if (arg.$kind === 'Input') {\n\t\t\t\tconst input = transactionData.inputs[arg.Input];\n\n\t\t\t\tif (input.$kind === 'FundsWithdrawal') {\n\t\t\t\t\tconst withdrawalOwner = input.FundsWithdrawal.withdrawFrom.Sender\n\t\t\t\t\t\t? transactionData.sender\n\t\t\t\t\t\t: gasPayer;\n\n\t\t\t\t\tif (withdrawalOwner === gasPayer) {\n\t\t\t\t\t\tif (input.FundsWithdrawal.reservation.$kind === 'MaxAmountU64') {\n\t\t\t\t\t\t\twithdrawals += BigInt(input.FundsWithdrawal.reservation.MaxAmountU64);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn arg;\n\t\t});\n\n\t\tconst [suiBalance, coins] = await Promise.all([\n\t\t\tusesGasCoin || !transactionData.gasData.owner\n\t\t\t\t? null\n\t\t\t\t: client.core.getBalance({\n\t\t\t\t\t\towner: transactionData.gasData.owner,\n\t\t\t\t\t}),\n\t\t\tclient.core.listCoins({\n\t\t\t\towner: transactionData.gasData.owner || transactionData.sender!,\n\t\t\t\tcoinType: SUI_TYPE_ARG,\n\t\t\t}),\n\t\t]);\n\n\t\tif (\n\t\t\tsuiBalance?.balance.addressBalance &&\n\t\t\tBigInt(suiBalance.balance.addressBalance) >=\n\t\t\t\tBigInt(transactionData.gasData.budget || '0') + withdrawals\n\t\t) {\n\t\t\ttransactionData.gasData.payment = [];\n\t\t\treturn;\n\t\t}\n\n\t\tconst paymentCoins = coins.objects\n\t\t\t// Filter out coins that are also used as input:\n\t\t\t.filter((coin) => {\n\t\t\t\tconst matchingInput = transactionData.inputs.find((input) => {\n\t\t\t\t\tif (input.Object?.ImmOrOwnedObject) {\n\t\t\t\t\t\treturn coin.objectId === input.Object.ImmOrOwnedObject.objectId;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\treturn !matchingInput;\n\t\t\t})\n\t\t\t.map((coin) =>\n\t\t\t\tparse(ObjectRefSchema, {\n\t\t\t\t\tobjectId: coin.objectId,\n\t\t\t\t\tdigest: coin.digest,\n\t\t\t\t\tversion: coin.version,\n\t\t\t\t}),\n\t\t\t);\n\n\t\tif (!paymentCoins.length) {\n\t\t\tthrow new Error('No valid gas coins found for the transaction.');\n\t\t}\n\n\t\ttransactionData.gasData.payment = paymentCoins;\n\t}\n}\n\nasync function setExpiration(\n\ttransactionData: TransactionDataBuilder,\n\tclient: ClientWithCoreApi,\n\texistingSystemState: SystemStateData | null,\n) {\n\tconst [systemState, { chainIdentifier }] = await Promise.all([\n\t\texistingSystemState ?? client.core.getCurrentSystemState().then((r) => r.systemState),\n\t\tclient.core.getChainIdentifier(),\n\t]);\n\tconst currentEpoch = BigInt(systemState.epoch);\n\n\ttransactionData.expiration = {\n\t\t$kind: 'ValidDuring',\n\t\tValidDuring: {\n\t\t\tminEpoch: String(currentEpoch),\n\t\t\tmaxEpoch: String(currentEpoch + 1n),\n\t\t\tminTimestamp: null,\n\t\t\tmaxTimestamp: null,\n\t\t\tchain: chainIdentifier,\n\t\t\tnonce: (Math.random() * 0x100000000) >>> 0,\n\t\t},\n\t};\n}\n\nasync function resolveObjectReferences(\n\ttransactionData: TransactionDataBuilder,\n\tclient: ClientWithCoreApi,\n) {\n\t// Keep track of the object references that will need to be resolved at the end of the transaction.\n\t// We keep the input by-reference to avoid needing to re-resolve it:\n\tconst objectsToResolve = transactionData.inputs.filter((input) => {\n\t\treturn (\n\t\t\tinput.UnresolvedObject &&\n\t\t\t!(input.UnresolvedObject.version || input.UnresolvedObject?.initialSharedVersion)\n\t\t);\n\t}) as Extract<CallArg, { UnresolvedObject: unknown }>[];\n\n\tconst dedupedIds = [\n\t\t...new Set(\n\t\t\tobjectsToResolve.map((input) => normalizeSuiObjectId(input.UnresolvedObject.objectId)),\n\t\t),\n\t];\n\n\tconst objectChunks = dedupedIds.length ? chunk(dedupedIds, MAX_OBJECTS_PER_FETCH) : [];\n\tconst resolved = (\n\t\tawait Promise.all(\n\t\t\tobjectChunks.map((chunkIds) =>\n\t\t\t\tclient.core.getObjects({\n\t\t\t\t\tobjectIds: chunkIds,\n\t\t\t\t}),\n\t\t\t),\n\t\t)\n\t).flatMap((result) => result.objects);\n\n\tconst responsesById = new Map(\n\t\tdedupedIds.map((id, index) => {\n\t\t\treturn [id, resolved[index]];\n\t\t}),\n\t);\n\n\tconst invalidObjects = Array.from(responsesById)\n\t\t.filter(([_, obj]) => obj instanceof Error)\n\t\t.map(([_, obj]) => (obj as Error).message);\n\n\tif (invalidObjects.length) {\n\t\tthrow new Error(`The following input objects are invalid: ${invalidObjects.join(', ')}`);\n\t}\n\n\tconst objects = resolved.map((object) => {\n\t\tif (object instanceof Error) {\n\t\t\tthrow new Error(`Failed to fetch object: ${object.message}`);\n\t\t}\n\t\tconst owner = object.owner;\n\t\tconst initialSharedVersion =\n\t\t\towner && typeof owner === 'object'\n\t\t\t\t? owner.$kind === 'Shared'\n\t\t\t\t\t? owner.Shared.initialSharedVersion\n\t\t\t\t\t: owner.$kind === 'ConsensusAddressOwner'\n\t\t\t\t\t\t? owner.ConsensusAddressOwner.startVersion\n\t\t\t\t\t\t: null\n\t\t\t\t: null;\n\n\t\treturn {\n\t\t\tobjectId: object.objectId,\n\t\t\tdigest: object.digest,\n\t\t\tversion: object.version,\n\t\t\tinitialSharedVersion,\n\t\t};\n\t});\n\n\tconst objectsById = new Map(\n\t\tdedupedIds.map((id, index) => {\n\t\t\treturn [id, objects[index]];\n\t\t}),\n\t);\n\n\tfor (const [index, input] of transactionData.inputs.entries()) {\n\t\tif (!input.UnresolvedObject) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet updated: CallArg | undefined;\n\t\tconst id = normalizeSuiAddress(input.UnresolvedObject.objectId);\n\t\tconst object = objectsById.get(id);\n\n\t\tif (input.UnresolvedObject.initialSharedVersion ?? object?.initialSharedVersion) {\n\t\t\tupdated = Inputs.SharedObjectRef({\n\t\t\t\tobjectId: id,\n\t\t\t\tinitialSharedVersion:\n\t\t\t\t\tinput.UnresolvedObject.initialSharedVersion || object?.initialSharedVersion!,\n\t\t\t\tmutable: input.UnresolvedObject.mutable || isUsedAsMutable(transactionData, index),\n\t\t\t});\n\t\t} else if (isUsedAsReceiving(transactionData, index)) {\n\t\t\tupdated = Inputs.ReceivingRef(\n\t\t\t\t{\n\t\t\t\t\tobjectId: id,\n\t\t\t\t\tdigest: input.UnresolvedObject.digest ?? object?.digest!,\n\t\t\t\t\tversion: input.UnresolvedObject.version ?? object?.version!,\n\t\t\t\t}!,\n\t\t\t);\n\t\t}\n\n\t\ttransactionData.inputs[transactionData.inputs.indexOf(input)] =\n\t\t\tupdated ??\n\t\t\tInputs.ObjectRef({\n\t\t\t\tobjectId: id,\n\t\t\t\tdigest: input.UnresolvedObject.digest ?? object?.digest!,\n\t\t\t\tversion: input.UnresolvedObject.version ?? object?.version!,\n\t\t\t});\n\t}\n}\n\nasync function normalizeInputs(transactionData: TransactionDataBuilder, client: ClientWithCoreApi) {\n\tconst { inputs, commands } = transactionData;\n\tconst moveCallsToResolve: Extract<Command, { MoveCall: unknown }>['MoveCall'][] = [];\n\tconst moveFunctionsToResolve = new Set<string>();\n\n\tcommands.forEach((command) => {\n\t\t// Special case move call:\n\t\tif (command.MoveCall) {\n\t\t\t// Determine if any of the arguments require encoding.\n\t\t\t// - If they don't, then this is good to go.\n\t\t\t// - If they do, then we need to fetch the normalized move module.\n\n\t\t\t// If we already know the argument types, we don't need to resolve them again\n\t\t\tif (command.MoveCall._argumentTypes) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst inputs = command.MoveCall.arguments.map((arg) => {\n\t\t\t\tif (arg.$kind === 'Input') {\n\t\t\t\t\treturn transactionData.inputs[arg.Input];\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t});\n\t\t\tconst needsResolution = inputs.some(\n\t\t\t\t(input) =>\n\t\t\t\t\tinput?.UnresolvedPure ||\n\t\t\t\t\t(input?.UnresolvedObject && typeof input?.UnresolvedObject.mutable !== 'boolean'),\n\t\t\t);\n\n\t\t\tif (needsResolution) {\n\t\t\t\tconst functionName = `${command.MoveCall.package}::${command.MoveCall.module}::${command.MoveCall.function}`;\n\t\t\t\tmoveFunctionsToResolve.add(functionName);\n\t\t\t\tmoveCallsToResolve.push(command.MoveCall);\n\t\t\t}\n\t\t}\n\t});\n\n\tconst moveFunctionParameters = new Map<string, SuiClientTypes.OpenSignature[]>();\n\tif (moveFunctionsToResolve.size > 0) {\n\t\tawait Promise.all(\n\t\t\t[...moveFunctionsToResolve].map(async (functionName) => {\n\t\t\t\tconst [packageId, moduleName, name] = functionName.split('::');\n\t\t\t\tconst { function: def } = await client.core.getMoveFunction({\n\t\t\t\t\tpackageId,\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tname,\n\t\t\t\t});\n\n\t\t\t\tmoveFunctionParameters.set(functionName, def.parameters);\n\t\t\t}),\n\t\t);\n\t}\n\n\tif (moveCallsToResolve.length) {\n\t\tawait Promise.all(\n\t\t\tmoveCallsToResolve.map(async (moveCall) => {\n\t\t\t\tconst parameters = moveFunctionParameters.get(\n\t\t\t\t\t`${moveCall.package}::${moveCall.module}::${moveCall.function}`,\n\t\t\t\t);\n\n\t\t\t\tif (!parameters) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Entry functions can have a mutable reference to an instance of the TxContext\n\t\t\t\t// struct defined in the TxContext module as the last parameter. The caller of\n\t\t\t\t// the function does not need to pass it in as an argument.\n\t\t\t\tconst hasTxContext = parameters.length > 0 && isTxContext(parameters.at(-1)!);\n\t\t\t\tconst params = hasTxContext ? parameters.slice(0, parameters.length - 1) : parameters;\n\n\t\t\t\tmoveCall._argumentTypes = params;\n\t\t\t}),\n\t\t);\n\t}\n\n\tcommands.forEach((command) => {\n\t\tif (!command.MoveCall) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst moveCall = command.MoveCall;\n\t\tconst fnName = `${moveCall.package}::${moveCall.module}::${moveCall.function}`;\n\t\tconst params = moveCall._argumentTypes;\n\n\t\tif (!params) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (params.length !== command.MoveCall.arguments.length) {\n\t\t\tthrow new Error(`Incorrect number of arguments for ${fnName}`);\n\t\t}\n\n\t\tparams.forEach((param, i) => {\n\t\t\tconst arg = moveCall.arguments[i];\n\t\t\tif (arg.$kind !== 'Input') return;\n\t\t\tconst input = inputs[arg.Input];\n\n\t\t\t// Skip if the input is already resolved\n\t\t\tif (!input.UnresolvedPure && !input.UnresolvedObject) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst inputValue = input.UnresolvedPure?.value ?? input.UnresolvedObject?.objectId!;\n\n\t\t\tconst schema = getPureBcsSchema(param.body);\n\t\t\tif (schema) {\n\t\t\t\targ.type = 'pure';\n\t\t\t\tinputs[inputs.indexOf(input)] = Inputs.Pure(schema.serialize(inputValue));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof inputValue !== 'string') {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Expect the argument to be an object id string, got ${JSON.stringify(\n\t\t\t\t\t\tinputValue,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t2,\n\t\t\t\t\t)}`,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\targ.type = 'object';\n\t\t\tconst unresolvedObject: typeof input = input.UnresolvedPure\n\t\t\t\t? {\n\t\t\t\t\t\t$kind: 'UnresolvedObject',\n\t\t\t\t\t\tUnresolvedObject: {\n\t\t\t\t\t\t\tobjectId: inputValue,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t: input;\n\n\t\t\tinputs[arg.Input] = unresolvedObject;\n\t\t});\n\t});\n}\n\nfunction isUsedAsMutable(transactionData: TransactionDataBuilder, index: number) {\n\tlet usedAsMutable = false;\n\n\ttransactionData.getInputUses(index, (arg, tx) => {\n\t\tif (tx.MoveCall && tx.MoveCall._argumentTypes) {\n\t\t\tconst argIndex = tx.MoveCall.arguments.indexOf(arg);\n\t\t\tusedAsMutable =\n\t\t\t\ttx.MoveCall._argumentTypes[argIndex].reference !== 'immutable' || usedAsMutable;\n\t\t}\n\n\t\tif (\n\t\t\ttx.$kind === 'MakeMoveVec' ||\n\t\t\ttx.$kind === 'MergeCoins' ||\n\t\t\ttx.$kind === 'SplitCoins' ||\n\t\t\ttx.$kind === 'TransferObjects'\n\t\t) {\n\t\t\tusedAsMutable = true;\n\t\t}\n\t});\n\n\treturn usedAsMutable;\n}\n\nfunction isUsedAsReceiving(transactionData: TransactionDataBuilder, index: number) {\n\tlet usedAsReceiving = false;\n\n\ttransactionData.getInputUses(index, (arg, tx) => {\n\t\tif (tx.MoveCall && tx.MoveCall._argumentTypes) {\n\t\t\tconst argIndex = tx.MoveCall.arguments.indexOf(arg);\n\t\t\tusedAsReceiving = isReceivingType(tx.MoveCall._argumentTypes[argIndex]) || usedAsReceiving;\n\t\t}\n\t});\n\n\treturn usedAsReceiving;\n}\n\nconst RECEIVING_TYPE =\n\t'0x0000000000000000000000000000000000000000000000000000000000000002::transfer::Receiving';\n\nfunction isReceivingType(type: SuiClientTypes.OpenSignature): boolean {\n\tif (type.body.$kind !== 'datatype') {\n\t\treturn false;\n\t}\n\n\treturn type.body.datatype.typeName === RECEIVING_TYPE;\n}\n"],"names":["object"],"mappings":"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"}},
    {"offset": {"line": 3879, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/resolve.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/resolve.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Argument } from './data/internal.js';\n\nimport type { ClientWithCoreApi } from '../client/index.js';\nimport type { TransactionDataBuilder } from './TransactionData.js';\nimport type { BcsType } from '@mysten/bcs';\nimport { Inputs } from './Inputs.js';\nimport { bcs } from '../bcs/index.js';\nimport { coreClientResolveTransactionPlugin } from '../client/core-resolver.js';\n\nexport interface BuildTransactionOptions {\n\tclient?: ClientWithCoreApi;\n\tonlyTransactionKind?: boolean;\n}\n\nexport interface SerializeTransactionOptions extends BuildTransactionOptions {\n\tsupportedIntents?: string[];\n}\n\nexport type TransactionPlugin = (\n\ttransactionData: TransactionDataBuilder,\n\toptions: BuildTransactionOptions,\n\tnext: () => Promise<void>,\n) => Promise<void>;\n\nexport function needsTransactionResolution(\n\tdata: TransactionDataBuilder,\n\toptions: BuildTransactionOptions,\n): boolean {\n\tif (\n\t\tdata.inputs.some((input) => {\n\t\t\treturn input.UnresolvedObject || input.UnresolvedPure;\n\t\t})\n\t) {\n\t\treturn true;\n\t}\n\n\tif (!options.onlyTransactionKind) {\n\t\tif (!data.gasData.price || !data.gasData.budget || !data.gasData.payment) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (data.gasData.payment.length === 0 && !data.expiration) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport async function resolveTransactionPlugin(\n\ttransactionData: TransactionDataBuilder,\n\toptions: BuildTransactionOptions,\n\tnext: () => Promise<void>,\n) {\n\tnormalizeRawArguments(transactionData);\n\tif (!needsTransactionResolution(transactionData, options)) {\n\t\tawait validate(transactionData);\n\t\treturn next();\n\t}\n\n\tconst client = getClient(options);\n\tconst plugin = client.core?.resolveTransactionPlugin() ?? coreClientResolveTransactionPlugin;\n\n\treturn plugin(transactionData, options, async () => {\n\t\tawait validate(transactionData);\n\t\tawait next();\n\t});\n}\n\nfunction validate(transactionData: TransactionDataBuilder) {\n\ttransactionData.inputs.forEach((input, index) => {\n\t\tif (input.$kind !== 'Object' && input.$kind !== 'Pure' && input.$kind !== 'FundsWithdrawal') {\n\t\t\tthrow new Error(\n\t\t\t\t`Input at index ${index} has not been resolved.  Expected a Pure, Object, or FundsWithdrawal input, but found ${JSON.stringify(\n\t\t\t\t\tinput,\n\t\t\t\t)}`,\n\t\t\t);\n\t\t}\n\t});\n}\n\nexport function getClient(options: BuildTransactionOptions) {\n\tif (!options.client) {\n\t\tthrow new Error(\n\t\t\t`No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.`,\n\t\t);\n\t}\n\n\treturn options.client;\n}\n\nfunction normalizeRawArguments(transactionData: TransactionDataBuilder) {\n\tfor (const command of transactionData.commands) {\n\t\tswitch (command.$kind) {\n\t\t\tcase 'SplitCoins':\n\t\t\t\tcommand.SplitCoins.amounts.forEach((amount) => {\n\t\t\t\t\tnormalizeRawArgument(amount, bcs.U64, transactionData);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'TransferObjects':\n\t\t\t\tnormalizeRawArgument(command.TransferObjects.address, bcs.Address, transactionData);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nfunction normalizeRawArgument(\n\targ: Argument,\n\tschema: BcsType<any>,\n\ttransactionData: TransactionDataBuilder,\n) {\n\tif (arg.$kind !== 'Input') {\n\t\treturn;\n\t}\n\tconst input = transactionData.inputs[arg.Input];\n\n\tif (input.$kind !== 'UnresolvedPure') {\n\t\treturn;\n\t}\n\n\ttransactionData.inputs[arg.Input] = Inputs.Pure(schema.serialize(input.UnresolvedPure.value));\n}\n"],"names":["bcs"],"mappings":";;;;;;;;;;;;;AA2BA,SAAgB,2BACf,IAAA,EACA,OAAA,EACU;IACV,IACC,KAAK,MAAA,CAAO,IAAA,CAAA,CAAM,UAAU;QAC3B,OAAO,MAAM,gBAAA,IAAoB,MAAM,cAAA;MACtC,CAEF,CAAA,OAAO;IAGR,IAAI,CAAC,QAAQ,mBAAA,EAAqB;QACjC,IAAI,CAAC,KAAK,OAAA,CAAQ,KAAA,IAAS,CAAC,KAAK,OAAA,CAAQ,MAAA,IAAU,CAAC,KAAK,OAAA,CAAQ,OAAA,CAChE,CAAA,OAAO;QAGR,IAAI,KAAK,OAAA,CAAQ,OAAA,CAAQ,MAAA,KAAW,KAAK,CAAC,KAAK,UAAA,CAC9C,CAAA,OAAO;;IAIT,OAAO;;AAGR,eAAsB,yBACrB,eAAA,EACA,OAAA,EACA,IAAA,EACC;IACD,sBAAsB,gBAAgB;IACtC,IAAI,CAAC,2BAA2B,iBAAiB,QAAQ,EAAE;QAC1D,MAAM,SAAS,gBAAgB;QAC/B,OAAO,MAAM;;IAMd,OAAA,CAHe,UAAU,QAAQ,CACX,IAAA,EAAM,0BAA0B,IAAI,+MAAA,EAE5C,iBAAiB,SAAS,YAAY;QACnD,MAAM,SAAS,gBAAgB;QAC/B,MAAM,MAAM;MACX;;AAGH,SAAS,SAAS,eAAA,EAAyC;IAC1D,gBAAgB,MAAA,CAAO,OAAA,CAAA,CAAS,OAAO,UAAU;QAChD,IAAI,MAAM,KAAA,KAAU,YAAY,MAAM,KAAA,KAAU,UAAU,MAAM,KAAA,KAAU,kBACzE,CAAA,MAAM,IAAI,MACT,CAAA,eAAA,EAAkB,MAAM,sFAAA,EAAwF,KAAK,SAAA,CACpH,MACA,EAAA,CACD;MAED;;AAGH,SAAgB,UAAU,OAAA,EAAkC;IAC3D,IAAI,CAAC,QAAQ,MAAA,CACZ,CAAA,MAAM,IAAI,MACT,CAAA,oGAAA,CAAA,CACA;IAGF,OAAO,QAAQ,MAAA;;AAGhB,SAAS,sBAAsB,eAAA,EAAyC;IACvE,KAAK,MAAM,WAAW,gBAAgB,QAAA,CACrC,OAAQ,QAAQ,KAAA,EAAhB;QACC,KAAK;YACJ,QAAQ,UAAA,CAAW,OAAA,CAAQ,OAAA,CAAA,CAAS,WAAW;gBAC9C,qBAAqB,QAAQA,kLAAAA,CAAI,GAAA,EAAK,gBAAgB;cACrD;YACF;QACD,KAAK;YACJ,qBAAqB,QAAQ,eAAA,CAAgB,OAAA,EAASA,kLAAAA,CAAI,OAAA,EAAS,gBAAgB;YACnF;;;AAKJ,SAAS,qBACR,GAAA,EACA,MAAA,EACA,eAAA,EACC;IACD,IAAI,IAAI,KAAA,KAAU,QACjB,CAAA;IAED,MAAM,QAAQ,gBAAgB,MAAA,CAAO,IAAI,KAAA,CAAA;IAEzC,IAAI,MAAM,KAAA,KAAU,iBACnB,CAAA;IAGD,gBAAgB,MAAA,CAAO,IAAI,KAAA,CAAA,GAAS,+KAAA,CAAO,IAAA,CAAK,OAAO,SAAA,CAAU,MAAM,cAAA,CAAe,KAAA,CAAM,CAAC"}},
    {"offset": {"line": 3946, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/object.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/object.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Transaction, TransactionObjectInput } from './Transaction.js';\nimport { Inputs } from './Inputs.js';\nimport {\n\tMOVE_STDLIB_ADDRESS,\n\tSUI_CLOCK_OBJECT_ID,\n\tSUI_DENY_LIST_OBJECT_ID,\n\tSUI_RANDOM_OBJECT_ID,\n\tSUI_SYSTEM_STATE_OBJECT_ID,\n} from '../utils/index.js';\n\nexport function createObjectMethods<T>(makeObject: (value: TransactionObjectInput) => T) {\n\tfunction object(value: TransactionObjectInput) {\n\t\treturn makeObject(value);\n\t}\n\n\tobject.system = (options?: { mutable?: boolean }) => {\n\t\tconst mutable = options?.mutable;\n\n\t\tif (mutable !== undefined) {\n\t\t\treturn object(\n\t\t\t\tInputs.SharedObjectRef({\n\t\t\t\t\tobjectId: SUI_SYSTEM_STATE_OBJECT_ID,\n\t\t\t\t\tinitialSharedVersion: 1,\n\t\t\t\t\tmutable,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\n\t\treturn object({\n\t\t\t$kind: 'UnresolvedObject',\n\t\t\tUnresolvedObject: {\n\t\t\t\tobjectId: SUI_SYSTEM_STATE_OBJECT_ID,\n\t\t\t\tinitialSharedVersion: 1,\n\t\t\t},\n\t\t});\n\t};\n\tobject.clock = () =>\n\t\tobject(\n\t\t\tInputs.SharedObjectRef({\n\t\t\t\tobjectId: SUI_CLOCK_OBJECT_ID,\n\t\t\t\tinitialSharedVersion: 1,\n\t\t\t\tmutable: false,\n\t\t\t}),\n\t\t);\n\tobject.random = () =>\n\t\tobject({\n\t\t\t$kind: 'UnresolvedObject',\n\t\t\tUnresolvedObject: {\n\t\t\t\tobjectId: SUI_RANDOM_OBJECT_ID,\n\t\t\t\tmutable: false,\n\t\t\t},\n\t\t});\n\tobject.denyList = (options?: { mutable?: boolean }) => {\n\t\treturn object({\n\t\t\t$kind: 'UnresolvedObject',\n\t\t\tUnresolvedObject: {\n\t\t\t\tobjectId: SUI_DENY_LIST_OBJECT_ID,\n\t\t\t\tmutable: options?.mutable,\n\t\t\t},\n\t\t});\n\t};\n\tobject.option =\n\t\t({ type, value }: { type: string; value: TransactionObjectInput | null }) =>\n\t\t(tx: Transaction) =>\n\t\t\ttx.moveCall({\n\t\t\t\ttypeArguments: [type],\n\t\t\t\ttarget: `${MOVE_STDLIB_ADDRESS}::option::${value === null ? 'none' : 'some'}`,\n\t\t\t\targuments: value === null ? [] : [tx.object(value)],\n\t\t\t});\n\n\treturn object;\n}\n"],"names":[],"mappings":";;;;;;;;;AAaA,SAAgB,oBAAuB,UAAA,EAAkD;IACxF,SAAS,OAAO,KAAA,EAA+B;QAC9C,OAAO,WAAW,MAAM;;IAGzB,OAAO,MAAA,GAAA,CAAU,YAAoC;QACpD,MAAM,UAAU,SAAS;QAEzB,IAAI,YAAY,KAAA,EACf,CAAA,OAAO,OACN,+KAAA,CAAO,eAAA,CAAgB;YACtB,UAAU,+LAAA;YACV,sBAAsB;YACtB;SACA,CAAC,CACF;QAGF,OAAO,OAAO;YACb,OAAO;YACP,kBAAkB;gBACjB,UAAU,+LAAA;gBACV,sBAAsB;aACtB;SACD,CAAC;;IAEH,OAAO,KAAA,GAAA,IACN,OACC,+KAAA,CAAO,eAAA,CAAgB;YACtB,UAAU,wLAAA;YACV,sBAAsB;YACtB,SAAS;SACT,CAAC,CACF;IACF,OAAO,MAAA,GAAA,IACN,OAAO;YACN,OAAO;YACP,kBAAkB;gBACjB,UAAU,yLAAA;gBACV,SAAS;aACT;SACD,CAAC;IACH,OAAO,QAAA,GAAA,CAAY,YAAoC;QACtD,OAAO,OAAO;YACb,OAAO;YACP,kBAAkB;gBACjB,UAAU,4LAAA;gBACV,SAAS,SAAS;aAClB;SACD,CAAC;;IAEH,OAAO,MAAA,GAAA,CACL,EAAE,IAAA,EAAM,KAAA,EAAA,GAAA,CACR,KACA,GAAG,QAAA,CAAS;gBACX,eAAe;oBAAC;iBAAK;gBACrB,QAAQ,GAAG,wLAAA,CAAoB,UAAA,EAAY,UAAU,OAAO,SAAS,QAAA;gBACrE,WAAW,UAAU,OAAO,EAAE,GAAG;oBAAC,GAAG,MAAA,CAAO,MAAM;iBAAC;aACnD,CAAC;IAEJ,OAAO"}},
    {"offset": {"line": 4012, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/pure.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/pure.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { isSerializedBcs } from '@mysten/bcs';\nimport type { SerializedBcs } from '@mysten/bcs';\n\nimport { bcs } from '../bcs/index.js';\nimport { pureBcsSchemaFromTypeName } from '../bcs/pure.js';\nimport type { PureTypeName, ShapeFromPureTypeName, ValidPureTypeName } from '../bcs/pure.js';\n\nexport function createPure<T>(makePure: (value: SerializedBcs<any, any> | Uint8Array) => T) {\n\tfunction pure<Type extends PureTypeName>(\n\t\ttype: Type extends PureTypeName ? ValidPureTypeName<Type> : Type,\n\t\tvalue: ShapeFromPureTypeName<Type>,\n\t): T;\n\n\tfunction pure(\n\t\t/**\n\t\t * The pure value, serialized to BCS. If this is a Uint8Array, then the value\n\t\t * is assumed to be raw bytes, and will be used directly.\n\t\t */\n\t\tvalue: SerializedBcs<any, any> | Uint8Array,\n\t): T;\n\n\tfunction pure(\n\t\ttypeOrSerializedValue?: PureTypeName | SerializedBcs<any, any> | Uint8Array,\n\t\tvalue?: unknown,\n\t): T {\n\t\tif (typeof typeOrSerializedValue === 'string') {\n\t\t\treturn makePure(pureBcsSchemaFromTypeName(typeOrSerializedValue).serialize(value as never));\n\t\t}\n\n\t\tif (typeOrSerializedValue instanceof Uint8Array || isSerializedBcs(typeOrSerializedValue)) {\n\t\t\treturn makePure(typeOrSerializedValue);\n\t\t}\n\n\t\tthrow new Error('tx.pure must be called either a bcs type name, or a serialized bcs value');\n\t}\n\n\tpure.u8 = (value: number) => makePure(bcs.U8.serialize(value));\n\tpure.u16 = (value: number) => makePure(bcs.U16.serialize(value));\n\tpure.u32 = (value: number) => makePure(bcs.U32.serialize(value));\n\tpure.u64 = (value: bigint | number | string) => makePure(bcs.U64.serialize(value));\n\tpure.u128 = (value: bigint | number | string) => makePure(bcs.U128.serialize(value));\n\tpure.u256 = (value: bigint | number | string) => makePure(bcs.U256.serialize(value));\n\tpure.bool = (value: boolean) => makePure(bcs.Bool.serialize(value));\n\tpure.string = (value: string) => makePure(bcs.String.serialize(value));\n\tpure.address = (value: string) => makePure(bcs.Address.serialize(value));\n\tpure.id = pure.address;\n\tpure.vector = <Type extends PureTypeName>(\n\t\ttype: Type extends PureTypeName ? ValidPureTypeName<Type> : Type,\n\t\tvalue: Iterable<ShapeFromPureTypeName<Type>> & { length: number },\n\t) => {\n\t\treturn makePure(\n\t\t\tbcs.vector(pureBcsSchemaFromTypeName(type as PureTypeName)).serialize(value as never),\n\t\t);\n\t};\n\tpure.option = <Type extends PureTypeName>(\n\t\ttype: Type extends PureTypeName ? ValidPureTypeName<Type> : Type,\n\t\tvalue: ShapeFromPureTypeName<Type> | null | undefined,\n\t) => {\n\t\treturn makePure(bcs.option(pureBcsSchemaFromTypeName(type)).serialize(value as never));\n\t};\n\n\treturn pure;\n}\n"],"names":["bcs"],"mappings":";;;;;;;;;;;AAUA,SAAgB,WAAc,QAAA,EAA8D;IAc3F,SAAS,KACR,qBAAA,EACA,KAAA,EACI;QACJ,IAAI,OAAO,0BAA0B,SACpC,CAAA,OAAO,aAAS,uLAAA,EAA0B,sBAAsB,CAAC,SAAA,CAAU,MAAe,CAAC;QAG5F,IAAI,iCAAiC,kBAAc,6KAAA,EAAgB,sBAAsB,CACxF,CAAA,OAAO,SAAS,sBAAsB;QAGvC,MAAM,IAAI,MAAM,2EAA2E;;IAG5F,KAAK,EAAA,GAAA,CAAM,QAAkB,SAASA,kLAAAA,CAAI,EAAA,CAAG,SAAA,CAAU,MAAM,CAAC;IAC9D,KAAK,GAAA,GAAA,CAAO,QAAkB,SAASA,kLAAAA,CAAI,GAAA,CAAI,SAAA,CAAU,MAAM,CAAC;IAChE,KAAK,GAAA,GAAA,CAAO,QAAkB,SAASA,kLAAAA,CAAI,GAAA,CAAI,SAAA,CAAU,MAAM,CAAC;IAChE,KAAK,GAAA,GAAA,CAAO,QAAoC,SAASA,kLAAAA,CAAI,GAAA,CAAI,SAAA,CAAU,MAAM,CAAC;IAClF,KAAK,IAAA,GAAA,CAAQ,QAAoC,SAASA,kLAAAA,CAAI,IAAA,CAAK,SAAA,CAAU,MAAM,CAAC;IACpF,KAAK,IAAA,GAAA,CAAQ,QAAoC,SAASA,kLAAAA,CAAI,IAAA,CAAK,SAAA,CAAU,MAAM,CAAC;IACpF,KAAK,IAAA,GAAA,CAAQ,QAAmB,SAASA,kLAAAA,CAAI,IAAA,CAAK,SAAA,CAAU,MAAM,CAAC;IACnE,KAAK,MAAA,GAAA,CAAU,QAAkB,SAASA,kLAAAA,CAAI,MAAA,CAAO,SAAA,CAAU,MAAM,CAAC;IACtE,KAAK,OAAA,GAAA,CAAW,QAAkB,SAASA,kLAAAA,CAAI,OAAA,CAAQ,SAAA,CAAU,MAAM,CAAC;IACxE,KAAK,EAAA,GAAK,KAAK,OAAA;IACf,KAAK,MAAA,GAAA,CACJ,MACA,UACI;QACJ,OAAO,SACNA,kLAAAA,CAAI,MAAA,KAAO,uLAAA,EAA0B,KAAqB,CAAC,CAAC,SAAA,CAAU,MAAe,CACrF;;IAEF,KAAK,MAAA,GAAA,CACJ,MACA,UACI;QACJ,OAAO,SAASA,kLAAAA,CAAI,MAAA,KAAO,uLAAA,EAA0B,KAAK,CAAC,CAAC,SAAA,CAAU,MAAe,CAAC;;IAGvF,OAAO"}},
    {"offset": {"line": 4053, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/plugins/NamedPackagesPlugin.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/plugins/NamedPackagesPlugin.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { findNamesInTransaction, replaceNames } from '../../client/mvr.js';\nimport type { BuildTransactionOptions } from '../resolve.js';\nimport type { TransactionDataBuilder } from '../TransactionData.js';\n\n/**\n * Internal plugin that automatically resolves MVR names in transactions.\n * This plugin is automatically added to all transactions and uses the client's\n * MVR resolver to convert .move names to on-chain addresses.\n */\nexport function namedPackagesPlugin() {\n\treturn async (\n\t\ttransactionData: TransactionDataBuilder,\n\t\tbuildOptions: BuildTransactionOptions,\n\t\tnext: () => Promise<void>,\n\t) => {\n\t\tconst names = findNamesInTransaction(transactionData);\n\n\t\tif (names.types.length === 0 && names.packages.length === 0) {\n\t\t\treturn next();\n\t\t}\n\n\t\tif (!buildOptions.client) {\n\t\t\tthrow new Error(\n\t\t\t\t`Transaction contains MVR names but no client was provided to resolve them. Please pass a client to Transaction#build()`,\n\t\t\t);\n\t\t}\n\n\t\tconst resolved = await buildOptions.client.core.mvr.resolve({\n\t\t\ttypes: names.types,\n\t\t\tpackages: names.packages,\n\t\t});\n\n\t\treplaceNames(transactionData, resolved);\n\n\t\tawait next();\n\t};\n}\n"],"names":[],"mappings":";;;;;;;;;;;GAYA,SAAgB,sBAAsB;IACrC,OAAO,OACN,iBACA,cACA,SACI;QACJ,MAAM,YAAQ,sLAAA,EAAuB,gBAAgB;QAErD,IAAI,MAAM,KAAA,CAAM,MAAA,KAAW,KAAK,MAAM,QAAA,CAAS,MAAA,KAAW,EACzD,CAAA,OAAO,MAAM;QAGd,IAAI,CAAC,aAAa,MAAA,CACjB,CAAA,MAAM,IAAI,MACT,CAAA,sHAAA,CAAA,CACA;QAQF,IAAA,4KAAA,EAAa,iBALI,MAAM,aAAa,MAAA,CAAO,IAAA,CAAK,GAAA,CAAI,OAAA,CAAQ;YAC3D,OAAO,MAAM,KAAA;YACb,UAAU,MAAM,QAAA;SAChB,CAAC,CAEqC;QAEvC,MAAM,MAAM"}},
    {"offset": {"line": 4082, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/intents/CoinWithBalance.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/intents/CoinWithBalance.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { InferInput } from 'valibot';\nimport { bigint, object, parse, string } from 'valibot';\n\nimport { bcs } from '../../bcs/index.js';\nimport { normalizeStructTag } from '../../utils/sui-types.js';\nimport { TransactionCommands } from '../Commands.js';\nimport type { Argument } from '../data/internal.js';\nimport { Inputs } from '../Inputs.js';\nimport type { BuildTransactionOptions } from '../resolve.js';\nimport type { Transaction, TransactionResult } from '../Transaction.js';\nimport type { TransactionDataBuilder } from '../TransactionData.js';\nimport type { ClientWithCoreApi, SuiClientTypes } from '../../client/index.js';\n\nexport const COIN_WITH_BALANCE = 'CoinWithBalance';\nconst SUI_TYPE = normalizeStructTag('0x2::sui::SUI');\n\nexport function coinWithBalance({\n\ttype = SUI_TYPE,\n\tbalance,\n\tuseGasCoin = true,\n}: {\n\tbalance: bigint | number;\n\ttype?: string;\n\tuseGasCoin?: boolean;\n}): (tx: Transaction) => TransactionResult {\n\tlet coinResult: TransactionResult | null = null;\n\n\treturn (tx: Transaction) => {\n\t\tif (coinResult) {\n\t\t\treturn coinResult;\n\t\t}\n\n\t\ttx.addIntentResolver(COIN_WITH_BALANCE, resolveCoinBalance);\n\t\tconst coinType = type === 'gas' ? type : normalizeStructTag(type);\n\n\t\tcoinResult = tx.add(\n\t\t\tTransactionCommands.Intent({\n\t\t\t\tname: COIN_WITH_BALANCE,\n\t\t\t\tinputs: {},\n\t\t\t\tdata: {\n\t\t\t\t\ttype: coinType === SUI_TYPE && useGasCoin ? 'gas' : coinType,\n\t\t\t\t\tbalance: BigInt(balance),\n\t\t\t\t} satisfies InferInput<typeof CoinWithBalanceData>,\n\t\t\t}),\n\t\t);\n\n\t\treturn coinResult;\n\t};\n}\n\nconst CoinWithBalanceData = object({\n\ttype: string(),\n\tbalance: bigint(),\n});\n\nexport async function resolveCoinBalance(\n\ttransactionData: TransactionDataBuilder,\n\tbuildOptions: BuildTransactionOptions,\n\tnext: () => Promise<void>,\n) {\n\tconst coinTypes = new Set<string>();\n\tconst totalByType = new Map<string, bigint>();\n\n\tif (!transactionData.sender) {\n\t\tthrow new Error('Sender must be set to resolve CoinWithBalance');\n\t}\n\n\tfor (const command of transactionData.commands) {\n\t\tif (command.$kind === '$Intent' && command.$Intent.name === COIN_WITH_BALANCE) {\n\t\t\tconst { type, balance } = parse(CoinWithBalanceData, command.$Intent.data);\n\n\t\t\tif (type !== 'gas' && balance > 0n) {\n\t\t\t\tcoinTypes.add(type);\n\t\t\t}\n\n\t\t\ttotalByType.set(type, (totalByType.get(type) ?? 0n) + balance);\n\t\t}\n\t}\n\tconst usedIds = new Set<string>();\n\n\tfor (const input of transactionData.inputs) {\n\t\tif (input.Object?.ImmOrOwnedObject) {\n\t\t\tusedIds.add(input.Object.ImmOrOwnedObject.objectId);\n\t\t}\n\t\tif (input.UnresolvedObject?.objectId) {\n\t\t\tusedIds.add(input.UnresolvedObject.objectId);\n\t\t}\n\t}\n\n\tconst coinsByType = new Map<string, SuiClientTypes.Coin[]>();\n\tconst addressBalanceByType = new Map<string, bigint>();\n\tconst client = buildOptions.client;\n\n\tif (!client) {\n\t\tthrow new Error(\n\t\t\t'Client must be provided to build or serialize transactions with CoinWithBalance intents',\n\t\t);\n\t}\n\n\tawait Promise.all([\n\t\t...[...coinTypes].map(async (coinType) => {\n\t\t\tconst { coins, addressBalance } = await getCoinsAndBalanceOfType({\n\t\t\t\tcoinType,\n\t\t\t\tbalance: totalByType.get(coinType)!,\n\t\t\t\tclient,\n\t\t\t\towner: transactionData.sender!,\n\t\t\t\tusedIds,\n\t\t\t});\n\n\t\t\tcoinsByType.set(coinType, coins);\n\t\t\taddressBalanceByType.set(coinType, addressBalance);\n\t\t}),\n\t\ttotalByType.has('gas')\n\t\t\t? await client.core\n\t\t\t\t\t.getBalance({\n\t\t\t\t\t\towner: transactionData.sender!,\n\t\t\t\t\t\tcoinType: SUI_TYPE,\n\t\t\t\t\t})\n\t\t\t\t\t.then(({ balance }) => {\n\t\t\t\t\t\taddressBalanceByType.set('gas', BigInt(balance.addressBalance));\n\t\t\t\t\t})\n\t\t\t: null,\n\t]);\n\n\tconst mergedCoins = new Map<string, Argument>();\n\n\tfor (const [index, transaction] of transactionData.commands.entries()) {\n\t\tif (transaction.$kind !== '$Intent' || transaction.$Intent.name !== COIN_WITH_BALANCE) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst { type, balance } = transaction.$Intent.data as {\n\t\t\ttype: string;\n\t\t\tbalance: bigint;\n\t\t};\n\n\t\tif (balance === 0n) {\n\t\t\ttransactionData.replaceCommand(\n\t\t\t\tindex,\n\t\t\t\tTransactionCommands.MoveCall({\n\t\t\t\t\ttarget: '0x2::coin::zero',\n\t\t\t\t\ttypeArguments: [type === 'gas' ? SUI_TYPE : type],\n\t\t\t\t}),\n\t\t\t);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst commands = [];\n\n\t\tif (addressBalanceByType.get(type)! >= totalByType.get(type)!) {\n\t\t\tcommands.push(\n\t\t\t\tTransactionCommands.MoveCall({\n\t\t\t\t\ttarget: '0x2::coin::redeem_funds',\n\t\t\t\t\ttypeArguments: [type === 'gas' ? SUI_TYPE : type],\n\t\t\t\t\targuments: [\n\t\t\t\t\t\ttransactionData.addInput(\n\t\t\t\t\t\t\t'withdrawal',\n\t\t\t\t\t\t\tInputs.FundsWithdrawal({\n\t\t\t\t\t\t\t\treservation: {\n\t\t\t\t\t\t\t\t\t$kind: 'MaxAmountU64',\n\t\t\t\t\t\t\t\t\tMaxAmountU64: String(balance),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttypeArg: {\n\t\t\t\t\t\t\t\t\t$kind: 'Balance',\n\t\t\t\t\t\t\t\t\tBalance: type === 'gas' ? SUI_TYPE : type,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\twithdrawFrom: {\n\t\t\t\t\t\t\t\t\t$kind: 'Sender',\n\t\t\t\t\t\t\t\t\tSender: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t),\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t);\n\t\t} else {\n\t\t\tif (!mergedCoins.has(type)) {\n\t\t\t\tconst addressBalance = addressBalanceByType.get(type) ?? 0n;\n\t\t\t\tconst coinType = type === 'gas' ? SUI_TYPE : type;\n\n\t\t\t\tlet baseCoin: Argument;\n\t\t\t\tlet restCoins: Argument[];\n\n\t\t\t\tif (type === 'gas') {\n\t\t\t\t\tbaseCoin = { $kind: 'GasCoin', GasCoin: true };\n\t\t\t\t\trestCoins = [];\n\t\t\t\t} else {\n\t\t\t\t\t[baseCoin, ...restCoins] = coinsByType.get(type)!.map((coin) =>\n\t\t\t\t\t\ttransactionData.addInput(\n\t\t\t\t\t\t\t'object',\n\t\t\t\t\t\t\tInputs.ObjectRef({\n\t\t\t\t\t\t\t\tobjectId: coin.objectId,\n\t\t\t\t\t\t\t\tdigest: coin.digest,\n\t\t\t\t\t\t\t\tversion: coin.version,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (addressBalance > 0n) {\n\t\t\t\t\tcommands.push(\n\t\t\t\t\t\tTransactionCommands.MoveCall({\n\t\t\t\t\t\t\ttarget: '0x2::coin::redeem_funds',\n\t\t\t\t\t\t\ttypeArguments: [coinType],\n\t\t\t\t\t\t\targuments: [\n\t\t\t\t\t\t\t\ttransactionData.addInput(\n\t\t\t\t\t\t\t\t\t'withdrawal',\n\t\t\t\t\t\t\t\t\tInputs.FundsWithdrawal({\n\t\t\t\t\t\t\t\t\t\treservation: {\n\t\t\t\t\t\t\t\t\t\t\t$kind: 'MaxAmountU64',\n\t\t\t\t\t\t\t\t\t\t\tMaxAmountU64: String(addressBalance),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ttypeArg: {\n\t\t\t\t\t\t\t\t\t\t\t$kind: 'Balance',\n\t\t\t\t\t\t\t\t\t\t\tBalance: coinType,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\twithdrawFrom: {\n\t\t\t\t\t\t\t\t\t\t\t$kind: 'Sender',\n\t\t\t\t\t\t\t\t\t\t\tSender: true,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\n\t\t\t\t\tcommands.push(\n\t\t\t\t\t\tTransactionCommands.MergeCoins(baseCoin, [\n\t\t\t\t\t\t\t{ $kind: 'Result', Result: index + commands.length - 1 },\n\t\t\t\t\t\t\t...restCoins,\n\t\t\t\t\t\t]),\n\t\t\t\t\t);\n\t\t\t\t} else if (restCoins.length > 0) {\n\t\t\t\t\tcommands.push(TransactionCommands.MergeCoins(baseCoin, restCoins));\n\t\t\t\t}\n\n\t\t\t\tmergedCoins.set(type, baseCoin);\n\t\t\t}\n\n\t\t\tcommands.push(\n\t\t\t\tTransactionCommands.SplitCoins(mergedCoins.get(type)!, [\n\t\t\t\t\ttransactionData.addInput('pure', Inputs.Pure(bcs.u64().serialize(balance))),\n\t\t\t\t]),\n\t\t\t);\n\t\t}\n\n\t\ttransactionData.replaceCommand(index, commands);\n\n\t\ttransactionData.mapArguments((arg, _command, commandIndex) => {\n\t\t\tif (commandIndex >= index && commandIndex < index + commands.length) {\n\t\t\t\treturn arg;\n\t\t\t}\n\n\t\t\tif (arg.$kind === 'Result' && arg.Result === index) {\n\t\t\t\treturn {\n\t\t\t\t\t$kind: 'NestedResult',\n\t\t\t\t\tNestedResult: [index + commands.length - 1, 0],\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn arg;\n\t\t});\n\t}\n\n\treturn next();\n}\n\nasync function getCoinsAndBalanceOfType({\n\tcoinType,\n\tbalance,\n\tclient,\n\towner,\n\tusedIds,\n}: {\n\tcoinType: string;\n\tbalance: bigint;\n\tclient: ClientWithCoreApi;\n\towner: string;\n\tusedIds: Set<string>;\n}): Promise<{\n\tcoins: SuiClientTypes.Coin[];\n\tbalance: bigint;\n\taddressBalance: bigint;\n\tcoinBalance: bigint;\n}> {\n\tlet remainingBalance = balance;\n\tconst coins: SuiClientTypes.Coin[] = [];\n\tconst balanceRequest = client.core.getBalance({ owner, coinType }).then(({ balance }) => {\n\t\tremainingBalance -= BigInt(balance.addressBalance);\n\n\t\treturn balance;\n\t});\n\n\tconst [allCoins, balanceResponse] = await Promise.all([loadMoreCoins(), balanceRequest]);\n\n\tif (BigInt(balanceResponse.balance) < balance) {\n\t\tthrow new Error(\n\t\t\t`Insufficient balance of ${coinType} for owner ${owner}. Required: ${balance}, Available: ${\n\t\t\t\tbalance - remainingBalance\n\t\t\t}`,\n\t\t);\n\t}\n\n\treturn {\n\t\tcoins: allCoins,\n\t\tbalance: BigInt(balanceResponse.coinBalance),\n\t\taddressBalance: BigInt(balanceResponse.addressBalance),\n\t\tcoinBalance: BigInt(balanceResponse.coinBalance),\n\t};\n\n\tasync function loadMoreCoins(cursor: string | null = null): Promise<SuiClientTypes.Coin[]> {\n\t\tconst {\n\t\t\tobjects,\n\t\t\thasNextPage,\n\t\t\tcursor: nextCursor,\n\t\t} = await client.core.listCoins({\n\t\t\towner,\n\t\t\tcoinType,\n\t\t\tcursor,\n\t\t});\n\n\t\tawait balanceRequest;\n\n\t\tif (remainingBalance > 0n) {\n\t\t\tfor (const coin of objects) {\n\t\t\t\tif (usedIds.has(coin.objectId)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst coinBalance = BigInt(coin.balance);\n\n\t\t\t\tcoins.push(coin);\n\t\t\t\tremainingBalance -= coinBalance;\n\n\t\t\t\tif (remainingBalance <= 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasNextPage) {\n\t\t\t\treturn loadMoreCoins(nextCursor);\n\t\t\t}\n\t\t}\n\n\t\treturn coins;\n\t}\n}\n"],"names":["bcs","balance"],"mappings":"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"}},
    {"offset": {"line": 4317, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/transactions/Transaction.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/transactions/Transaction.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { SerializedBcs } from '@mysten/bcs';\nimport { fromBase64, isSerializedBcs } from '@mysten/bcs';\nimport type { InferInput } from 'valibot';\nimport { is, parse } from 'valibot';\n\nimport type { SignatureWithBytes, Signer } from '../cryptography/index.js';\nimport { normalizeSuiAddress } from '../utils/sui-types.js';\nimport type { TransactionArgument } from './Commands.js';\nimport { TransactionCommands } from './Commands.js';\nimport type { CallArg, Command, Argument, ObjectRef } from './data/internal.js';\nimport {\n\tArgumentSchema,\n\tNormalizedCallArg,\n\tObjectRefSchema,\n\tTransactionExpiration,\n} from './data/internal.js';\nimport { serializeV1TransactionData } from './data/v1.js';\nimport { SerializedTransactionDataV2Schema } from './data/v2.js';\nimport { Inputs } from './Inputs.js';\nimport { needsTransactionResolution, resolveTransactionPlugin } from './resolve.js';\nimport type {\n\tBuildTransactionOptions,\n\tSerializeTransactionOptions,\n\tTransactionPlugin,\n} from './resolve.js';\nimport { createObjectMethods } from './object.js';\nimport { createPure } from './pure.js';\nimport { TransactionDataBuilder } from './TransactionData.js';\nimport { getIdFromCallArg } from './utils.js';\nimport { namedPackagesPlugin } from './plugins/NamedPackagesPlugin.js';\nimport { COIN_WITH_BALANCE, resolveCoinBalance } from './intents/CoinWithBalance.js';\nimport type { ClientWithCoreApi } from '../client/core.js';\n\nexport type TransactionObjectArgument =\n\t| Exclude<InferInput<typeof ArgumentSchema>, { Input: unknown; type?: 'pure' }>\n\t| ((\n\t\t\ttx: Transaction,\n\t  ) => Exclude<InferInput<typeof ArgumentSchema>, { Input: unknown; type?: 'pure' }>)\n\t| AsyncTransactionThunk<TransactionResultArgument>;\n\nexport type TransactionResult = Extract<Argument, { Result: unknown }> &\n\tExtract<Argument, { NestedResult: unknown }>[];\n\nexport type TransactionResultArgument =\n\t| Extract<Argument, { Result: unknown }>\n\t| readonly Extract<Argument, { NestedResult: unknown }>[];\n\nexport type AsyncTransactionThunk<\n\tT extends TransactionResultArgument | void = TransactionResultArgument | void,\n> = (tx: Transaction) => Promise<T | void>;\n\nfunction createTransactionResult(\n\tindex: number | (() => number),\n\tlength = Infinity,\n): TransactionResult {\n\tconst baseResult = {\n\t\t$kind: 'Result' as const,\n\t\tget Result() {\n\t\t\treturn typeof index === 'function' ? index() : index;\n\t\t},\n\t};\n\n\tconst nestedResults: {\n\t\t$kind: 'NestedResult';\n\t\tNestedResult: [number, number];\n\t}[] = [];\n\tconst nestedResultFor = (\n\t\tresultIndex: number,\n\t): {\n\t\t$kind: 'NestedResult';\n\t\tNestedResult: [number, number];\n\t} =>\n\t\t(nestedResults[resultIndex] ??= {\n\t\t\t$kind: 'NestedResult' as const,\n\t\t\tget NestedResult() {\n\t\t\t\treturn [typeof index === 'function' ? index() : index, resultIndex] as [number, number];\n\t\t\t},\n\t\t});\n\n\treturn new Proxy(baseResult, {\n\t\tset() {\n\t\t\tthrow new Error(\n\t\t\t\t'The transaction result is a proxy, and does not support setting properties directly',\n\t\t\t);\n\t\t},\n\t\t// TODO: Instead of making this return a concrete argument, we should ideally\n\t\t// make it reference-based (so that this gets resolved at build-time), which\n\t\t// allows re-ordering transactions.\n\t\tget(target, property) {\n\t\t\t// This allows this transaction argument to be used in the singular form:\n\t\t\tif (property in target) {\n\t\t\t\treturn Reflect.get(target, property);\n\t\t\t}\n\n\t\t\t// Support destructuring:\n\t\t\tif (property === Symbol.iterator) {\n\t\t\t\treturn function* () {\n\t\t\t\t\tlet i = 0;\n\t\t\t\t\twhile (i < length) {\n\t\t\t\t\t\tyield nestedResultFor(i);\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (typeof property === 'symbol') return;\n\n\t\t\tconst resultIndex = parseInt(property, 10);\n\t\t\tif (Number.isNaN(resultIndex) || resultIndex < 0) return;\n\t\t\treturn nestedResultFor(resultIndex);\n\t\t},\n\t}) as TransactionResult;\n}\n\nconst TRANSACTION_BRAND = Symbol.for('@mysten/transaction') as never;\n\ninterface SignOptions extends BuildTransactionOptions {\n\tsigner: Signer;\n}\n\nexport function isTransaction(obj: unknown): obj is TransactionLike {\n\treturn !!obj && typeof obj === 'object' && (obj as any)[TRANSACTION_BRAND] === true;\n}\n\nexport type TransactionObjectInput = string | CallArg | TransactionObjectArgument;\n\ntype InputSection = (CallArg | InputSection)[];\ntype CommandSection = (Command | CommandSection)[];\n\ntype TransactionLike = {\n\tgetData(): unknown;\n};\n\n/**\n * Transaction Builder\n */\nexport class Transaction {\n\t#serializationPlugins: TransactionPlugin[];\n\t#buildPlugins: TransactionPlugin[];\n\t#intentResolvers = new Map<string, TransactionPlugin>();\n\t#inputSection: InputSection = [];\n\t#commandSection: CommandSection = [];\n\t#availableResults: Set<number> = new Set();\n\t#pendingPromises = new Set<Promise<unknown>>();\n\t#added = new Map<(...args: any[]) => unknown, unknown>();\n\n\t/**\n\t * Converts from a serialize transaction kind (built with `build({ onlyTransactionKind: true })`) to a `Transaction` class.\n\t * Supports either a byte array, or base64-encoded bytes.\n\t */\n\tstatic fromKind(serialized: string | Uint8Array) {\n\t\tconst tx = new Transaction();\n\n\t\ttx.#data = TransactionDataBuilder.fromKindBytes(\n\t\t\ttypeof serialized === 'string' ? fromBase64(serialized) : serialized,\n\t\t);\n\n\t\ttx.#inputSection = tx.#data.inputs.slice();\n\t\ttx.#commandSection = tx.#data.commands.slice();\n\t\ttx.#availableResults = new Set(tx.#commandSection.map((_, i) => i));\n\n\t\treturn tx;\n\t}\n\n\t/**\n\t * Converts from a serialized transaction format to a `Transaction` class.\n\t * There are two supported serialized formats:\n\t * - A string returned from `Transaction#serialize`. The serialized format must be compatible, or it will throw an error.\n\t * - A byte array (or base64-encoded bytes) containing BCS transaction data.\n\t */\n\tstatic from(transaction: string | Uint8Array | TransactionLike) {\n\t\tconst newTransaction = new Transaction();\n\n\t\tif (isTransaction(transaction)) {\n\t\t\tnewTransaction.#data = TransactionDataBuilder.restore(\n\t\t\t\ttransaction.getData() as InferInput<typeof SerializedTransactionDataV2Schema>,\n\t\t\t);\n\t\t} else if (typeof transaction !== 'string' || !transaction.startsWith('{')) {\n\t\t\tnewTransaction.#data = TransactionDataBuilder.fromBytes(\n\t\t\t\ttypeof transaction === 'string' ? fromBase64(transaction) : transaction,\n\t\t\t);\n\t\t} else {\n\t\t\tnewTransaction.#data = TransactionDataBuilder.restore(JSON.parse(transaction));\n\t\t}\n\n\t\tnewTransaction.#inputSection = newTransaction.#data.inputs.slice();\n\t\tnewTransaction.#commandSection = newTransaction.#data.commands.slice();\n\t\tnewTransaction.#availableResults = new Set(newTransaction.#commandSection.map((_, i) => i));\n\n\t\tif (!newTransaction.isPreparedForSerialization({ supportedIntents: [COIN_WITH_BALANCE] })) {\n\t\t\tthrow new Error(\n\t\t\t\t'Transaction has unresolved intents or async thunks. Call `prepareForSerialization` before copying.',\n\t\t\t);\n\t\t}\n\n\t\tif (newTransaction.#data.commands.some((cmd) => cmd.$Intent?.name === COIN_WITH_BALANCE)) {\n\t\t\tnewTransaction.addIntentResolver(COIN_WITH_BALANCE, resolveCoinBalance);\n\t\t}\n\n\t\treturn newTransaction;\n\t}\n\n\taddSerializationPlugin(step: TransactionPlugin) {\n\t\tthis.#serializationPlugins.push(step);\n\t}\n\n\taddBuildPlugin(step: TransactionPlugin) {\n\t\tthis.#buildPlugins.push(step);\n\t}\n\n\taddIntentResolver(intent: string, resolver: TransactionPlugin) {\n\t\tif (this.#intentResolvers.has(intent) && this.#intentResolvers.get(intent) !== resolver) {\n\t\t\tthrow new Error(`Intent resolver for ${intent} already exists`);\n\t\t}\n\n\t\tthis.#intentResolvers.set(intent, resolver);\n\t}\n\n\tsetSender(sender: string) {\n\t\tthis.#data.sender = sender;\n\t}\n\t/**\n\t * Sets the sender only if it has not already been set.\n\t * This is useful for sponsored transaction flows where the sender may not be the same as the signer address.\n\t */\n\tsetSenderIfNotSet(sender: string) {\n\t\tif (!this.#data.sender) {\n\t\t\tthis.#data.sender = sender;\n\t\t}\n\t}\n\tsetExpiration(expiration?: InferInput<typeof TransactionExpiration> | null) {\n\t\tthis.#data.expiration = expiration ? parse(TransactionExpiration, expiration) : null;\n\t}\n\tsetGasPrice(price: number | bigint | string) {\n\t\tthis.#data.gasData.price = String(price);\n\t}\n\tsetGasBudget(budget: number | bigint | string) {\n\t\tthis.#data.gasData.budget = String(budget);\n\t}\n\n\tsetGasBudgetIfNotSet(budget: number | bigint | string) {\n\t\tif (this.#data.gasData.budget == null) {\n\t\t\tthis.#data.gasData.budget = String(budget);\n\t\t}\n\t}\n\n\tsetGasOwner(owner: string) {\n\t\tthis.#data.gasData.owner = owner;\n\t}\n\tsetGasPayment(payments: ObjectRef[]) {\n\t\tthis.#data.gasData.payment = payments.map((payment) => parse(ObjectRefSchema, payment));\n\t}\n\n\t#data: TransactionDataBuilder;\n\n\t/** Get a snapshot of the transaction data, in JSON form: */\n\tgetData() {\n\t\treturn this.#data.snapshot();\n\t}\n\n\t// Used to brand transaction classes so that they can be identified, even between multiple copies\n\t// of the builder.\n\tget [TRANSACTION_BRAND]() {\n\t\treturn true;\n\t}\n\n\t// Temporary workaround for the wallet interface accidentally serializing transactions via postMessage\n\tget pure(): ReturnType<typeof createPure<Argument>> {\n\t\tObject.defineProperty(this, 'pure', {\n\t\t\tenumerable: false,\n\t\t\tvalue: createPure<Argument>((value): Argument => {\n\t\t\t\tif (isSerializedBcs(value)) {\n\t\t\t\t\treturn this.#addInput('pure', {\n\t\t\t\t\t\t$kind: 'Pure',\n\t\t\t\t\t\tPure: {\n\t\t\t\t\t\t\tbytes: value.toBase64(),\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// TODO: we can also do some deduplication here\n\t\t\t\treturn this.#addInput(\n\t\t\t\t\t'pure',\n\t\t\t\t\tis(NormalizedCallArg, value)\n\t\t\t\t\t\t? parse(NormalizedCallArg, value)\n\t\t\t\t\t\t: value instanceof Uint8Array\n\t\t\t\t\t\t\t? Inputs.Pure(value)\n\t\t\t\t\t\t\t: { $kind: 'UnresolvedPure', UnresolvedPure: { value } },\n\t\t\t\t);\n\t\t\t}),\n\t\t});\n\n\t\treturn this.pure;\n\t}\n\n\tconstructor() {\n\t\tthis.#data = new TransactionDataBuilder();\n\t\tthis.#buildPlugins = [];\n\t\tthis.#serializationPlugins = [];\n\t}\n\n\t/** Returns an argument for the gas coin, to be used in a transaction. */\n\tget gas() {\n\t\treturn { $kind: 'GasCoin' as const, GasCoin: true as const };\n\t}\n\n\t/**\n\t * Add a new object input to the transaction.\n\t */\n\tobject: ReturnType<\n\t\ttypeof createObjectMethods<{ $kind: 'Input'; Input: number; type?: 'object' }>\n\t> = createObjectMethods(\n\t\t(value: TransactionObjectInput): { $kind: 'Input'; Input: number; type?: 'object' } => {\n\t\t\tif (typeof value === 'function') {\n\t\t\t\treturn this.object(this.add(value as (tx: Transaction) => TransactionObjectArgument));\n\t\t\t}\n\n\t\t\tif (typeof value === 'object' && is(ArgumentSchema, value)) {\n\t\t\t\treturn value as { $kind: 'Input'; Input: number; type?: 'object' };\n\t\t\t}\n\n\t\t\tconst id = getIdFromCallArg(value);\n\n\t\t\tconst inserted = this.#data.inputs.find((i) => id === getIdFromCallArg(i));\n\n\t\t\t// Upgrade shared object inputs to mutable if needed:\n\t\t\tif (\n\t\t\t\tinserted?.Object?.SharedObject &&\n\t\t\t\ttypeof value === 'object' &&\n\t\t\t\tvalue.Object?.SharedObject\n\t\t\t) {\n\t\t\t\tinserted.Object.SharedObject.mutable =\n\t\t\t\t\tinserted.Object.SharedObject.mutable || value.Object.SharedObject.mutable;\n\t\t\t}\n\n\t\t\treturn inserted\n\t\t\t\t? { $kind: 'Input', Input: this.#data.inputs.indexOf(inserted), type: 'object' }\n\t\t\t\t: this.#addInput(\n\t\t\t\t\t\t'object',\n\t\t\t\t\t\ttypeof value === 'string'\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t$kind: 'UnresolvedObject',\n\t\t\t\t\t\t\t\t\tUnresolvedObject: { objectId: normalizeSuiAddress(value) },\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: value,\n\t\t\t\t\t);\n\t\t},\n\t);\n\n\t/**\n\t * Add a new object input to the transaction using the fully-resolved object reference.\n\t * If you only have an object ID, use `builder.object(id)` instead.\n\t */\n\tobjectRef(...args: Parameters<(typeof Inputs)['ObjectRef']>) {\n\t\treturn this.object(Inputs.ObjectRef(...args));\n\t}\n\n\t/**\n\t * Add a new receiving input to the transaction using the fully-resolved object reference.\n\t * If you only have an object ID, use `builder.object(id)` instead.\n\t */\n\treceivingRef(...args: Parameters<(typeof Inputs)['ReceivingRef']>) {\n\t\treturn this.object(Inputs.ReceivingRef(...args));\n\t}\n\n\t/**\n\t * Add a new shared object input to the transaction using the fully-resolved shared object reference.\n\t * If you only have an object ID, use `builder.object(id)` instead.\n\t */\n\tsharedObjectRef(...args: Parameters<(typeof Inputs)['SharedObjectRef']>) {\n\t\treturn this.object(Inputs.SharedObjectRef(...args));\n\t}\n\n\t#fork() {\n\t\tconst fork = new Transaction();\n\n\t\tfork.#data = this.#data;\n\t\tfork.#serializationPlugins = this.#serializationPlugins;\n\t\tfork.#buildPlugins = this.#buildPlugins;\n\t\tfork.#intentResolvers = this.#intentResolvers;\n\t\tfork.#pendingPromises = this.#pendingPromises;\n\t\tfork.#availableResults = new Set(this.#availableResults);\n\t\tfork.#added = this.#added;\n\t\tthis.#inputSection.push(fork.#inputSection);\n\t\tthis.#commandSection.push(fork.#commandSection);\n\n\t\treturn fork;\n\t}\n\n\t/** Add a transaction to the transaction */\n\n\tadd<T extends Command>(command: T): TransactionResult;\n\tadd<T extends void | TransactionResultArgument | TransactionArgument | Command>(\n\t\tthunk: (tx: Transaction) => T,\n\t): T;\n\tadd<T extends TransactionResultArgument | void>(\n\t\tasyncTransactionThunk: AsyncTransactionThunk<T>,\n\t): T;\n\tadd(command: Command | AsyncTransactionThunk | ((tx: Transaction) => unknown)): unknown {\n\t\tif (typeof command === 'function') {\n\t\t\tif (this.#added.has(command)) {\n\t\t\t\treturn this.#added.get(command);\n\t\t\t}\n\n\t\t\tconst fork = this.#fork();\n\t\t\tconst result = command(fork);\n\n\t\t\tif (!(result && typeof result === 'object' && 'then' in result)) {\n\t\t\t\tthis.#availableResults = fork.#availableResults;\n\t\t\t\tthis.#added.set(command, result);\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tconst placeholder = this.#addCommand({\n\t\t\t\t$kind: '$Intent',\n\t\t\t\t$Intent: {\n\t\t\t\t\tname: 'AsyncTransactionThunk',\n\t\t\t\t\tinputs: {},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tresultIndex: this.#data.commands.length,\n\t\t\t\t\t\tresult: null as TransactionResult | null,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tthis.#pendingPromises.add(\n\t\t\t\tPromise.resolve(result as Promise<TransactionResult>).then((result) => {\n\t\t\t\t\tplaceholder.$Intent.data.result = result;\n\t\t\t\t}),\n\t\t\t);\n\t\t\tconst txResult = createTransactionResult(() => placeholder.$Intent.data.resultIndex);\n\t\t\tthis.#added.set(command, txResult);\n\t\t\treturn txResult;\n\t\t} else {\n\t\t\tthis.#addCommand(command);\n\t\t}\n\n\t\treturn createTransactionResult(this.#data.commands.length - 1);\n\t}\n\n\t#addCommand<T extends Command>(command: T) {\n\t\tconst resultIndex = this.#data.commands.length;\n\t\tthis.#commandSection.push(command);\n\t\tthis.#availableResults.add(resultIndex);\n\t\tthis.#data.commands.push(command);\n\n\t\tthis.#data.mapCommandArguments(resultIndex, (arg) => {\n\t\t\tif (arg.$kind === 'Result' && !this.#availableResults.has(arg.Result)) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Result { Result: ${arg.Result} } is not available to use in the current transaction`,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (arg.$kind === 'NestedResult' && !this.#availableResults.has(arg.NestedResult[0])) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Result { NestedResult: [${arg.NestedResult[0]}, ${arg.NestedResult[1]}] } is not available to use in the current transaction`,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (arg.$kind === 'Input' && arg.Input >= this.#data.inputs.length) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Input { Input: ${arg.Input} } references an input that does not exist in the current transaction`,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn arg;\n\t\t});\n\n\t\treturn command;\n\t}\n\n\t#addInput<T extends 'pure' | 'object'>(type: T, input: CallArg) {\n\t\tthis.#inputSection.push(input);\n\t\treturn this.#data.addInput(type, input);\n\t}\n\n\t#normalizeTransactionArgument(arg: TransactionArgument | SerializedBcs<any>) {\n\t\tif (isSerializedBcs(arg)) {\n\t\t\treturn this.pure(arg);\n\t\t}\n\n\t\treturn this.#resolveArgument(arg as TransactionArgument);\n\t}\n\n\t#resolveArgument(arg: TransactionArgument): Argument {\n\t\tif (typeof arg === 'function') {\n\t\t\tconst resolved = this.add(arg as never);\n\n\t\t\tif (typeof resolved === 'function') {\n\t\t\t\treturn this.#resolveArgument(resolved);\n\t\t\t}\n\n\t\t\treturn parse(ArgumentSchema, resolved);\n\t\t}\n\n\t\treturn parse(ArgumentSchema, arg);\n\t}\n\n\t// Method shorthands:\n\n\tsplitCoins<\n\t\tconst Amounts extends (TransactionArgument | SerializedBcs<any> | number | string | bigint)[],\n\t>(coin: TransactionObjectArgument | string, amounts: Amounts) {\n\t\tconst command = TransactionCommands.SplitCoins(\n\t\t\ttypeof coin === 'string' ? this.object(coin) : this.#resolveArgument(coin),\n\t\t\tamounts.map((amount) =>\n\t\t\t\ttypeof amount === 'number' || typeof amount === 'bigint' || typeof amount === 'string'\n\t\t\t\t\t? this.pure.u64(amount)\n\t\t\t\t\t: this.#normalizeTransactionArgument(amount),\n\t\t\t),\n\t\t);\n\t\tthis.#addCommand(command);\n\t\treturn createTransactionResult(this.#data.commands.length - 1, amounts.length) as Extract<\n\t\t\tArgument,\n\t\t\t{ Result: unknown }\n\t\t> & {\n\t\t\t[K in keyof Amounts]: Extract<Argument, { NestedResult: unknown }>;\n\t\t};\n\t}\n\tmergeCoins(\n\t\tdestination: TransactionObjectArgument | string,\n\t\tsources: (TransactionObjectArgument | string)[],\n\t) {\n\t\treturn this.add(\n\t\t\tTransactionCommands.MergeCoins(\n\t\t\t\tthis.object(destination),\n\t\t\t\tsources.map((src) => this.object(src)),\n\t\t\t),\n\t\t);\n\t}\n\tpublish({ modules, dependencies }: { modules: number[][] | string[]; dependencies: string[] }) {\n\t\treturn this.add(\n\t\t\tTransactionCommands.Publish({\n\t\t\t\tmodules,\n\t\t\t\tdependencies,\n\t\t\t}),\n\t\t);\n\t}\n\tupgrade({\n\t\tmodules,\n\t\tdependencies,\n\t\tpackage: packageId,\n\t\tticket,\n\t}: {\n\t\tmodules: number[][] | string[];\n\t\tdependencies: string[];\n\t\tpackage: string;\n\t\tticket: TransactionObjectArgument | string;\n\t}) {\n\t\treturn this.add(\n\t\t\tTransactionCommands.Upgrade({\n\t\t\t\tmodules,\n\t\t\t\tdependencies,\n\t\t\t\tpackage: packageId,\n\t\t\t\tticket: this.object(ticket),\n\t\t\t}),\n\t\t);\n\t}\n\tmoveCall({\n\t\targuments: args,\n\t\t...input\n\t}:\n\t\t| {\n\t\t\t\tpackage: string;\n\t\t\t\tmodule: string;\n\t\t\t\tfunction: string;\n\t\t\t\targuments?: (TransactionArgument | SerializedBcs<any>)[];\n\t\t\t\ttypeArguments?: string[];\n\t\t  }\n\t\t| {\n\t\t\t\ttarget: string;\n\t\t\t\targuments?: (TransactionArgument | SerializedBcs<any>)[];\n\t\t\t\ttypeArguments?: string[];\n\t\t  }) {\n\t\treturn this.add(\n\t\t\tTransactionCommands.MoveCall({\n\t\t\t\t...input,\n\t\t\t\targuments: args?.map((arg) => this.#normalizeTransactionArgument(arg)),\n\t\t\t} as Parameters<typeof TransactionCommands.MoveCall>[0]),\n\t\t);\n\t}\n\ttransferObjects(\n\t\tobjects: (TransactionObjectArgument | string)[],\n\t\taddress: TransactionArgument | SerializedBcs<any> | string,\n\t) {\n\t\treturn this.add(\n\t\t\tTransactionCommands.TransferObjects(\n\t\t\t\tobjects.map((obj) => this.object(obj)),\n\t\t\t\ttypeof address === 'string'\n\t\t\t\t\t? this.pure.address(address)\n\t\t\t\t\t: this.#normalizeTransactionArgument(address),\n\t\t\t),\n\t\t);\n\t}\n\tmakeMoveVec({\n\t\ttype,\n\t\telements,\n\t}: {\n\t\telements: (TransactionObjectArgument | string)[];\n\t\ttype?: string;\n\t}) {\n\t\treturn this.add(\n\t\t\tTransactionCommands.MakeMoveVec({\n\t\t\t\ttype,\n\t\t\t\telements: elements.map((obj) => this.object(obj)),\n\t\t\t}),\n\t\t);\n\t}\n\n\t/**\n\t * Create a FundsWithdrawal input for withdrawing Balance<T> from an address balance accumulator.\n\t * This is used for gas payments from address balances.\n\t *\n\t * @param options.amount - The Amount to withdraw (u64).\n\t * @param options.type - The balance type (e.g., \"0x2::sui::SUI\"). Defaults to SUI.\n\t */\n\twithdrawal({ amount, type }: { amount: number | bigint | string; type?: string | null }): {\n\t\t$kind: 'Input';\n\t\tInput: number;\n\t\ttype?: 'object';\n\t} {\n\t\tconst input: CallArg = {\n\t\t\t$kind: 'FundsWithdrawal',\n\t\t\tFundsWithdrawal: {\n\t\t\t\t// TODO: support entire balance withdrawals once supported\n\t\t\t\treservation: { $kind: 'MaxAmountU64', MaxAmountU64: String(amount) },\n\t\t\t\ttypeArg: { $kind: 'Balance', Balance: type ?? '0x2::sui::SUI' },\n\t\t\t\twithdrawFrom:\n\t\t\t\t\t// fromSponsor === true\n\t\t\t\t\t// \t? { $kind: 'Sponsor', Sponsor: true } :\n\t\t\t\t\t// TODO: currently only supporting withdrawals from sender\n\t\t\t\t\t{ $kind: 'Sender', Sender: true },\n\t\t\t},\n\t\t};\n\n\t\treturn this.#addInput('object', input);\n\t}\n\n\t/**\n\t * @deprecated Use toJSON instead.\n\t * For synchronous serialization, you can use `getData()`\n\t * */\n\tserialize() {\n\t\treturn JSON.stringify(serializeV1TransactionData(this.#data.snapshot()));\n\t}\n\n\tasync toJSON(options: SerializeTransactionOptions = {}): Promise<string> {\n\t\tawait this.prepareForSerialization(options);\n\t\tconst fullyResolved = this.isFullyResolved();\n\t\treturn JSON.stringify(\n\t\t\tparse(\n\t\t\t\tSerializedTransactionDataV2Schema,\n\t\t\t\tfullyResolved\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...this.#data.snapshot(),\n\t\t\t\t\t\t\tdigest: this.#data.getDigest(),\n\t\t\t\t\t\t}\n\t\t\t\t\t: this.#data.snapshot(),\n\t\t\t),\n\t\t\t(_key, value) => (typeof value === 'bigint' ? value.toString() : value),\n\t\t\t2,\n\t\t);\n\t}\n\n\t/** Build the transaction to BCS bytes, and sign it with the provided keypair. */\n\tasync sign(options: SignOptions): Promise<SignatureWithBytes> {\n\t\tconst { signer, ...buildOptions } = options;\n\t\tconst bytes = await this.build(buildOptions);\n\t\treturn signer.signTransaction(bytes);\n\t}\n\n\t/**\n\t * Checks if the transaction is prepared for serialization to JSON.\n\t * This means:\n\t *  - All async thunks have been fully resolved\n\t *  - All transaction intents have been resolved (unless in supportedIntents)\n\t *\n\t * Unlike `isFullyResolved()`, this does not require the sender, gas payment,\n\t * budget, or object versions to be set.\n\t */\n\tisPreparedForSerialization(options: { supportedIntents?: string[] } = {}) {\n\t\tif (this.#pendingPromises.size > 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (\n\t\t\tthis.#data.commands.some(\n\t\t\t\t(cmd) => cmd.$Intent && !options.supportedIntents?.includes(cmd.$Intent.name),\n\t\t\t)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t *  Ensures that:\n\t *  - All objects have been fully resolved to a specific version\n\t *  - All pure inputs have been serialized to bytes\n\t *  - All async thunks have been fully resolved\n\t *  - All transaction intents have been resolved\n\t * \t- The gas payment, budget, and price have been set\n\t *  - The transaction sender has been set\n\t *\n\t *  When true, the transaction will always be built to the same bytes and digest (unless the transaction is mutated)\n\t */\n\tisFullyResolved() {\n\t\tif (!this.isPreparedForSerialization()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.#data.sender) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (needsTransactionResolution(this.#data, {})) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/** Build the transaction to BCS bytes. */\n\tasync build(options: BuildTransactionOptions = {}): Promise<Uint8Array<ArrayBuffer>> {\n\t\tawait this.prepareForSerialization(options);\n\t\tawait this.#prepareBuild(options);\n\t\treturn this.#data.build({\n\t\t\tonlyTransactionKind: options.onlyTransactionKind,\n\t\t});\n\t}\n\n\t/** Derive transaction digest */\n\tasync getDigest(\n\t\toptions: {\n\t\t\tclient?: ClientWithCoreApi;\n\t\t} = {},\n\t): Promise<string> {\n\t\tawait this.prepareForSerialization(options);\n\t\tawait this.#prepareBuild(options);\n\t\treturn this.#data.getDigest();\n\t}\n\n\t/**\n\t * Prepare the transaction by validating the transaction data and resolving all inputs\n\t * so that it can be built into bytes.\n\t */\n\tasync #prepareBuild(options: BuildTransactionOptions) {\n\t\tif (!options.onlyTransactionKind && !this.#data.sender) {\n\t\t\tthrow new Error('Missing transaction sender');\n\t\t}\n\n\t\tawait this.#runPlugins([...this.#buildPlugins, resolveTransactionPlugin], options);\n\t}\n\n\tasync #runPlugins(plugins: TransactionPlugin[], options: SerializeTransactionOptions) {\n\t\ttry {\n\t\t\tconst createNext = (i: number) => {\n\t\t\t\tif (i >= plugins.length) {\n\t\t\t\t\treturn () => {};\n\t\t\t\t}\n\t\t\t\tconst plugin = plugins[i];\n\n\t\t\t\treturn async () => {\n\t\t\t\t\tconst next = createNext(i + 1);\n\t\t\t\t\tlet calledNext = false;\n\t\t\t\t\tlet nextResolved = false;\n\n\t\t\t\t\tawait plugin(this.#data, options, async () => {\n\t\t\t\t\t\tif (calledNext) {\n\t\t\t\t\t\t\tthrow new Error(`next() was call multiple times in TransactionPlugin ${i}`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcalledNext = true;\n\n\t\t\t\t\t\tawait next();\n\n\t\t\t\t\t\tnextResolved = true;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!calledNext) {\n\t\t\t\t\t\tthrow new Error(`next() was not called in TransactionPlugin ${i}`);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!nextResolved) {\n\t\t\t\t\t\tthrow new Error(`next() was not awaited in TransactionPlugin ${i}`);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tawait createNext(0)();\n\t\t} finally {\n\t\t\tthis.#inputSection = this.#data.inputs.slice();\n\t\t\tthis.#commandSection = this.#data.commands.slice();\n\t\t\tthis.#availableResults = new Set(this.#commandSection.map((_, i) => i));\n\t\t}\n\t}\n\n\tasync #waitForPendingTasks() {\n\t\twhile (this.#pendingPromises.size > 0) {\n\t\t\tconst newPromise = Promise.all(this.#pendingPromises);\n\t\t\tthis.#pendingPromises.clear();\n\t\t\tthis.#pendingPromises.add(newPromise);\n\t\t\tawait newPromise;\n\t\t\tthis.#pendingPromises.delete(newPromise);\n\t\t}\n\t}\n\n\t#sortCommandsAndInputs() {\n\t\tconst unorderedCommands = this.#data.commands;\n\t\tconst unorderedInputs = this.#data.inputs;\n\n\t\tconst orderedCommands = (this.#commandSection as Command[]).flat(Infinity);\n\t\tconst orderedInputs = (this.#inputSection as CallArg[]).flat(Infinity);\n\n\t\tif (orderedCommands.length !== unorderedCommands.length) {\n\t\t\tthrow new Error('Unexpected number of commands found in transaction data');\n\t\t}\n\n\t\tif (orderedInputs.length !== unorderedInputs.length) {\n\t\t\tthrow new Error('Unexpected number of inputs found in transaction data');\n\t\t}\n\n\t\tconst filteredCommands = orderedCommands.filter(\n\t\t\t(cmd) => cmd.$Intent?.name !== 'AsyncTransactionThunk',\n\t\t);\n\n\t\tthis.#data.commands = filteredCommands;\n\t\tthis.#data.inputs = orderedInputs;\n\t\tthis.#commandSection = filteredCommands;\n\t\tthis.#inputSection = orderedInputs;\n\t\tthis.#availableResults = new Set(filteredCommands.map((_, i) => i));\n\n\t\tfunction getOriginalIndex(index: number): number {\n\t\t\tconst command = unorderedCommands[index];\n\t\t\tif (command.$Intent?.name === 'AsyncTransactionThunk') {\n\t\t\t\tconst result = command.$Intent.data.result as TransactionResult | null;\n\n\t\t\t\tif (result == null) {\n\t\t\t\t\tthrow new Error('AsyncTransactionThunk has not been resolved');\n\t\t\t\t}\n\n\t\t\t\treturn getOriginalIndex(result.Result);\n\t\t\t}\n\n\t\t\tconst updated = filteredCommands.indexOf(command);\n\n\t\t\tif (updated === -1) {\n\t\t\t\tthrow new Error('Unable to find original index for command');\n\t\t\t}\n\n\t\t\treturn updated;\n\t\t}\n\n\t\tthis.#data.mapArguments((arg) => {\n\t\t\tif (arg.$kind === 'Input') {\n\t\t\t\tconst updated = orderedInputs.indexOf(unorderedInputs[arg.Input]);\n\n\t\t\t\tif (updated === -1) {\n\t\t\t\t\tthrow new Error('Input has not been resolved');\n\t\t\t\t}\n\n\t\t\t\treturn { ...arg, Input: updated };\n\t\t\t} else if (arg.$kind === 'Result') {\n\t\t\t\tconst updated = getOriginalIndex(arg.Result);\n\n\t\t\t\treturn { ...arg, Result: updated };\n\t\t\t} else if (arg.$kind === 'NestedResult') {\n\t\t\t\tconst updated = getOriginalIndex(arg.NestedResult[0]);\n\n\t\t\t\treturn { ...arg, NestedResult: [updated, arg.NestedResult[1]] };\n\t\t\t}\n\n\t\t\treturn arg;\n\t\t});\n\n\t\tfor (const [i, cmd] of unorderedCommands.entries()) {\n\t\t\tif (cmd.$Intent?.name === 'AsyncTransactionThunk') {\n\t\t\t\ttry {\n\t\t\t\t\tcmd.$Intent.data.resultIndex = getOriginalIndex(i);\n\t\t\t\t} catch {\n\t\t\t\t\t// If async thunk did not return a result, this will error, but is safe to ignore\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tasync prepareForSerialization(options: SerializeTransactionOptions) {\n\t\tawait this.#waitForPendingTasks();\n\t\tthis.#sortCommandsAndInputs();\n\t\tconst intents = new Set<string>();\n\t\tfor (const command of this.#data.commands) {\n\t\t\tif (command.$Intent) {\n\t\t\t\tintents.add(command.$Intent.name);\n\t\t\t}\n\t\t}\n\n\t\tconst steps = [...this.#serializationPlugins];\n\n\t\tfor (const intent of intents) {\n\t\t\tif (options.supportedIntents?.includes(intent)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (!this.#intentResolvers.has(intent)) {\n\t\t\t\tthrow new Error(`Missing intent resolver for ${intent}`);\n\t\t\t}\n\n\t\t\tsteps.push(this.#intentResolvers.get(intent)!);\n\t\t}\n\n\t\tsteps.push(namedPackagesPlugin());\n\n\t\tawait this.#runPlugins(steps, options);\n\t}\n}\n"],"names":["#data","#inputSection","#commandSection","#availableResults","#serializationPlugins","#buildPlugins","#intentResolvers","#addInput","#pendingPromises","#added","#fork","#addCommand","result","#resolveArgument","#normalizeTransactionArgument","#prepareBuild","#runPlugins","#waitForPendingTasks","#sortCommandsAndInputs"],"mappings":"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"}},
    {"offset": {"line": 4866, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/utils/dynamic-fields.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/utils/dynamic-fields.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toHex } from '@mysten/bcs';\nimport { blake2b } from '@noble/hashes/blake2.js';\n\nimport type { TypeTag } from '../bcs/bcs.js';\nimport { bcs } from '../bcs/index.js';\n\nexport function deriveDynamicFieldID(\n\tparentId: string,\n\ttypeTag: typeof TypeTag.$inferInput,\n\tkey: Uint8Array,\n) {\n\tconst address = bcs.Address.serialize(parentId).toBytes();\n\tconst tag = bcs.TypeTag.serialize(typeTag).toBytes();\n\tconst keyLength = bcs.u64().serialize(key.length).toBytes();\n\n\tconst hash = blake2b.create({\n\t\tdkLen: 32,\n\t});\n\n\thash.update(new Uint8Array([0xf0]));\n\thash.update(address);\n\thash.update(keyLength);\n\thash.update(key);\n\thash.update(tag);\n\n\treturn `0x${toHex(hash.digest().slice(0, 32))}`;\n}\n"],"names":["bcs"],"mappings":";;;;;;;;;;;AASA,SAAgB,qBACf,QAAA,EACA,OAAA,EACA,GAAA,EACC;IACD,MAAM,UAAUA,kLAAAA,CAAI,OAAA,CAAQ,SAAA,CAAU,SAAS,CAAC,OAAA,EAAS;IACzD,MAAM,MAAMA,kLAAAA,CAAI,OAAA,CAAQ,SAAA,CAAU,QAAQ,CAAC,OAAA,EAAS;IACpD,MAAM,YAAYA,kLAAAA,CAAI,GAAA,EAAK,CAAC,SAAA,CAAU,IAAI,MAAA,CAAO,CAAC,OAAA,EAAS;IAE3D,MAAM,OAAO,4LAAA,CAAQ,MAAA,CAAO;QAC3B,OAAO;IAAA,CACP,CAAC;IAEF,KAAK,MAAA,CAAO,IAAI,WAAW;QAAC;KAAK,CAAC,CAAC;IACnC,KAAK,MAAA,CAAO,QAAQ;IACpB,KAAK,MAAA,CAAO,UAAU;IACtB,KAAK,MAAA,CAAO,IAAI;IAChB,KAAK,MAAA,CAAO,IAAI;IAEhB,OAAO,CAAA,EAAA,MAAK,6JAAA,EAAM,KAAK,MAAA,EAAQ,CAAC,KAAA,CAAM,GAAG,GAAG,CAAC,EAAA"}},
    {"offset": {"line": 4899, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/client/core.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/client/core.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { TypeTagSerializer } from '../bcs/type-tag-serializer.js';\nimport type { TransactionPlugin } from '../transactions/index.js';\nimport { deriveDynamicFieldID } from '../utils/dynamic-fields.js';\nimport { normalizeStructTag, parseStructTag, SUI_ADDRESS_LENGTH } from '../utils/sui-types.js';\nimport { BaseClient } from './client.js';\nimport type { ClientWithExtensions, SuiClientTypes } from './types.js';\nimport { MvrClient } from './mvr.js';\nimport { bcs } from '../bcs/index.js';\n\nexport type ClientWithCoreApi = ClientWithExtensions<{\n\tcore: CoreClient;\n}>;\n\nexport interface CoreClientOptions extends SuiClientTypes.SuiClientOptions {\n\tbase: BaseClient;\n\tmvr?: SuiClientTypes.MvrOptions;\n}\n\nconst DEFAULT_MVR_URLS: Record<string, string> = {\n\tmainnet: 'https://mainnet.mvr.mystenlabs.com',\n\ttestnet: 'https://testnet.mvr.mystenlabs.com',\n};\n\nexport abstract class CoreClient extends BaseClient implements SuiClientTypes.TransportMethods {\n\tcore = this;\n\tmvr: SuiClientTypes.MvrMethods;\n\n\tconstructor(options: CoreClientOptions) {\n\t\tsuper(options);\n\n\t\tthis.mvr = new MvrClient({\n\t\t\tcache: this.cache.scope('core.mvr'),\n\t\t\turl: options.mvr?.url ?? DEFAULT_MVR_URLS[this.network],\n\t\t\tpageSize: options.mvr?.pageSize,\n\t\t\toverrides: options.mvr?.overrides,\n\t\t});\n\t}\n\n\tabstract getObjects<Include extends SuiClientTypes.ObjectInclude = object>(\n\t\toptions: SuiClientTypes.GetObjectsOptions<Include>,\n\t): Promise<SuiClientTypes.GetObjectsResponse<Include>>;\n\n\tasync getObject<Include extends SuiClientTypes.ObjectInclude = object>(\n\t\toptions: SuiClientTypes.GetObjectOptions<Include>,\n\t): Promise<SuiClientTypes.GetObjectResponse<Include>> {\n\t\tconst { objectId } = options;\n\t\tconst {\n\t\t\tobjects: [result],\n\t\t} = await this.getObjects({\n\t\t\tobjectIds: [objectId],\n\t\t\tsignal: options.signal,\n\t\t\tinclude: options.include,\n\t\t});\n\t\tif (result instanceof Error) {\n\t\t\tthrow result;\n\t\t}\n\t\treturn { object: result };\n\t}\n\n\tabstract listCoins(\n\t\toptions: SuiClientTypes.ListCoinsOptions,\n\t): Promise<SuiClientTypes.ListCoinsResponse>;\n\n\tabstract listOwnedObjects<Include extends SuiClientTypes.ObjectInclude = object>(\n\t\toptions: SuiClientTypes.ListOwnedObjectsOptions<Include>,\n\t): Promise<SuiClientTypes.ListOwnedObjectsResponse<Include>>;\n\n\tabstract getBalance(\n\t\toptions: SuiClientTypes.GetBalanceOptions,\n\t): Promise<SuiClientTypes.GetBalanceResponse>;\n\n\tabstract listBalances(\n\t\toptions: SuiClientTypes.ListBalancesOptions,\n\t): Promise<SuiClientTypes.ListBalancesResponse>;\n\n\tabstract getCoinMetadata(\n\t\toptions: SuiClientTypes.GetCoinMetadataOptions,\n\t): Promise<SuiClientTypes.GetCoinMetadataResponse>;\n\n\tabstract getTransaction<Include extends SuiClientTypes.TransactionInclude = object>(\n\t\toptions: SuiClientTypes.GetTransactionOptions<Include>,\n\t): Promise<SuiClientTypes.TransactionResult<Include>>;\n\n\tabstract executeTransaction<Include extends SuiClientTypes.TransactionInclude = object>(\n\t\toptions: SuiClientTypes.ExecuteTransactionOptions<Include>,\n\t): Promise<SuiClientTypes.TransactionResult<Include>>;\n\n\tabstract simulateTransaction<Include extends SuiClientTypes.SimulateTransactionInclude = object>(\n\t\toptions: SuiClientTypes.SimulateTransactionOptions<Include>,\n\t): Promise<SuiClientTypes.SimulateTransactionResult<Include>>;\n\n\tabstract getReferenceGasPrice(\n\t\toptions?: SuiClientTypes.GetReferenceGasPriceOptions,\n\t): Promise<SuiClientTypes.GetReferenceGasPriceResponse>;\n\n\tabstract getCurrentSystemState(\n\t\toptions?: SuiClientTypes.GetCurrentSystemStateOptions,\n\t): Promise<SuiClientTypes.GetCurrentSystemStateResponse>;\n\n\tabstract getChainIdentifier(\n\t\toptions?: SuiClientTypes.GetChainIdentifierOptions,\n\t): Promise<SuiClientTypes.GetChainIdentifierResponse>;\n\n\tabstract listDynamicFields(\n\t\toptions: SuiClientTypes.ListDynamicFieldsOptions,\n\t): Promise<SuiClientTypes.ListDynamicFieldsResponse>;\n\n\tabstract resolveTransactionPlugin(): TransactionPlugin;\n\n\tabstract verifyZkLoginSignature(\n\t\toptions: SuiClientTypes.VerifyZkLoginSignatureOptions,\n\t): Promise<SuiClientTypes.ZkLoginVerifyResponse>;\n\n\tabstract getMoveFunction(\n\t\toptions: SuiClientTypes.GetMoveFunctionOptions,\n\t): Promise<SuiClientTypes.GetMoveFunctionResponse>;\n\n\tabstract defaultNameServiceName(\n\t\toptions: SuiClientTypes.DefaultNameServiceNameOptions,\n\t): Promise<SuiClientTypes.DefaultNameServiceNameResponse>;\n\n\tasync getDynamicField(\n\t\toptions: SuiClientTypes.GetDynamicFieldOptions,\n\t): Promise<SuiClientTypes.GetDynamicFieldResponse> {\n\t\tconst normalizedNameType = TypeTagSerializer.parseFromStr(\n\t\t\t(\n\t\t\t\tawait this.core.mvr.resolveType({\n\t\t\t\t\ttype: options.name.type,\n\t\t\t\t})\n\t\t\t).type,\n\t\t);\n\t\tconst fieldId = deriveDynamicFieldID(options.parentId, normalizedNameType, options.name.bcs);\n\t\tconst {\n\t\t\tobjects: [fieldObject],\n\t\t} = await this.getObjects({\n\t\t\tobjectIds: [fieldId],\n\t\t\tsignal: options.signal,\n\t\t\tinclude: {\n\t\t\t\tpreviousTransaction: true,\n\t\t\t\tcontent: true,\n\t\t\t},\n\t\t});\n\n\t\tif (fieldObject instanceof Error) {\n\t\t\tthrow fieldObject;\n\t\t}\n\n\t\tconst fieldType = parseStructTag(fieldObject.type);\n\t\tconst content = await fieldObject.content;\n\n\t\treturn {\n\t\t\tdynamicField: {\n\t\t\t\tfieldId: fieldObject.objectId,\n\t\t\t\tdigest: fieldObject.digest,\n\t\t\t\tversion: fieldObject.version,\n\t\t\t\ttype: fieldObject.type,\n\t\t\t\tpreviousTransaction: fieldObject.previousTransaction,\n\t\t\t\tname: {\n\t\t\t\t\ttype:\n\t\t\t\t\t\ttypeof fieldType.typeParams[0] === 'string'\n\t\t\t\t\t\t\t? fieldType.typeParams[0]\n\t\t\t\t\t\t\t: normalizeStructTag(fieldType.typeParams[0]),\n\t\t\t\t\tbcs: options.name.bcs,\n\t\t\t\t},\n\t\t\t\tvalue: {\n\t\t\t\t\ttype:\n\t\t\t\t\t\ttypeof fieldType.typeParams[1] === 'string'\n\t\t\t\t\t\t\t? fieldType.typeParams[1]\n\t\t\t\t\t\t\t: normalizeStructTag(fieldType.typeParams[1]),\n\t\t\t\t\tbcs: content.slice(SUI_ADDRESS_LENGTH + options.name.bcs.length),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\tasync getDynamicObjectField<Include extends SuiClientTypes.ObjectInclude = object>(\n\t\toptions: SuiClientTypes.GetDynamicObjectFieldOptions<Include>,\n\t): Promise<SuiClientTypes.GetDynamicObjectFieldResponse<Include>> {\n\t\tconst resolvedNameType = (\n\t\t\tawait this.core.mvr.resolveType({\n\t\t\t\ttype: options.name.type,\n\t\t\t})\n\t\t).type;\n\t\tconst wrappedType = `0x2::dynamic_object_field::Wrapper<${resolvedNameType}>`;\n\n\t\tconst { dynamicField } = await this.getDynamicField({\n\t\t\tparentId: options.parentId,\n\t\t\tname: {\n\t\t\t\ttype: wrappedType,\n\t\t\t\tbcs: options.name.bcs,\n\t\t\t},\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\tconst { object } = await this.getObject({\n\t\t\tobjectId: bcs.Address.parse(dynamicField.value.bcs),\n\t\t\tsignal: options.signal,\n\t\t\tinclude: options.include,\n\t\t});\n\n\t\treturn { object };\n\t}\n\n\tasync waitForTransaction<Include extends SuiClientTypes.TransactionInclude = object>(\n\t\toptions: SuiClientTypes.WaitForTransactionOptions<Include>,\n\t): Promise<SuiClientTypes.TransactionResult<Include>> {\n\t\tconst { signal, timeout = 60 * 1000, include } = options;\n\n\t\tconst digest =\n\t\t\t'result' in options && options.result\n\t\t\t\t? (options.result.Transaction ?? options.result.FailedTransaction)!.digest\n\t\t\t\t: options.digest;\n\n\t\tconst abortSignal = signal\n\t\t\t? AbortSignal.any([AbortSignal.timeout(timeout), signal])\n\t\t\t: AbortSignal.timeout(timeout);\n\n\t\tconst abortPromise = new Promise((_, reject) => {\n\t\t\tabortSignal.addEventListener('abort', () => reject(abortSignal.reason));\n\t\t});\n\n\t\tabortPromise.catch(() => {\n\t\t\t// Swallow unhandled rejections that might be thrown after early return\n\t\t});\n\n\t\twhile (true) {\n\t\t\tabortSignal.throwIfAborted();\n\t\t\ttry {\n\t\t\t\treturn await this.getTransaction({\n\t\t\t\t\tdigest,\n\t\t\t\t\tinclude,\n\t\t\t\t\tsignal: abortSignal,\n\t\t\t\t});\n\t\t\t} catch {\n\t\t\t\tawait Promise.race([new Promise((resolve) => setTimeout(resolve, 2_000)), abortPromise]);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync signAndExecuteTransaction<Include extends SuiClientTypes.TransactionInclude = {}>({\n\t\ttransaction,\n\t\tsigner,\n\t\tadditionalSignatures = [],\n\t\t...input\n\t}: SuiClientTypes.SignAndExecuteTransactionOptions<Include>): Promise<\n\t\tSuiClientTypes.TransactionResult<Include>\n\t> {\n\t\tlet transactionBytes;\n\n\t\tif (transaction instanceof Uint8Array) {\n\t\t\ttransactionBytes = transaction;\n\t\t} else {\n\t\t\ttransaction.setSenderIfNotSet(signer.toSuiAddress());\n\t\t\ttransactionBytes = await transaction.build({ client: this });\n\t\t}\n\n\t\tconst { signature } = await signer.signTransaction(transactionBytes);\n\n\t\treturn this.executeTransaction({\n\t\t\ttransaction: transactionBytes,\n\t\t\tsignatures: [signature, ...additionalSignatures],\n\t\t\t...input,\n\t\t});\n\t}\n}\n"],"names":["bcs"],"mappings":"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"}},
    {"offset": {"line": 5055, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/client/utils.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/client/utils.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toBase64 } from '@mysten/utils';\n\nimport { bcs } from '../bcs/index.js';\nimport { ExecutionStatus } from '../bcs/effects.js';\nimport { TransactionDataBuilder } from '../transactions/TransactionData.js';\nimport type { SuiClientTypes } from './types.js';\n\nconst ordinalRules = new Intl.PluralRules('en-US', { type: 'ordinal' });\nconst ordinalSuffixes = new Map([\n\t['one', 'st'],\n\t['two', 'nd'],\n\t['few', 'rd'],\n\t['other', 'th'],\n]);\n\nexport function formatOrdinal(n: number): string {\n\treturn `${n}${ordinalSuffixes.get(ordinalRules.select(n))}`;\n}\n\nexport function formatMoveAbortMessage(options: {\n\tcommand?: number;\n\tlocation?: {\n\t\tpackage?: string;\n\t\tmodule?: string;\n\t\tfunctionName?: string;\n\t\tinstruction?: number;\n\t};\n\tabortCode: string;\n\tcleverError?: {\n\t\tlineNumber?: number;\n\t\tconstantName?: string;\n\t\tvalue?: string;\n\t};\n}): string {\n\tconst { command, location, abortCode, cleverError } = options;\n\tconst parts: string[] = [];\n\n\tif (command != null) {\n\t\tparts.push(`MoveAbort in ${formatOrdinal(command + 1)} command`);\n\t} else {\n\t\tparts.push('MoveAbort');\n\t}\n\n\tif (cleverError?.constantName) {\n\t\tconst errorStr = cleverError!.value\n\t\t\t? `'${cleverError!.constantName}': ${cleverError!.value}`\n\t\t\t: `'${cleverError!.constantName}'`;\n\t\tparts.push(errorStr);\n\t} else {\n\t\tparts.push(`abort code: ${abortCode}`);\n\t}\n\n\tif (location?.package && location?.module) {\n\t\tconst pkg = location.package.startsWith('0x') ? location.package : `0x${location.package}`;\n\t\tconst locationParts = [pkg, location.module, location.functionName].filter(Boolean);\n\t\tconst locationStr = [`in '${locationParts.join('::')}'`];\n\n\t\tif (cleverError?.lineNumber != null) {\n\t\t\tlocationStr.push(`(line ${cleverError.lineNumber})`);\n\t\t} else if (location.instruction != null) {\n\t\t\tlocationStr.push(`(instruction ${location.instruction})`);\n\t\t}\n\n\t\tparts.push(locationStr.join(' '));\n\t}\n\n\treturn parts.join(', ');\n}\n\n// Minimal BCS types for extracting just the status from transaction effects.\n// BCS fields are read sequentially, so we only need to define fields up to and including status.\n// This avoids parsing the entire effects structure when we only need success/failure.\n\n// First, try with the full ExecutionStatus to get detailed error info\nconst MinimalEffectsWithError = bcs.struct('MinimalEffectsWithError', {\n\tstatus: ExecutionStatus,\n});\n\nconst MinimalTransactionEffectsWithError = bcs.enum('MinimalTransactionEffectsWithError', {\n\tV1: MinimalEffectsWithError,\n\tV2: MinimalEffectsWithError,\n});\n\n// Fallback version that doesn't parse error details - used when ExecutionFailureStatus has unknown variants\nconst MinimalExecutionStatusNoError = bcs.enum('MinimalExecutionStatusNoError', {\n\tSuccess: null,\n\tFailed: null, // Don't parse the error structure\n});\n\nconst MinimalEffectsNoError = bcs.struct('MinimalEffectsNoError', {\n\tstatus: MinimalExecutionStatusNoError,\n});\n\nconst MinimalTransactionEffectsNoError = bcs.enum('MinimalTransactionEffectsNoError', {\n\tV1: MinimalEffectsNoError,\n\tV2: MinimalEffectsNoError,\n});\n\ntype BcsExecutionFailureStatus = NonNullable<\n\t(typeof ExecutionStatus.$inferType)['Failure']\n>['error'];\n\nfunction formatErrorMessage($kind: string, data: unknown): string {\n\tif (data !== null && data !== undefined && typeof data !== 'boolean') {\n\t\treturn `${$kind}(${JSON.stringify(data, (_key, value) => (typeof value === 'bigint' ? value.toString() : value))})`;\n\t}\n\treturn $kind;\n}\n\nfunction parseBcsExecutionError(failure: {\n\terror: BcsExecutionFailureStatus;\n\tcommand: string | null;\n}): SuiClientTypes.ExecutionError {\n\tconst error = failure.error;\n\tconst command = failure.command != null ? Number(failure.command) : undefined;\n\n\tswitch (error.$kind) {\n\t\tcase 'MoveAbort': {\n\t\t\tconst [location, abortCode] = error.MoveAbort;\n\t\t\tconst moveLocation = {\n\t\t\t\tpackage: location.module.address,\n\t\t\t\tmodule: location.module.name,\n\t\t\t\tfunction: location.function,\n\t\t\t\tfunctionName: location.functionName ?? undefined,\n\t\t\t\tinstruction: location.instruction,\n\t\t\t};\n\t\t\treturn {\n\t\t\t\t$kind: 'MoveAbort',\n\t\t\t\tmessage: formatMoveAbortMessage({\n\t\t\t\t\tcommand,\n\t\t\t\t\tlocation: moveLocation,\n\t\t\t\t\tabortCode: String(abortCode),\n\t\t\t\t}),\n\t\t\t\tcommand,\n\t\t\t\tMoveAbort: {\n\t\t\t\t\tabortCode: String(abortCode),\n\t\t\t\t\tlocation: moveLocation,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'MoveObjectTooBig':\n\t\t\treturn {\n\t\t\t\t$kind: 'SizeError',\n\t\t\t\tmessage: formatErrorMessage('MoveObjectTooBig', error.MoveObjectTooBig),\n\t\t\t\tcommand,\n\t\t\t\tSizeError: {\n\t\t\t\t\tname: 'ObjectTooBig',\n\t\t\t\t\tsize: Number(error.MoveObjectTooBig.objectSize),\n\t\t\t\t\tmaxSize: Number(error.MoveObjectTooBig.maxObjectSize),\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'MovePackageTooBig':\n\t\t\treturn {\n\t\t\t\t$kind: 'SizeError',\n\t\t\t\tmessage: formatErrorMessage('MovePackageTooBig', error.MovePackageTooBig),\n\t\t\t\tcommand,\n\t\t\t\tSizeError: {\n\t\t\t\t\tname: 'PackageTooBig',\n\t\t\t\t\tsize: Number(error.MovePackageTooBig.objectSize),\n\t\t\t\t\tmaxSize: Number(error.MovePackageTooBig.maxObjectSize),\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'EffectsTooLarge':\n\t\t\treturn {\n\t\t\t\t$kind: 'SizeError',\n\t\t\t\tmessage: formatErrorMessage('EffectsTooLarge', error.EffectsTooLarge),\n\t\t\t\tcommand,\n\t\t\t\tSizeError: {\n\t\t\t\t\tname: 'EffectsTooLarge',\n\t\t\t\t\tsize: Number(error.EffectsTooLarge.currentSize),\n\t\t\t\t\tmaxSize: Number(error.EffectsTooLarge.maxSize),\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'WrittenObjectsTooLarge':\n\t\t\treturn {\n\t\t\t\t$kind: 'SizeError',\n\t\t\t\tmessage: formatErrorMessage('WrittenObjectsTooLarge', error.WrittenObjectsTooLarge),\n\t\t\t\tcommand,\n\t\t\t\tSizeError: {\n\t\t\t\t\tname: 'WrittenObjectsTooLarge',\n\t\t\t\t\tsize: Number(error.WrittenObjectsTooLarge.currentSize),\n\t\t\t\t\tmaxSize: Number(error.WrittenObjectsTooLarge.maxSize),\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'MoveVectorElemTooBig':\n\t\t\treturn {\n\t\t\t\t$kind: 'SizeError',\n\t\t\t\tmessage: formatErrorMessage('MoveVectorElemTooBig', error.MoveVectorElemTooBig),\n\t\t\t\tcommand,\n\t\t\t\tSizeError: {\n\t\t\t\t\tname: 'MoveVectorElemTooBig',\n\t\t\t\t\tsize: Number(error.MoveVectorElemTooBig.valueSize),\n\t\t\t\t\tmaxSize: Number(error.MoveVectorElemTooBig.maxScaledSize),\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'MoveRawValueTooBig':\n\t\t\treturn {\n\t\t\t\t$kind: 'SizeError',\n\t\t\t\tmessage: formatErrorMessage('MoveRawValueTooBig', error.MoveRawValueTooBig),\n\t\t\t\tcommand,\n\t\t\t\tSizeError: {\n\t\t\t\t\tname: 'MoveRawValueTooBig',\n\t\t\t\t\tsize: Number(error.MoveRawValueTooBig.valueSize),\n\t\t\t\t\tmaxSize: Number(error.MoveRawValueTooBig.maxScaledSize),\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'CommandArgumentError':\n\t\t\treturn {\n\t\t\t\t$kind: 'CommandArgumentError',\n\t\t\t\tmessage: formatErrorMessage('CommandArgumentError', error.CommandArgumentError),\n\t\t\t\tcommand,\n\t\t\t\tCommandArgumentError: {\n\t\t\t\t\targument: error.CommandArgumentError.argIdx,\n\t\t\t\t\tname: error.CommandArgumentError.kind.$kind,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'TypeArgumentError':\n\t\t\treturn {\n\t\t\t\t$kind: 'TypeArgumentError',\n\t\t\t\tmessage: formatErrorMessage('TypeArgumentError', error.TypeArgumentError),\n\t\t\t\tcommand,\n\t\t\t\tTypeArgumentError: {\n\t\t\t\t\ttypeArgument: error.TypeArgumentError.argumentIdx,\n\t\t\t\t\tname: error.TypeArgumentError.kind.$kind,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'PackageUpgradeError': {\n\t\t\tconst upgradeError = error.PackageUpgradeError.upgradeError;\n\t\t\treturn {\n\t\t\t\t$kind: 'PackageUpgradeError',\n\t\t\t\tmessage: formatErrorMessage('PackageUpgradeError', error.PackageUpgradeError),\n\t\t\t\tcommand,\n\t\t\t\tPackageUpgradeError: {\n\t\t\t\t\tname: upgradeError.$kind,\n\t\t\t\t\tpackageId:\n\t\t\t\t\t\tupgradeError.$kind === 'UnableToFetchPackage'\n\t\t\t\t\t\t\t? upgradeError.UnableToFetchPackage.packageId\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\tdigest:\n\t\t\t\t\t\tupgradeError.$kind === 'DigestDoesNotMatch'\n\t\t\t\t\t\t\t? toBase64(upgradeError.DigestDoesNotMatch.digest)\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase 'ExecutionCancelledDueToSharedObjectCongestion':\n\t\t\treturn {\n\t\t\t\t$kind: 'CongestedObjects',\n\t\t\t\tmessage: formatErrorMessage(\n\t\t\t\t\t'ExecutionCancelledDueToSharedObjectCongestion',\n\t\t\t\t\terror.ExecutionCancelledDueToSharedObjectCongestion,\n\t\t\t\t),\n\t\t\t\tcommand,\n\t\t\t\tCongestedObjects: {\n\t\t\t\t\tname: 'ExecutionCanceledDueToConsensusObjectCongestion',\n\t\t\t\t\tobjects: error.ExecutionCancelledDueToSharedObjectCongestion.congested_objects,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'AddressDeniedForCoin':\n\t\t\treturn {\n\t\t\t\t$kind: 'CoinDenyListError',\n\t\t\t\tmessage: formatErrorMessage('AddressDeniedForCoin', error.AddressDeniedForCoin),\n\t\t\t\tcommand,\n\t\t\t\tCoinDenyListError: {\n\t\t\t\t\tname: 'AddressDeniedForCoin',\n\t\t\t\t\taddress: error.AddressDeniedForCoin.address,\n\t\t\t\t\tcoinType: error.AddressDeniedForCoin.coinType,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'CoinTypeGlobalPause':\n\t\t\treturn {\n\t\t\t\t$kind: 'CoinDenyListError',\n\t\t\t\tmessage: formatErrorMessage('CoinTypeGlobalPause', error.CoinTypeGlobalPause),\n\t\t\t\tcommand,\n\t\t\t\tCoinDenyListError: {\n\t\t\t\t\tname: 'CoinTypeGlobalPause',\n\t\t\t\t\tcoinType: error.CoinTypeGlobalPause.coinType,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'CircularObjectOwnership':\n\t\t\treturn {\n\t\t\t\t$kind: 'ObjectIdError',\n\t\t\t\tmessage: formatErrorMessage('CircularObjectOwnership', error.CircularObjectOwnership),\n\t\t\t\tcommand,\n\t\t\t\tObjectIdError: {\n\t\t\t\t\tname: 'CircularObjectOwnership',\n\t\t\t\t\tobjectId: error.CircularObjectOwnership.object,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'InvalidGasObject':\n\t\t\treturn {\n\t\t\t\t$kind: 'ObjectIdError',\n\t\t\t\tmessage: 'InvalidGasObject',\n\t\t\t\tcommand,\n\t\t\t\tObjectIdError: {\n\t\t\t\t\tname: 'InvalidGasObject',\n\t\t\t\t\tobjectId: '',\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'InputObjectDeleted':\n\t\t\treturn {\n\t\t\t\t$kind: 'ObjectIdError',\n\t\t\t\tmessage: 'InputObjectDeleted',\n\t\t\t\tcommand,\n\t\t\t\tObjectIdError: {\n\t\t\t\t\tname: 'InputObjectDeleted',\n\t\t\t\t\tobjectId: '',\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'InvalidTransferObject':\n\t\t\treturn {\n\t\t\t\t$kind: 'ObjectIdError',\n\t\t\t\tmessage: 'InvalidTransferObject',\n\t\t\t\tcommand,\n\t\t\t\tObjectIdError: {\n\t\t\t\t\tname: 'InvalidTransferObject',\n\t\t\t\t\tobjectId: '',\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'NonExclusiveWriteInputObjectModified':\n\t\t\treturn {\n\t\t\t\t$kind: 'Unknown',\n\t\t\t\tmessage: formatErrorMessage(\n\t\t\t\t\t'NonExclusiveWriteInputObjectModified',\n\t\t\t\t\terror.NonExclusiveWriteInputObjectModified,\n\t\t\t\t),\n\t\t\t\tcommand,\n\t\t\t\tUnknown: null,\n\t\t\t};\n\n\t\tcase 'InsufficientGas':\n\t\tcase 'InvariantViolation':\n\t\tcase 'FeatureNotYetSupported':\n\t\tcase 'InsufficientCoinBalance':\n\t\tcase 'CoinBalanceOverflow':\n\t\tcase 'PublishErrorNonZeroAddress':\n\t\tcase 'SuiMoveVerificationError':\n\t\tcase 'MovePrimitiveRuntimeError':\n\t\tcase 'VMVerificationOrDeserializationError':\n\t\tcase 'VMInvariantViolation':\n\t\tcase 'FunctionNotFound':\n\t\tcase 'ArityMismatch':\n\t\tcase 'TypeArityMismatch':\n\t\tcase 'NonEntryFunctionInvoked':\n\t\tcase 'UnusedValueWithoutDrop':\n\t\tcase 'InvalidPublicFunctionReturnType':\n\t\tcase 'PublishUpgradeMissingDependency':\n\t\tcase 'PublishUpgradeDependencyDowngrade':\n\t\tcase 'CertificateDenied':\n\t\tcase 'SuiMoveVerificationTimedout':\n\t\tcase 'SharedObjectOperationNotAllowed':\n\t\tcase 'ExecutionCancelledDueToRandomnessUnavailable':\n\t\tcase 'InvalidLinkage':\n\t\tcase 'InsufficientBalanceForWithdraw':\n\t\t\treturn {\n\t\t\t\t$kind: 'Unknown',\n\t\t\t\tmessage: error.$kind,\n\t\t\t\tcommand,\n\t\t\t\tUnknown: null,\n\t\t\t};\n\n\t\tdefault:\n\t\t\terror satisfies never;\n\t\t\treturn {\n\t\t\t\t$kind: 'Unknown',\n\t\t\t\tmessage: 'Unknown error',\n\t\t\t\tcommand,\n\t\t\t\tUnknown: null,\n\t\t\t};\n\t}\n}\n\nexport function parseTransactionBcs(\n\tbytes: Uint8Array,\n\tonlyTransactionKind = false,\n): SuiClientTypes.TransactionData {\n\treturn (\n\t\tonlyTransactionKind\n\t\t\t? TransactionDataBuilder.fromKindBytes(bytes)\n\t\t\t: TransactionDataBuilder.fromBytes(bytes)\n\t).snapshot();\n}\n\n/**\n * Extracts just the status from transaction effects BCS without fully parsing.\n * This is optimized for cases where we only need the status (success/failure)\n * without parsing the entire effects structure.\n *\n * Uses a minimal BCS struct that only parses fields up to and including status,\n * since BCS fields are read sequentially. First tries to parse with full error details,\n * then falls back to a version without error parsing if the error enum has unknown variants.\n *\n * For errors with data, serializes the error as JSON to preserve all information.\n */\nexport function extractStatusFromEffectsBcs(\n\teffectsBytes: Uint8Array,\n): SuiClientTypes.ExecutionStatus {\n\t// First try parsing with full error details\n\tlet parsed: ReturnType<typeof MinimalTransactionEffectsWithError.parse> | null = null;\n\ttry {\n\t\tparsed = MinimalTransactionEffectsWithError.parse(effectsBytes);\n\t} catch {\n\t\t// Fall back to parsing without error details if the error enum has unknown variants\n\t\tconst parsedNoError = MinimalTransactionEffectsNoError.parse(effectsBytes);\n\t\tconst status = (parsedNoError.V1 ?? parsedNoError.V2)!.status;\n\n\t\tif (status.$kind === 'Success') {\n\t\t\treturn { success: true, error: null };\n\t\t}\n\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror: {\n\t\t\t\t$kind: 'Unknown',\n\t\t\t\tmessage: 'ExecutionFailed',\n\t\t\t\tUnknown: null,\n\t\t\t},\n\t\t};\n\t}\n\n\tconst status = (parsed.V1 ?? parsed.V2)!.status;\n\n\tif (status.$kind === 'Success') {\n\t\treturn { success: true, error: null };\n\t}\n\n\treturn {\n\t\tsuccess: false,\n\t\terror: parseBcsExecutionError(status.Failure),\n\t};\n}\n\nexport function parseTransactionEffectsBcs(effects: Uint8Array): SuiClientTypes.TransactionEffects {\n\tconst parsed = bcs.TransactionEffects.parse(effects);\n\n\tswitch (parsed.$kind) {\n\t\tcase 'V1':\n\t\t\treturn parseTransactionEffectsV1({ bytes: effects, effects: parsed.V1 });\n\t\tcase 'V2':\n\t\t\treturn parseTransactionEffectsV2({ bytes: effects, effects: parsed.V2 });\n\t\tdefault:\n\t\t\tthrow new Error(\n\t\t\t\t`Unknown transaction effects version: ${(parsed as { $kind: string }).$kind}`,\n\t\t\t);\n\t}\n}\n\nfunction parseTransactionEffectsV1(_: {\n\tbytes: Uint8Array;\n\teffects: NonNullable<(typeof bcs.TransactionEffects.$inferType)['V1']>;\n}): SuiClientTypes.TransactionEffects {\n\tthrow new Error('V1 effects are not supported yet');\n}\n\nfunction parseTransactionEffectsV2({\n\tbytes,\n\teffects,\n}: {\n\tbytes: Uint8Array;\n\teffects: NonNullable<(typeof bcs.TransactionEffects.$inferType)['V2']>;\n}): SuiClientTypes.TransactionEffects {\n\tconst changedObjects = effects.changedObjects.map(\n\t\t([id, change]): SuiClientTypes.ChangedObject => {\n\t\t\treturn {\n\t\t\t\tobjectId: id,\n\t\t\t\tinputState: change.inputState.$kind === 'Exist' ? 'Exists' : 'DoesNotExist',\n\t\t\t\tinputVersion: change.inputState.Exist?.[0][0] ?? null,\n\t\t\t\tinputDigest: change.inputState.Exist?.[0][1] ?? null,\n\t\t\t\tinputOwner: change.inputState.Exist?.[1] ?? null,\n\t\t\t\toutputState:\n\t\t\t\t\tchange.outputState.$kind === 'NotExist' ? 'DoesNotExist' : change.outputState.$kind,\n\t\t\t\toutputVersion:\n\t\t\t\t\tchange.outputState.$kind === 'PackageWrite'\n\t\t\t\t\t\t? change.outputState.PackageWrite?.[0]\n\t\t\t\t\t\t: change.outputState.$kind === 'ObjectWrite'\n\t\t\t\t\t\t\t? effects.lamportVersion\n\t\t\t\t\t\t\t: null,\n\t\t\t\toutputDigest:\n\t\t\t\t\tchange.outputState.$kind === 'PackageWrite'\n\t\t\t\t\t\t? change.outputState.PackageWrite?.[1]\n\t\t\t\t\t\t: change.outputState.$kind === 'ObjectWrite'\n\t\t\t\t\t\t\t? (change.outputState.ObjectWrite?.[0] ?? null)\n\t\t\t\t\t\t\t: null,\n\t\t\t\toutputOwner:\n\t\t\t\t\tchange.outputState.$kind === 'ObjectWrite' ? change.outputState.ObjectWrite[1] : null,\n\t\t\t\tidOperation: change.idOperation.$kind,\n\t\t\t};\n\t\t},\n\t);\n\n\treturn {\n\t\tbcs: bytes,\n\t\tversion: 2,\n\t\tstatus:\n\t\t\teffects.status.$kind === 'Success'\n\t\t\t\t? {\n\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\terror: null,\n\t\t\t\t\t}\n\t\t\t\t: {\n\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\terror: parseBcsExecutionError(effects.status.Failure),\n\t\t\t\t\t},\n\t\tgasUsed: effects.gasUsed,\n\t\ttransactionDigest: effects.transactionDigest,\n\t\tgasObject:\n\t\t\teffects.gasObjectIndex === null ? null : (changedObjects[effects.gasObjectIndex] ?? null),\n\t\teventsDigest: effects.eventsDigest,\n\t\tdependencies: effects.dependencies,\n\t\tlamportVersion: effects.lamportVersion,\n\t\tchangedObjects,\n\t\tunchangedConsensusObjects: effects.unchangedConsensusObjects.map(\n\t\t\t([objectId, object]): SuiClientTypes.UnchangedConsensusObject => {\n\t\t\t\treturn {\n\t\t\t\t\tkind: object.$kind,\n\t\t\t\t\tobjectId: objectId,\n\t\t\t\t\tversion:\n\t\t\t\t\t\tobject.$kind === 'ReadOnlyRoot'\n\t\t\t\t\t\t\t? object.ReadOnlyRoot[0]\n\t\t\t\t\t\t\t: (object[object.$kind] as string | null),\n\t\t\t\t\tdigest: object.$kind === 'ReadOnlyRoot' ? object.ReadOnlyRoot[1] : null,\n\t\t\t\t};\n\t\t\t},\n\t\t),\n\t\tauxiliaryDataDigest: effects.auxDataDigest,\n\t};\n}\n"],"names":["bcs"],"mappings":"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"}},
    {"offset": {"line": 5499, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/jsonRpc/core.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/jsonRpc/core.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase64, type InferBcsInput } from '@mysten/bcs';\n\nimport { bcs, TypeTagSerializer } from '../bcs/index.js';\nimport type {\n\tExecutionStatus as JsonRpcExecutionStatus,\n\tObjectOwner,\n\tSuiMoveAbilitySet,\n\tSuiMoveAbort,\n\tSuiMoveNormalizedType,\n\tSuiMoveVisibility,\n\tSuiObjectChange,\n\tSuiObjectData,\n\tSuiObjectDataFilter,\n\tSuiTransactionBlockResponse,\n\tTransactionEffects,\n} from './types/index.js';\nimport { Transaction } from '../transactions/Transaction.js';\nimport { coreClientResolveTransactionPlugin } from '../client/core-resolver.js';\nimport { TransactionDataBuilder } from '../transactions/TransactionData.js';\nimport { chunk } from '@mysten/utils';\nimport { normalizeSuiAddress, normalizeStructTag } from '../utils/sui-types.js';\nimport { SUI_FRAMEWORK_ADDRESS, SUI_SYSTEM_ADDRESS } from '../utils/constants.js';\nimport { CoreClient } from '../client/core.js';\nimport type { SuiClientTypes } from '../client/types.js';\nimport { ObjectError } from '../client/errors.js';\nimport {\n\tformatMoveAbortMessage,\n\tparseTransactionBcs,\n\tparseTransactionEffectsBcs,\n} from '../client/index.js';\nimport type { SuiJsonRpcClient } from './client.js';\n\nconst MAX_GAS = 50_000_000_000;\n\nfunction parseJsonRpcExecutionStatus(\n\tstatus: JsonRpcExecutionStatus,\n\tabortError?: SuiMoveAbort | null,\n): SuiClientTypes.ExecutionStatus {\n\tif (status.status === 'success') {\n\t\treturn { success: true, error: null };\n\t}\n\n\tconst rawMessage = status.error ?? 'Unknown';\n\n\tif (abortError) {\n\t\tconst commandMatch = rawMessage.match(/in command (\\d+)/);\n\t\tconst command = commandMatch ? parseInt(commandMatch[1], 10) : undefined;\n\n\t\tconst instructionMatch = rawMessage.match(/instruction:\\s*(\\d+)/);\n\t\tconst instruction = instructionMatch ? parseInt(instructionMatch[1], 10) : undefined;\n\n\t\tconst moduleParts = abortError.module_id?.split('::') ?? [];\n\t\tconst pkg = moduleParts[0] ? normalizeSuiAddress(moduleParts[0]) : undefined;\n\t\tconst module = moduleParts[1];\n\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror: {\n\t\t\t\t$kind: 'MoveAbort',\n\t\t\t\tmessage: formatMoveAbortMessage({\n\t\t\t\t\tcommand,\n\t\t\t\t\tlocation:\n\t\t\t\t\t\tpkg && module\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tpackage: pkg,\n\t\t\t\t\t\t\t\t\tmodule,\n\t\t\t\t\t\t\t\t\tfunctionName: abortError.function ?? undefined,\n\t\t\t\t\t\t\t\t\tinstruction,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\tabortCode: String(abortError.error_code ?? 0),\n\t\t\t\t\tcleverError: abortError.line != null ? { lineNumber: abortError.line } : undefined,\n\t\t\t\t}),\n\t\t\t\tcommand,\n\t\t\t\tMoveAbort: {\n\t\t\t\t\tabortCode: String(abortError.error_code ?? 0),\n\t\t\t\t\tlocation: abortError.module_id\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tpackage: normalizeSuiAddress(abortError.module_id.split('::')[0] ?? ''),\n\t\t\t\t\t\t\t\tmodule: abortError.module_id.split('::')[1] ?? '',\n\t\t\t\t\t\t\t\tfunctionName: abortError.function ?? undefined,\n\t\t\t\t\t\t\t\tinstruction,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t: undefined,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\treturn {\n\t\tsuccess: false,\n\t\terror: {\n\t\t\t$kind: 'Unknown',\n\t\t\tmessage: rawMessage,\n\t\t\tUnknown: null,\n\t\t},\n\t};\n}\n\nexport class JSONRpcCoreClient extends CoreClient {\n\t#jsonRpcClient: SuiJsonRpcClient;\n\n\tconstructor({\n\t\tjsonRpcClient,\n\t\tmvr,\n\t}: {\n\t\tjsonRpcClient: SuiJsonRpcClient;\n\t\tmvr?: SuiClientTypes.MvrOptions;\n\t}) {\n\t\tsuper({ network: jsonRpcClient.network, base: jsonRpcClient, mvr });\n\t\tthis.#jsonRpcClient = jsonRpcClient;\n\t}\n\n\tasync getObjects<Include extends SuiClientTypes.ObjectInclude = object>(\n\t\toptions: SuiClientTypes.GetObjectsOptions<Include>,\n\t) {\n\t\tconst batches = chunk(options.objectIds, 50);\n\t\tconst results: SuiClientTypes.GetObjectsResponse<Include>['objects'] = [];\n\t\tfor (const batch of batches) {\n\t\t\tconst objects = await this.#jsonRpcClient.multiGetObjects({\n\t\t\t\tids: batch,\n\t\t\t\toptions: {\n\t\t\t\t\tshowOwner: true,\n\t\t\t\t\tshowType: true,\n\t\t\t\t\tshowBcs: options.include?.content || options.include?.objectBcs ? true : false,\n\t\t\t\t\tshowPreviousTransaction:\n\t\t\t\t\t\toptions.include?.previousTransaction || options.include?.objectBcs ? true : false,\n\t\t\t\t\tshowStorageRebate: options.include?.objectBcs ?? false,\n\t\t\t\t\tshowContent: options.include?.json ?? false,\n\t\t\t\t},\n\t\t\t\tsignal: options.signal,\n\t\t\t});\n\n\t\t\tfor (const [idx, object] of objects.entries()) {\n\t\t\t\tif (object.error) {\n\t\t\t\t\tresults.push(ObjectError.fromResponse(object.error, batch[idx]));\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(parseObject(object.data!, options.include));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tobjects: results,\n\t\t};\n\t}\n\tasync listOwnedObjects<Include extends SuiClientTypes.ObjectInclude = object>(\n\t\toptions: SuiClientTypes.ListOwnedObjectsOptions<Include>,\n\t) {\n\t\tlet filter: SuiObjectDataFilter | null = null;\n\t\tif (options.type) {\n\t\t\tconst parts = options.type.split('::');\n\t\t\tif (parts.length === 1) {\n\t\t\t\tfilter = { Package: options.type };\n\t\t\t} else if (parts.length === 2) {\n\t\t\t\tfilter = { MoveModule: { package: parts[0], module: parts[1] } };\n\t\t\t} else {\n\t\t\t\tfilter = { StructType: options.type };\n\t\t\t}\n\t\t}\n\n\t\tconst objects = await this.#jsonRpcClient.getOwnedObjects({\n\t\t\towner: options.owner,\n\t\t\tlimit: options.limit,\n\t\t\tcursor: options.cursor,\n\t\t\toptions: {\n\t\t\t\tshowOwner: true,\n\t\t\t\tshowType: true,\n\t\t\t\tshowBcs: options.include?.content || options.include?.objectBcs ? true : false,\n\t\t\t\tshowPreviousTransaction:\n\t\t\t\t\toptions.include?.previousTransaction || options.include?.objectBcs ? true : false,\n\t\t\t\tshowStorageRebate: options.include?.objectBcs ?? false,\n\t\t\t\tshowContent: options.include?.json ?? false,\n\t\t\t},\n\t\t\tfilter,\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\treturn {\n\t\t\tobjects: objects.data.map((result) => {\n\t\t\t\tif (result.error) {\n\t\t\t\t\tthrow ObjectError.fromResponse(result.error);\n\t\t\t\t}\n\n\t\t\t\treturn parseObject(result.data!, options.include);\n\t\t\t}),\n\t\t\thasNextPage: objects.hasNextPage,\n\t\t\tcursor: objects.nextCursor ?? null,\n\t\t};\n\t}\n\n\tasync listCoins(options: SuiClientTypes.ListCoinsOptions) {\n\t\tconst coins = await this.#jsonRpcClient.getCoins({\n\t\t\towner: options.owner,\n\t\t\tcoinType: options.coinType,\n\t\t\tlimit: options.limit,\n\t\t\tcursor: options.cursor,\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\treturn {\n\t\t\tobjects: coins.data.map(\n\t\t\t\t(coin): SuiClientTypes.Coin => ({\n\t\t\t\t\tobjectId: coin.coinObjectId,\n\t\t\t\t\tversion: coin.version,\n\t\t\t\t\tdigest: coin.digest,\n\t\t\t\t\tbalance: coin.balance,\n\t\t\t\t\ttype: normalizeStructTag(`0x2::coin::Coin<${coin.coinType}>`),\n\t\t\t\t\towner: {\n\t\t\t\t\t\t$kind: 'AddressOwner' as const,\n\t\t\t\t\t\tAddressOwner: options.owner,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t),\n\t\t\thasNextPage: coins.hasNextPage,\n\t\t\tcursor: coins.nextCursor ?? null,\n\t\t};\n\t}\n\n\tasync getBalance(options: SuiClientTypes.GetBalanceOptions) {\n\t\tconst balance = await this.#jsonRpcClient.getBalance({\n\t\t\towner: options.owner,\n\t\t\tcoinType: options.coinType,\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\tconst addressBalance = balance.fundsInAddressBalance ?? '0';\n\t\tconst coinBalance = String(BigInt(balance.totalBalance) - BigInt(addressBalance));\n\n\t\treturn {\n\t\t\tbalance: {\n\t\t\t\tcoinType: normalizeStructTag(balance.coinType),\n\t\t\t\tbalance: balance.totalBalance,\n\t\t\t\tcoinBalance,\n\t\t\t\taddressBalance,\n\t\t\t},\n\t\t};\n\t}\n\tasync getCoinMetadata(\n\t\toptions: SuiClientTypes.GetCoinMetadataOptions,\n\t): Promise<SuiClientTypes.GetCoinMetadataResponse> {\n\t\tconst coinType = (await this.mvr.resolveType({ type: options.coinType })).type;\n\n\t\tconst result = await this.#jsonRpcClient.getCoinMetadata({\n\t\t\tcoinType,\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\tif (!result) {\n\t\t\treturn { coinMetadata: null };\n\t\t}\n\n\t\treturn {\n\t\t\tcoinMetadata: {\n\t\t\t\tid: result.id ?? null,\n\t\t\t\tdecimals: result.decimals,\n\t\t\t\tname: result.name,\n\t\t\t\tsymbol: result.symbol,\n\t\t\t\tdescription: result.description,\n\t\t\t\ticonUrl: result.iconUrl ?? null,\n\t\t\t},\n\t\t};\n\t}\n\n\tasync listBalances(options: SuiClientTypes.ListBalancesOptions) {\n\t\tconst balances = await this.#jsonRpcClient.getAllBalances({\n\t\t\towner: options.owner,\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\treturn {\n\t\t\tbalances: balances.map((balance) => {\n\t\t\t\tconst addressBalance = balance.fundsInAddressBalance ?? '0';\n\t\t\t\tconst coinBalance = String(BigInt(balance.totalBalance) - BigInt(addressBalance));\n\t\t\t\treturn {\n\t\t\t\t\tcoinType: normalizeStructTag(balance.coinType),\n\t\t\t\t\tbalance: balance.totalBalance,\n\t\t\t\t\tcoinBalance,\n\t\t\t\t\taddressBalance,\n\t\t\t\t};\n\t\t\t}),\n\t\t\thasNextPage: false,\n\t\t\tcursor: null,\n\t\t};\n\t}\n\tasync getTransaction<Include extends SuiClientTypes.TransactionInclude = object>(\n\t\toptions: SuiClientTypes.GetTransactionOptions<Include>,\n\t): Promise<SuiClientTypes.TransactionResult<Include>> {\n\t\tconst transaction = await this.#jsonRpcClient.getTransactionBlock({\n\t\t\tdigest: options.digest,\n\t\t\toptions: {\n\t\t\t\t// showRawInput is always needed to extract signatures from SenderSignedData\n\t\t\t\tshowRawInput: true,\n\t\t\t\t// showEffects is always needed to get status\n\t\t\t\tshowEffects: true,\n\t\t\t\tshowObjectChanges: options.include?.objectTypes ?? false,\n\t\t\t\tshowRawEffects: options.include?.effects ?? false,\n\t\t\t\tshowEvents: options.include?.events ?? false,\n\t\t\t\tshowBalanceChanges: options.include?.balanceChanges ?? false,\n\t\t\t},\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\treturn parseTransaction(transaction, options.include);\n\t}\n\tasync executeTransaction<Include extends SuiClientTypes.TransactionInclude = object>(\n\t\toptions: SuiClientTypes.ExecuteTransactionOptions<Include>,\n\t): Promise<SuiClientTypes.TransactionResult<Include>> {\n\t\tconst transaction = await this.#jsonRpcClient.executeTransactionBlock({\n\t\t\ttransactionBlock: options.transaction,\n\t\t\tsignature: options.signatures,\n\t\t\toptions: {\n\t\t\t\t// showRawInput is always needed to extract signatures from SenderSignedData\n\t\t\t\tshowRawInput: true,\n\t\t\t\t// showEffects is always needed to get status\n\t\t\t\tshowEffects: true,\n\t\t\t\tshowRawEffects: options.include?.effects ?? false,\n\t\t\t\tshowEvents: options.include?.events ?? false,\n\t\t\t\tshowObjectChanges: options.include?.objectTypes ?? false,\n\t\t\t\tshowBalanceChanges: options.include?.balanceChanges ?? false,\n\t\t\t},\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\treturn parseTransaction(transaction, options.include);\n\t}\n\tasync simulateTransaction<Include extends SuiClientTypes.SimulateTransactionInclude = object>(\n\t\toptions: SuiClientTypes.SimulateTransactionOptions<Include>,\n\t): Promise<SuiClientTypes.SimulateTransactionResult<Include>> {\n\t\tif (!(options.transaction instanceof Uint8Array)) {\n\t\t\tawait options.transaction.prepareForSerialization({ client: this });\n\t\t}\n\n\t\tconst tx = Transaction.from(options.transaction);\n\n\t\tconst data =\n\t\t\toptions.transaction instanceof Uint8Array\n\t\t\t\t? null\n\t\t\t\t: TransactionDataBuilder.restore(options.transaction.getData());\n\n\t\tconst transactionBytes = data\n\t\t\t? data.build({\n\t\t\t\t\toverrides: {\n\t\t\t\t\t\tgasData: {\n\t\t\t\t\t\t\tbudget: data.gasData.budget ?? String(MAX_GAS),\n\t\t\t\t\t\t\tprice: data.gasData.price ?? String(await this.#jsonRpcClient.getReferenceGasPrice()),\n\t\t\t\t\t\t\tpayment: data.gasData.payment ?? [],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t: (options.transaction as Uint8Array);\n\n\t\tconst result = await this.#jsonRpcClient.dryRunTransactionBlock({\n\t\t\ttransactionBlock: transactionBytes,\n\t\t\tsignal: options.signal,\n\t\t});\n\n\t\tconst { effects, objectTypes } = parseTransactionEffectsJson({\n\t\t\teffects: result.effects,\n\t\t\tobjectChanges: result.objectChanges,\n\t\t});\n\n\t\tconst transactionData: SuiClientTypes.Transaction<Include> = {\n\t\t\tdigest: TransactionDataBuilder.getDigestFromBytes(transactionBytes),\n\t\t\tepoch: null,\n\t\t\tstatus: effects.status,\n\t\t\teffects: (options.include?.effects\n\t\t\t\t? effects\n\t\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['effects'],\n\t\t\tobjectTypes: (options.include?.objectTypes\n\t\t\t\t? objectTypes\n\t\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['objectTypes'],\n\t\t\tsignatures: [],\n\t\t\ttransaction: (options.include?.transaction\n\t\t\t\t? parseTransactionBcs(\n\t\t\t\t\t\toptions.transaction instanceof Uint8Array\n\t\t\t\t\t\t\t? options.transaction\n\t\t\t\t\t\t\t: await options.transaction\n\t\t\t\t\t\t\t\t\t.build({\n\t\t\t\t\t\t\t\t\t\tclient: this,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(() => null as never),\n\t\t\t\t\t)\n\t\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['transaction'],\n\t\t\tbcs: (options.include?.bcs\n\t\t\t\t? transactionBytes\n\t\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['bcs'],\n\t\t\tbalanceChanges: (options.include?.balanceChanges\n\t\t\t\t? result.balanceChanges.map((change) => ({\n\t\t\t\t\t\tcoinType: normalizeStructTag(change.coinType),\n\t\t\t\t\t\taddress: parseOwnerAddress(change.owner)!,\n\t\t\t\t\t\tamount: change.amount,\n\t\t\t\t\t}))\n\t\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['balanceChanges'],\n\t\t\tevents: (options.include?.events\n\t\t\t\t? (result.events?.map((event) => ({\n\t\t\t\t\t\tpackageId: event.packageId,\n\t\t\t\t\t\tmodule: event.transactionModule,\n\t\t\t\t\t\tsender: event.sender,\n\t\t\t\t\t\teventType: event.type,\n\t\t\t\t\t\tbcs: 'bcs' in event ? fromBase64(event.bcs) : new Uint8Array(),\n\t\t\t\t\t})) ?? [])\n\t\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['events'],\n\t\t};\n\n\t\tlet commandResults: SuiClientTypes.CommandResult[] | undefined;\n\t\tif (options.include?.commandResults) {\n\t\t\ttry {\n\t\t\t\tconst sender = tx.getData().sender ?? normalizeSuiAddress('0x0');\n\t\t\t\tconst devInspectResult = await this.#jsonRpcClient.devInspectTransactionBlock({\n\t\t\t\t\tsender,\n\t\t\t\t\ttransactionBlock: tx,\n\t\t\t\t\tsignal: options.signal,\n\t\t\t\t});\n\n\t\t\t\tif (devInspectResult.results) {\n\t\t\t\t\tcommandResults = devInspectResult.results.map((result) => ({\n\t\t\t\t\t\treturnValues: (result.returnValues ?? []).map(([bytes]) => ({\n\t\t\t\t\t\t\tbcs: new Uint8Array(bytes),\n\t\t\t\t\t\t})),\n\t\t\t\t\t\tmutatedReferences: (result.mutableReferenceOutputs ?? []).map(([, bytes]) => ({\n\t\t\t\t\t\t\tbcs: new Uint8Array(bytes),\n\t\t\t\t\t\t})),\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t} catch {}\n\t\t}\n\n\t\treturn effects.status.success\n\t\t\t? {\n\t\t\t\t\t$kind: 'Transaction',\n\t\t\t\t\tTransaction: transactionData,\n\t\t\t\t\tcommandResults:\n\t\t\t\t\t\tcommandResults as SuiClientTypes.SimulateTransactionResult<Include>['commandResults'],\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\t$kind: 'FailedTransaction',\n\t\t\t\t\tFailedTransaction: transactionData,\n\t\t\t\t\tcommandResults:\n\t\t\t\t\t\tcommandResults as SuiClientTypes.SimulateTransactionResult<Include>['commandResults'],\n\t\t\t\t};\n\t}\n\tasync getReferenceGasPrice(options?: SuiClientTypes.GetReferenceGasPriceOptions) {\n\t\tconst referenceGasPrice = await this.#jsonRpcClient.getReferenceGasPrice({\n\t\t\tsignal: options?.signal,\n\t\t});\n\n\t\treturn {\n\t\t\treferenceGasPrice: String(referenceGasPrice),\n\t\t};\n\t}\n\n\tasync getCurrentSystemState(\n\t\toptions?: SuiClientTypes.GetCurrentSystemStateOptions,\n\t): Promise<SuiClientTypes.GetCurrentSystemStateResponse> {\n\t\tconst systemState = await this.#jsonRpcClient.getLatestSuiSystemState({\n\t\t\tsignal: options?.signal,\n\t\t});\n\n\t\treturn {\n\t\t\tsystemState: {\n\t\t\t\tsystemStateVersion: systemState.systemStateVersion,\n\t\t\t\tepoch: systemState.epoch,\n\t\t\t\tprotocolVersion: systemState.protocolVersion,\n\t\t\t\treferenceGasPrice: systemState.referenceGasPrice?.toString() ?? (null as never),\n\t\t\t\tepochStartTimestampMs: systemState.epochStartTimestampMs,\n\t\t\t\tsafeMode: systemState.safeMode,\n\t\t\t\tsafeModeStorageRewards: systemState.safeModeStorageRewards,\n\t\t\t\tsafeModeComputationRewards: systemState.safeModeComputationRewards,\n\t\t\t\tsafeModeStorageRebates: systemState.safeModeStorageRebates,\n\t\t\t\tsafeModeNonRefundableStorageFee: systemState.safeModeNonRefundableStorageFee,\n\t\t\t\tparameters: {\n\t\t\t\t\tepochDurationMs: systemState.epochDurationMs,\n\t\t\t\t\tstakeSubsidyStartEpoch: systemState.stakeSubsidyStartEpoch,\n\t\t\t\t\tmaxValidatorCount: systemState.maxValidatorCount,\n\t\t\t\t\tminValidatorJoiningStake: systemState.minValidatorJoiningStake,\n\t\t\t\t\tvalidatorLowStakeThreshold: systemState.validatorLowStakeThreshold,\n\t\t\t\t\tvalidatorLowStakeGracePeriod: systemState.validatorLowStakeGracePeriod,\n\t\t\t\t},\n\t\t\t\tstorageFund: {\n\t\t\t\t\ttotalObjectStorageRebates: systemState.storageFundTotalObjectStorageRebates,\n\t\t\t\t\tnonRefundableBalance: systemState.storageFundNonRefundableBalance,\n\t\t\t\t},\n\t\t\t\tstakeSubsidy: {\n\t\t\t\t\tbalance: systemState.stakeSubsidyBalance,\n\t\t\t\t\tdistributionCounter: systemState.stakeSubsidyDistributionCounter,\n\t\t\t\t\tcurrentDistributionAmount: systemState.stakeSubsidyCurrentDistributionAmount,\n\t\t\t\t\tstakeSubsidyPeriodLength: systemState.stakeSubsidyPeriodLength,\n\t\t\t\t\tstakeSubsidyDecreaseRate: systemState.stakeSubsidyDecreaseRate,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\n\tasync listDynamicFields(options: SuiClientTypes.ListDynamicFieldsOptions) {\n\t\tconst dynamicFields = await this.#jsonRpcClient.getDynamicFields({\n\t\t\tparentId: options.parentId,\n\t\t\tlimit: options.limit,\n\t\t\tcursor: options.cursor,\n\t\t});\n\n\t\treturn {\n\t\t\tdynamicFields: dynamicFields.data.map((dynamicField) => {\n\t\t\t\tconst isDynamicObject = dynamicField.type === 'DynamicObject';\n\t\t\t\tconst fullType = isDynamicObject\n\t\t\t\t\t? `0x2::dynamic_field::Field<0x2::dynamic_object_field::Wrapper<${dynamicField.name.type}>, 0x2::object::ID>`\n\t\t\t\t\t: `0x2::dynamic_field::Field<${dynamicField.name.type}, ${dynamicField.objectType}>`;\n\n\t\t\t\treturn {\n\t\t\t\t\tfieldId: dynamicField.objectId,\n\t\t\t\t\ttype: normalizeStructTag(fullType),\n\t\t\t\t\tname: {\n\t\t\t\t\t\ttype: dynamicField.name.type,\n\t\t\t\t\t\tbcs: fromBase64(dynamicField.bcsName),\n\t\t\t\t\t},\n\t\t\t\t\tvalueType: dynamicField.objectType,\n\t\t\t\t};\n\t\t\t}),\n\t\t\thasNextPage: dynamicFields.hasNextPage,\n\t\t\tcursor: dynamicFields.nextCursor,\n\t\t};\n\t}\n\n\tasync verifyZkLoginSignature(options: SuiClientTypes.VerifyZkLoginSignatureOptions) {\n\t\tconst result = await this.#jsonRpcClient.verifyZkLoginSignature({\n\t\t\tbytes: options.bytes,\n\t\t\tsignature: options.signature,\n\t\t\tintentScope: options.intentScope,\n\t\t\tauthor: options.address,\n\t\t});\n\n\t\treturn {\n\t\t\tsuccess: result.success,\n\t\t\terrors: result.errors,\n\t\t};\n\t}\n\n\tasync defaultNameServiceName(\n\t\toptions: SuiClientTypes.DefaultNameServiceNameOptions,\n\t): Promise<SuiClientTypes.DefaultNameServiceNameResponse> {\n\t\tconst name = (await this.#jsonRpcClient.resolveNameServiceNames(options)).data[0];\n\t\treturn {\n\t\t\tdata: {\n\t\t\t\tname,\n\t\t\t},\n\t\t};\n\t}\n\n\tresolveTransactionPlugin() {\n\t\treturn coreClientResolveTransactionPlugin;\n\t}\n\n\tasync getMoveFunction(\n\t\toptions: SuiClientTypes.GetMoveFunctionOptions,\n\t): Promise<SuiClientTypes.GetMoveFunctionResponse> {\n\t\tconst resolvedPackageId = (await this.mvr.resolvePackage({ package: options.packageId }))\n\t\t\t.package;\n\t\tconst result = await this.#jsonRpcClient.getNormalizedMoveFunction({\n\t\t\tpackage: resolvedPackageId,\n\t\t\tmodule: options.moduleName,\n\t\t\tfunction: options.name,\n\t\t});\n\n\t\treturn {\n\t\t\tfunction: {\n\t\t\t\tpackageId: normalizeSuiAddress(resolvedPackageId),\n\t\t\t\tmoduleName: options.moduleName,\n\t\t\t\tname: options.name,\n\t\t\t\tvisibility: parseVisibility(result.visibility),\n\t\t\t\tisEntry: result.isEntry,\n\t\t\t\ttypeParameters: result.typeParameters.map((abilities) => ({\n\t\t\t\t\tisPhantom: false,\n\t\t\t\t\tconstraints: parseAbilities(abilities),\n\t\t\t\t})),\n\t\t\t\tparameters: result.parameters.map((param) => parseNormalizedSuiMoveType(param)),\n\t\t\t\treturns: result.return.map((ret) => parseNormalizedSuiMoveType(ret)),\n\t\t\t},\n\t\t};\n\t}\n\n\tasync getChainIdentifier(\n\t\t_options?: SuiClientTypes.GetChainIdentifierOptions,\n\t): Promise<SuiClientTypes.GetChainIdentifierResponse> {\n\t\treturn this.cache.read(['chainIdentifier'], async () => {\n\t\t\tconst checkpoint = await this.#jsonRpcClient.getCheckpoint({ id: '0' });\n\t\t\treturn {\n\t\t\t\tchainIdentifier: checkpoint.digest,\n\t\t\t};\n\t\t});\n\t}\n}\n\nfunction serializeObjectToBcs(object: SuiObjectData): Uint8Array | undefined {\n\tif (object.bcs?.dataType !== 'moveObject') {\n\t\treturn undefined;\n\t}\n\n\ttry {\n\t\t// Normalize the type string to ensure consistent address formatting (0x2 vs 0x00...02)\n\t\tconst typeStr = normalizeStructTag(object.bcs.type);\n\t\tlet moveObjectType: InferBcsInput<typeof bcs.MoveObjectType>;\n\n\t\t// Normalize constants for comparison\n\t\tconst normalizedSuiFramework = normalizeSuiAddress(SUI_FRAMEWORK_ADDRESS);\n\t\tconst gasCoinType = normalizeStructTag(\n\t\t\t`${SUI_FRAMEWORK_ADDRESS}::coin::Coin<${SUI_FRAMEWORK_ADDRESS}::sui::SUI>`,\n\t\t);\n\t\tconst stakedSuiType = normalizeStructTag(`${SUI_SYSTEM_ADDRESS}::staking_pool::StakedSui`);\n\t\tconst coinPrefix = `${normalizedSuiFramework}::coin::Coin<`;\n\n\t\tif (typeStr === gasCoinType) {\n\t\t\tmoveObjectType = { GasCoin: null };\n\t\t} else if (typeStr === stakedSuiType) {\n\t\t\tmoveObjectType = { StakedSui: null };\n\t\t} else if (typeStr.startsWith(coinPrefix)) {\n\t\t\tconst innerTypeMatch = typeStr.match(\n\t\t\t\tnew RegExp(\n\t\t\t\t\t`${normalizedSuiFramework.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')}::coin::Coin<(.+)>$`,\n\t\t\t\t),\n\t\t\t);\n\t\t\tif (innerTypeMatch) {\n\t\t\t\tconst innerTypeTag = TypeTagSerializer.parseFromStr(innerTypeMatch[1], true);\n\t\t\t\tmoveObjectType = { Coin: innerTypeTag };\n\t\t\t} else {\n\t\t\t\tthrow new Error('Failed to parse Coin type');\n\t\t\t}\n\t\t} else {\n\t\t\tconst typeTag = TypeTagSerializer.parseFromStr(typeStr, true);\n\t\t\tif (typeof typeTag !== 'object' || !('struct' in typeTag)) {\n\t\t\t\tthrow new Error('Expected struct type tag');\n\t\t\t}\n\t\t\tmoveObjectType = { Other: typeTag.struct };\n\t\t}\n\n\t\tconst contents = fromBase64(object.bcs.bcsBytes);\n\t\tconst owner = convertOwnerToBcs(object.owner!);\n\n\t\treturn bcs.Object.serialize({\n\t\t\tdata: {\n\t\t\t\tMove: {\n\t\t\t\t\ttype: moveObjectType,\n\t\t\t\t\thasPublicTransfer: object.bcs.hasPublicTransfer,\n\t\t\t\t\tversion: object.bcs.version,\n\t\t\t\t\tcontents,\n\t\t\t\t},\n\t\t\t},\n\t\t\towner,\n\t\t\tpreviousTransaction: object.previousTransaction!,\n\t\t\tstorageRebate: object.storageRebate!,\n\t\t}).toBytes();\n\t} catch {\n\t\t// If serialization fails, return undefined\n\t\treturn undefined;\n\t}\n}\n\nfunction parseObject<Include extends SuiClientTypes.ObjectInclude = object>(\n\tobject: SuiObjectData,\n\tinclude?: Include,\n): SuiClientTypes.Object<Include> {\n\tconst bcsContent =\n\t\tobject.bcs?.dataType === 'moveObject' ? fromBase64(object.bcs.bcsBytes) : undefined;\n\n\tconst objectBcs = include?.objectBcs ? serializeObjectToBcs(object) : undefined;\n\n\t// Package objects have type \"package\" which is not a struct tag, so don't normalize it\n\tconst type =\n\t\tobject.type && object.type.includes('::')\n\t\t\t? normalizeStructTag(object.type)\n\t\t\t: (object.type ?? '');\n\n\tconst jsonContent =\n\t\tinclude?.json && object.content?.dataType === 'moveObject'\n\t\t\t? (object.content.fields as Record<string, unknown>)\n\t\t\t: include?.json\n\t\t\t\t? null\n\t\t\t\t: undefined;\n\n\treturn {\n\t\tobjectId: object.objectId,\n\t\tversion: object.version,\n\t\tdigest: object.digest,\n\t\ttype,\n\t\tcontent: (include?.content\n\t\t\t? bcsContent\n\t\t\t: undefined) as SuiClientTypes.Object<Include>['content'],\n\t\towner: parseOwner(object.owner!),\n\t\tpreviousTransaction: (include?.previousTransaction\n\t\t\t? (object.previousTransaction ?? undefined)\n\t\t\t: undefined) as SuiClientTypes.Object<Include>['previousTransaction'],\n\t\tobjectBcs: objectBcs as SuiClientTypes.Object<Include>['objectBcs'],\n\t\tjson: jsonContent as SuiClientTypes.Object<Include>['json'],\n\t};\n}\n\nfunction parseOwner(owner: ObjectOwner): SuiClientTypes.ObjectOwner {\n\tif (owner === 'Immutable') {\n\t\treturn {\n\t\t\t$kind: 'Immutable',\n\t\t\tImmutable: true,\n\t\t};\n\t}\n\n\tif ('ConsensusAddressOwner' in owner) {\n\t\treturn {\n\t\t\t$kind: 'ConsensusAddressOwner',\n\t\t\tConsensusAddressOwner: {\n\t\t\t\towner: owner.ConsensusAddressOwner.owner,\n\t\t\t\tstartVersion: owner.ConsensusAddressOwner.start_version,\n\t\t\t},\n\t\t};\n\t}\n\n\tif ('AddressOwner' in owner) {\n\t\treturn {\n\t\t\t$kind: 'AddressOwner',\n\t\t\tAddressOwner: owner.AddressOwner,\n\t\t};\n\t}\n\n\tif ('ObjectOwner' in owner) {\n\t\treturn {\n\t\t\t$kind: 'ObjectOwner',\n\t\t\tObjectOwner: owner.ObjectOwner,\n\t\t};\n\t}\n\n\tif ('Shared' in owner) {\n\t\treturn {\n\t\t\t$kind: 'Shared',\n\t\t\tShared: {\n\t\t\t\tinitialSharedVersion: owner.Shared.initial_shared_version,\n\t\t\t},\n\t\t};\n\t}\n\n\tthrow new Error(`Unknown owner type: ${JSON.stringify(owner)}`);\n}\n\nfunction convertOwnerToBcs(owner: ObjectOwner) {\n\tif (owner === 'Immutable') {\n\t\treturn { Immutable: null };\n\t}\n\n\tif ('AddressOwner' in owner) {\n\t\treturn { AddressOwner: owner.AddressOwner };\n\t}\n\n\tif ('ObjectOwner' in owner) {\n\t\treturn { ObjectOwner: owner.ObjectOwner };\n\t}\n\n\tif ('Shared' in owner) {\n\t\treturn {\n\t\t\tShared: { initialSharedVersion: owner.Shared.initial_shared_version },\n\t\t};\n\t}\n\n\tif (typeof owner === 'object' && owner !== null && 'ConsensusAddressOwner' in owner) {\n\t\treturn {\n\t\t\tConsensusAddressOwner: {\n\t\t\t\tstartVersion: owner.ConsensusAddressOwner.start_version,\n\t\t\t\towner: owner.ConsensusAddressOwner.owner,\n\t\t\t},\n\t\t};\n\t}\n\n\tthrow new Error(`Unknown owner type: ${JSON.stringify(owner)}`);\n}\n\nfunction parseOwnerAddress(owner: ObjectOwner): string | null {\n\tif (owner === 'Immutable') {\n\t\treturn null;\n\t}\n\n\tif ('ConsensusAddressOwner' in owner) {\n\t\treturn owner.ConsensusAddressOwner.owner;\n\t}\n\n\tif ('AddressOwner' in owner) {\n\t\treturn owner.AddressOwner;\n\t}\n\n\tif ('ObjectOwner' in owner) {\n\t\treturn owner.ObjectOwner;\n\t}\n\n\tif ('Shared' in owner) {\n\t\treturn null;\n\t}\n\n\tthrow new Error(`Unknown owner type: ${JSON.stringify(owner)}`);\n}\n\nfunction parseTransaction<Include extends SuiClientTypes.TransactionInclude = object>(\n\ttransaction: SuiTransactionBlockResponse,\n\tinclude?: Include,\n): SuiClientTypes.TransactionResult<Include> {\n\tconst objectTypes: Record<string, string> = {};\n\n\tif (include?.objectTypes) {\n\t\ttransaction.objectChanges?.forEach((change) => {\n\t\t\tif (change.type !== 'published') {\n\t\t\t\tobjectTypes[change.objectId] = normalizeStructTag(change.objectType);\n\t\t\t}\n\t\t});\n\t}\n\n\tlet transactionData: SuiClientTypes.TransactionData | undefined;\n\tlet signatures: string[] = [];\n\tlet bcsBytes: Uint8Array | undefined;\n\n\tif (transaction.rawTransaction) {\n\t\tconst parsedTx = bcs.SenderSignedData.parse(fromBase64(transaction.rawTransaction))[0];\n\t\tsignatures = parsedTx.txSignatures;\n\n\t\tif (include?.transaction || include?.bcs) {\n\t\t\tconst bytes = bcs.TransactionData.serialize(parsedTx.intentMessage.value).toBytes();\n\n\t\t\tif (include?.bcs) {\n\t\t\t\tbcsBytes = bytes;\n\t\t\t}\n\n\t\t\tif (include?.transaction) {\n\t\t\t\tconst data = TransactionDataBuilder.restore({\n\t\t\t\t\tversion: 2,\n\t\t\t\t\tsender: parsedTx.intentMessage.value.V1.sender,\n\t\t\t\t\texpiration: parsedTx.intentMessage.value.V1.expiration,\n\t\t\t\t\tgasData: parsedTx.intentMessage.value.V1.gasData,\n\t\t\t\t\tinputs: parsedTx.intentMessage.value.V1.kind.ProgrammableTransaction!.inputs,\n\t\t\t\t\tcommands: parsedTx.intentMessage.value.V1.kind.ProgrammableTransaction!.commands,\n\t\t\t\t});\n\t\t\t\ttransactionData = { ...data };\n\t\t\t}\n\t\t}\n\t}\n\n\t// Get status from JSON-RPC response\n\tconst status: SuiClientTypes.ExecutionStatus = transaction.effects?.status\n\t\t? parseJsonRpcExecutionStatus(transaction.effects.status, transaction.effects.abortError)\n\t\t: {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: {\n\t\t\t\t\t$kind: 'Unknown',\n\t\t\t\t\tmessage: 'Unknown',\n\t\t\t\t\tUnknown: null,\n\t\t\t\t},\n\t\t\t};\n\n\tconst effectsBytes = transaction.rawEffects ? new Uint8Array(transaction.rawEffects) : null;\n\n\tconst result: SuiClientTypes.Transaction<Include> = {\n\t\tdigest: transaction.digest,\n\t\tepoch: transaction.effects?.executedEpoch ?? null,\n\t\tstatus,\n\t\teffects: (include?.effects && effectsBytes\n\t\t\t? parseTransactionEffectsBcs(effectsBytes)\n\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['effects'],\n\t\tobjectTypes: (include?.objectTypes\n\t\t\t? objectTypes\n\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['objectTypes'],\n\t\ttransaction: transactionData as SuiClientTypes.Transaction<Include>['transaction'],\n\t\tbcs: bcsBytes as SuiClientTypes.Transaction<Include>['bcs'],\n\t\tsignatures,\n\t\tbalanceChanges: (include?.balanceChanges\n\t\t\t? (transaction.balanceChanges?.map((change) => ({\n\t\t\t\t\tcoinType: normalizeStructTag(change.coinType),\n\t\t\t\t\taddress: parseOwnerAddress(change.owner)!,\n\t\t\t\t\tamount: change.amount,\n\t\t\t\t})) ?? [])\n\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['balanceChanges'],\n\t\tevents: (include?.events\n\t\t\t? (transaction.events?.map((event) => ({\n\t\t\t\t\tpackageId: event.packageId,\n\t\t\t\t\tmodule: event.transactionModule,\n\t\t\t\t\tsender: event.sender,\n\t\t\t\t\teventType: event.type,\n\t\t\t\t\tbcs: 'bcs' in event ? fromBase64(event.bcs) : new Uint8Array(),\n\t\t\t\t})) ?? [])\n\t\t\t: undefined) as SuiClientTypes.Transaction<Include>['events'],\n\t};\n\n\treturn status.success\n\t\t? {\n\t\t\t\t$kind: 'Transaction',\n\t\t\t\tTransaction: result,\n\t\t\t}\n\t\t: {\n\t\t\t\t$kind: 'FailedTransaction',\n\t\t\t\tFailedTransaction: result,\n\t\t\t};\n}\n\nfunction parseTransactionEffectsJson({\n\tbytes,\n\teffects,\n\tobjectChanges,\n}: {\n\tbytes?: Uint8Array;\n\teffects: TransactionEffects;\n\tobjectChanges: SuiObjectChange[] | null;\n}): {\n\teffects: SuiClientTypes.TransactionEffects;\n\tobjectTypes: Record<string, string>;\n} {\n\tconst changedObjects: SuiClientTypes.ChangedObject[] = [];\n\tconst unchangedConsensusObjects: SuiClientTypes.UnchangedConsensusObject[] = [];\n\tconst objectTypes: Record<string, string> = {};\n\n\tobjectChanges?.forEach((change) => {\n\t\tswitch (change.type) {\n\t\t\tcase 'published':\n\t\t\t\tchangedObjects.push({\n\t\t\t\t\tobjectId: change.packageId,\n\t\t\t\t\tinputState: 'DoesNotExist',\n\t\t\t\t\tinputVersion: null,\n\t\t\t\t\tinputDigest: null,\n\t\t\t\t\tinputOwner: null,\n\t\t\t\t\toutputState: 'PackageWrite',\n\t\t\t\t\toutputVersion: change.version,\n\t\t\t\t\toutputDigest: change.digest,\n\t\t\t\t\toutputOwner: null,\n\t\t\t\t\tidOperation: 'Created',\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'transferred':\n\t\t\t\tchangedObjects.push({\n\t\t\t\t\tobjectId: change.objectId,\n\t\t\t\t\tinputState: 'Exists',\n\t\t\t\t\tinputVersion: change.version,\n\t\t\t\t\tinputDigest: change.digest,\n\t\t\t\t\tinputOwner: {\n\t\t\t\t\t\t$kind: 'AddressOwner' as const,\n\t\t\t\t\t\tAddressOwner: change.sender,\n\t\t\t\t\t},\n\t\t\t\t\toutputState: 'ObjectWrite',\n\t\t\t\t\toutputVersion: change.version,\n\t\t\t\t\toutputDigest: change.digest,\n\t\t\t\t\toutputOwner: parseOwner(change.recipient),\n\t\t\t\t\tidOperation: 'None',\n\t\t\t\t});\n\t\t\t\tobjectTypes[change.objectId] = normalizeStructTag(change.objectType);\n\t\t\t\tbreak;\n\t\t\tcase 'mutated':\n\t\t\t\tchangedObjects.push({\n\t\t\t\t\tobjectId: change.objectId,\n\t\t\t\t\tinputState: 'Exists',\n\t\t\t\t\tinputVersion: change.previousVersion,\n\t\t\t\t\tinputDigest: null,\n\t\t\t\t\tinputOwner: parseOwner(change.owner),\n\t\t\t\t\toutputState: 'ObjectWrite',\n\t\t\t\t\toutputVersion: change.version,\n\t\t\t\t\toutputDigest: change.digest,\n\t\t\t\t\toutputOwner: parseOwner(change.owner),\n\t\t\t\t\tidOperation: 'None',\n\t\t\t\t});\n\t\t\t\tobjectTypes[change.objectId] = normalizeStructTag(change.objectType);\n\t\t\t\tbreak;\n\t\t\tcase 'deleted':\n\t\t\t\tchangedObjects.push({\n\t\t\t\t\tobjectId: change.objectId,\n\t\t\t\t\tinputState: 'Exists',\n\t\t\t\t\tinputVersion: change.version,\n\t\t\t\t\tinputDigest: effects.deleted?.find((d) => d.objectId === change.objectId)?.digest ?? null,\n\t\t\t\t\tinputOwner: null,\n\t\t\t\t\toutputState: 'DoesNotExist',\n\t\t\t\t\toutputVersion: null,\n\t\t\t\t\toutputDigest: null,\n\t\t\t\t\toutputOwner: null,\n\t\t\t\t\tidOperation: 'Deleted',\n\t\t\t\t});\n\t\t\t\tobjectTypes[change.objectId] = normalizeStructTag(change.objectType);\n\t\t\t\tbreak;\n\t\t\tcase 'wrapped':\n\t\t\t\tchangedObjects.push({\n\t\t\t\t\tobjectId: change.objectId,\n\t\t\t\t\tinputState: 'Exists',\n\t\t\t\t\tinputVersion: change.version,\n\t\t\t\t\tinputDigest: null,\n\t\t\t\t\tinputOwner: {\n\t\t\t\t\t\t$kind: 'AddressOwner' as const,\n\t\t\t\t\t\tAddressOwner: change.sender,\n\t\t\t\t\t},\n\t\t\t\t\toutputState: 'ObjectWrite',\n\t\t\t\t\toutputVersion: change.version,\n\t\t\t\t\toutputDigest:\n\t\t\t\t\t\teffects.wrapped?.find((w) => w.objectId === change.objectId)?.digest ?? null,\n\t\t\t\t\toutputOwner: {\n\t\t\t\t\t\t$kind: 'ObjectOwner' as const,\n\t\t\t\t\t\tObjectOwner: change.sender,\n\t\t\t\t\t},\n\t\t\t\t\tidOperation: 'None',\n\t\t\t\t});\n\t\t\t\tobjectTypes[change.objectId] = normalizeStructTag(change.objectType);\n\t\t\t\tbreak;\n\t\t\tcase 'created':\n\t\t\t\tchangedObjects.push({\n\t\t\t\t\tobjectId: change.objectId,\n\t\t\t\t\tinputState: 'DoesNotExist',\n\t\t\t\t\tinputVersion: null,\n\t\t\t\t\tinputDigest: null,\n\t\t\t\t\tinputOwner: null,\n\t\t\t\t\toutputState: 'ObjectWrite',\n\t\t\t\t\toutputVersion: change.version,\n\t\t\t\t\toutputDigest: change.digest,\n\t\t\t\t\toutputOwner: parseOwner(change.owner),\n\t\t\t\t\tidOperation: 'Created',\n\t\t\t\t});\n\t\t\t\tobjectTypes[change.objectId] = normalizeStructTag(change.objectType);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn {\n\t\tobjectTypes,\n\t\teffects: {\n\t\t\tbcs: bytes ?? null,\n\t\t\tversion: 2,\n\t\t\tstatus: parseJsonRpcExecutionStatus(effects.status, effects.abortError),\n\t\t\tgasUsed: effects.gasUsed,\n\t\t\ttransactionDigest: effects.transactionDigest,\n\t\t\tgasObject: {\n\t\t\t\tobjectId: effects.gasObject?.reference.objectId,\n\t\t\t\tinputState: 'Exists',\n\t\t\t\tinputVersion: null,\n\t\t\t\tinputDigest: null,\n\t\t\t\tinputOwner: null,\n\t\t\t\toutputState: 'ObjectWrite',\n\t\t\t\toutputVersion: effects.gasObject.reference.version,\n\t\t\t\toutputDigest: effects.gasObject.reference.digest,\n\t\t\t\toutputOwner: parseOwner(effects.gasObject.owner),\n\t\t\t\tidOperation: 'None',\n\t\t\t},\n\t\t\teventsDigest: effects.eventsDigest ?? null,\n\t\t\tdependencies: effects.dependencies ?? [],\n\t\t\tlamportVersion: effects.gasObject.reference.version,\n\t\t\tchangedObjects,\n\t\t\tunchangedConsensusObjects,\n\t\t\tauxiliaryDataDigest: null,\n\t\t},\n\t};\n}\n\nfunction parseNormalizedSuiMoveType(type: SuiMoveNormalizedType): SuiClientTypes.OpenSignature {\n\tif (typeof type !== 'string') {\n\t\tif ('Reference' in type) {\n\t\t\treturn {\n\t\t\t\treference: 'immutable',\n\t\t\t\tbody: parseNormalizedSuiMoveTypeBody(type.Reference),\n\t\t\t};\n\t\t}\n\n\t\tif ('MutableReference' in type) {\n\t\t\treturn {\n\t\t\t\treference: 'mutable',\n\t\t\t\tbody: parseNormalizedSuiMoveTypeBody(type.MutableReference),\n\t\t\t};\n\t\t}\n\t}\n\n\treturn {\n\t\treference: null,\n\t\tbody: parseNormalizedSuiMoveTypeBody(type),\n\t};\n}\n\nfunction parseNormalizedSuiMoveTypeBody(\n\ttype: SuiMoveNormalizedType,\n): SuiClientTypes.OpenSignatureBody {\n\tswitch (type) {\n\t\tcase 'Address':\n\t\t\treturn { $kind: 'address' };\n\t\tcase 'Bool':\n\t\t\treturn { $kind: 'bool' };\n\t\tcase 'U8':\n\t\t\treturn { $kind: 'u8' };\n\t\tcase 'U16':\n\t\t\treturn { $kind: 'u16' };\n\t\tcase 'U32':\n\t\t\treturn { $kind: 'u32' };\n\t\tcase 'U64':\n\t\t\treturn { $kind: 'u64' };\n\t\tcase 'U128':\n\t\t\treturn { $kind: 'u128' };\n\t\tcase 'U256':\n\t\t\treturn { $kind: 'u256' };\n\t}\n\n\tif (typeof type === 'string') {\n\t\tthrow new Error(`Unknown type: ${type}`);\n\t}\n\n\tif ('Vector' in type) {\n\t\treturn {\n\t\t\t$kind: 'vector',\n\t\t\tvector: parseNormalizedSuiMoveTypeBody(type.Vector),\n\t\t};\n\t}\n\n\tif ('Struct' in type) {\n\t\treturn {\n\t\t\t$kind: 'datatype',\n\t\t\tdatatype: {\n\t\t\t\ttypeName: `${normalizeSuiAddress(type.Struct.address)}::${type.Struct.module}::${type.Struct.name}`,\n\t\t\t\ttypeParameters: type.Struct.typeArguments.map((t) => parseNormalizedSuiMoveTypeBody(t)),\n\t\t\t},\n\t\t};\n\t}\n\n\tif ('TypeParameter' in type) {\n\t\treturn {\n\t\t\t$kind: 'typeParameter',\n\t\t\tindex: type.TypeParameter,\n\t\t};\n\t}\n\n\tthrow new Error(`Unknown type: ${JSON.stringify(type)}`);\n}\n\nfunction parseAbilities(abilitySet: SuiMoveAbilitySet): SuiClientTypes.Ability[] {\n\treturn abilitySet.abilities.map((ability) => {\n\t\tswitch (ability) {\n\t\t\tcase 'Copy':\n\t\t\t\treturn 'copy';\n\t\t\tcase 'Drop':\n\t\t\t\treturn 'drop';\n\t\t\tcase 'Store':\n\t\t\t\treturn 'store';\n\t\t\tcase 'Key':\n\t\t\t\treturn 'key';\n\t\t\tdefault:\n\t\t\t\treturn 'unknown';\n\t\t}\n\t});\n}\n\nfunction parseVisibility(visibility: SuiMoveVisibility): SuiClientTypes.Visibility {\n\tswitch (visibility) {\n\t\tcase 'Public':\n\t\t\treturn 'public';\n\t\tcase 'Private':\n\t\t\treturn 'private';\n\t\tcase 'Friend':\n\t\t\treturn 'friend';\n\t\tdefault:\n\t\t\treturn 'unknown';\n\t}\n}\n"],"names":["#jsonRpcClient","result","bcs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,MAAM,UAAU;AAEhB,SAAS,4BACR,MAAA,EACA,UAAA,EACiC;IACjC,IAAI,OAAO,MAAA,KAAW,UACrB,CAAA,OAAO;QAAE,SAAS;QAAM,OAAO;KAAM;IAGtC,MAAM,aAAa,OAAO,KAAA,IAAS;IAEnC,IAAI,YAAY;QACf,MAAM,eAAe,WAAW,KAAA,CAAM,mBAAmB;QACzD,MAAM,UAAU,eAAe,SAAS,YAAA,CAAa,EAAA,EAAI,GAAG,GAAG,KAAA;QAE/D,MAAM,mBAAmB,WAAW,KAAA,CAAM,uBAAuB;QACjE,MAAM,cAAc,mBAAmB,SAAS,gBAAA,CAAiB,EAAA,EAAI,GAAG,GAAG,KAAA;QAE3E,MAAM,cAAc,WAAW,SAAA,EAAW,MAAM,KAAK,IAAI,EAAE;QAC3D,MAAM,MAAM,WAAA,CAAY,EAAA,OAAK,2LAAA,EAAoB,WAAA,CAAY,EAAA,CAAG,GAAG,KAAA;QACnE,MAAM,SAAS,WAAA,CAAY,EAAA;QAE3B,OAAO;YACN,SAAS;YACT,OAAO;gBACN,OAAO;gBACP,aAAS,wLAAA,EAAuB;oBAC/B;oBACA,UACC,OAAO,SACJ;wBACA,SAAS;wBACT;wBACA,cAAc,WAAW,QAAA,IAAY,KAAA;wBACrC;qBACA,GACA,KAAA;oBACJ,WAAW,OAAO,WAAW,UAAA,IAAc,EAAE;oBAC7C,aAAa,WAAW,IAAA,IAAQ,OAAO;wBAAE,YAAY,WAAW,IAAA;oBAAA,CAAM,GAAG,KAAA;iBACzE,CAAC;gBACF;gBACA,WAAW;oBACV,WAAW,OAAO,WAAW,UAAA,IAAc,EAAE;oBAC7C,UAAU,WAAW,SAAA,GAClB;wBACA,aAAS,2LAAA,EAAoB,WAAW,SAAA,CAAU,KAAA,CAAM,KAAK,CAAC,EAAA,IAAM,GAAG;wBACvE,QAAQ,WAAW,SAAA,CAAU,KAAA,CAAM,KAAK,CAAC,EAAA,IAAM;wBAC/C,cAAc,WAAW,QAAA,IAAY,KAAA;wBACrC;qBACA,GACA,KAAA;iBACH;aACD;SACD;;IAGF,OAAO;QACN,SAAS;QACT,OAAO;YACN,OAAO;YACP,SAAS;YACT,SAAS;SACT;KACD;;AAGF,IAAa,oBAAb,cAAuC,2KAAA,CAAW;KACjD,aAAA,CAAA;IAEA,YAAY,EACX,aAAA,EACA,GAAA,EAAA,CAIE;QACF,KAAA,CAAM;YAAE,SAAS,cAAc,OAAA;YAAS,MAAM;YAAe;SAAK,CAAC;QACnE,IAAA,CAAA,CAAA,CAAKA,YAAAA,GAAiB;;IAGvB,MAAM,WACL,OAAA,EACC;QACD,MAAM,cAAU,+JAAA,EAAM,QAAQ,SAAA,EAAW,GAAG;QAC5C,MAAM,UAAiE,EAAE;QACzE,KAAK,MAAM,SAAS,QAAS;YAC5B,MAAM,UAAU,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,eAAA,CAAgB;gBACzD,KAAK;gBACL,SAAS;oBACR,WAAW;oBACX,UAAU;oBACV,SAAS,QAAQ,OAAA,EAAS,WAAW,QAAQ,OAAA,EAAS,YAAY,OAAO;oBACzE,yBACC,QAAQ,OAAA,EAAS,uBAAuB,QAAQ,OAAA,EAAS,YAAY,OAAO;oBAC7E,mBAAmB,QAAQ,OAAA,EAAS,aAAa;oBACjD,aAAa,QAAQ,OAAA,EAAS,QAAQ;iBACtC;gBACD,QAAQ,QAAQ,MAAA;aAChB,CAAC;YAEF,KAAK,MAAM,CAAC,KAAK,OAAA,IAAW,QAAQ,OAAA,EAAS,CAC5C,IAAI,OAAO,KAAA,CACV,CAAA,QAAQ,IAAA,CAAK,8KAAA,CAAY,YAAA,CAAa,OAAO,KAAA,EAAO,KAAA,CAAM,IAAA,CAAK,CAAC;iBAEhE,QAAQ,IAAA,CAAK,YAAY,OAAO,IAAA,EAAO,QAAQ,OAAA,CAAQ,CAAC;;QAK3D,OAAO;YACN,SAAS;QAAA,CACT;;IAEF,MAAM,iBACL,OAAA,EACC;QACD,IAAI,SAAqC;QACzC,IAAI,QAAQ,IAAA,EAAM;YACjB,MAAM,QAAQ,QAAQ,IAAA,CAAK,KAAA,CAAM,KAAK;YACtC,IAAI,MAAM,MAAA,KAAW,EACpB,CAAA,SAAS;gBAAE,SAAS,QAAQ,IAAA;YAAA,CAAM;qBACxB,MAAM,MAAA,KAAW,EAC3B,CAAA,SAAS;gBAAE,YAAY;oBAAE,SAAS,KAAA,CAAM,EAAA;oBAAI,QAAQ,KAAA,CAAM,EAAA;iBAAI;YAAA,CAAE;iBAEhE,SAAS;gBAAE,YAAY,QAAQ,IAAA;YAAA,CAAM;;QAIvC,MAAM,UAAU,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,eAAA,CAAgB;YACzD,OAAO,QAAQ,KAAA;YACf,OAAO,QAAQ,KAAA;YACf,QAAQ,QAAQ,MAAA;YAChB,SAAS;gBACR,WAAW;gBACX,UAAU;gBACV,SAAS,QAAQ,OAAA,EAAS,WAAW,QAAQ,OAAA,EAAS,YAAY,OAAO;gBACzE,yBACC,QAAQ,OAAA,EAAS,uBAAuB,QAAQ,OAAA,EAAS,YAAY,OAAO;gBAC7E,mBAAmB,QAAQ,OAAA,EAAS,aAAa;gBACjD,aAAa,QAAQ,OAAA,EAAS,QAAQ;aACtC;YACD;YACA,QAAQ,QAAQ,MAAA;SAChB,CAAC;QAEF,OAAO;YACN,SAAS,QAAQ,IAAA,CAAK,GAAA,CAAA,CAAK,WAAW;gBACrC,IAAI,OAAO,KAAA,CACV,CAAA,MAAM,8KAAA,CAAY,YAAA,CAAa,OAAO,KAAA,CAAM;gBAG7C,OAAO,YAAY,OAAO,IAAA,EAAO,QAAQ,OAAA,CAAQ;cAChD;YACF,aAAa,QAAQ,WAAA;YACrB,QAAQ,QAAQ,UAAA,IAAc;SAC9B;;IAGF,MAAM,UAAU,OAAA,EAA0C;QACzD,MAAM,QAAQ,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,QAAA,CAAS;YAChD,OAAO,QAAQ,KAAA;YACf,UAAU,QAAQ,QAAA;YAClB,OAAO,QAAQ,KAAA;YACf,QAAQ,QAAQ,MAAA;YAChB,QAAQ,QAAQ,MAAA;SAChB,CAAC;QAEF,OAAO;YACN,SAAS,MAAM,IAAA,CAAK,GAAA,CAAA,CAClB,OAAA,CAA+B;oBAC/B,UAAU,KAAK,YAAA;oBACf,SAAS,KAAK,OAAA;oBACd,QAAQ,KAAK,MAAA;oBACb,SAAS,KAAK,OAAA;oBACd,UAAM,0LAAA,EAAmB,CAAA,gBAAA,EAAmB,KAAK,QAAA,CAAS,CAAA,CAAA,CAAG;oBAC7D,OAAO;wBACN,OAAO;wBACP,cAAc,QAAQ,KAAA;qBACtB;iBACD,EACD;YACD,aAAa,MAAM,WAAA;YACnB,QAAQ,MAAM,UAAA,IAAc;SAC5B;;IAGF,MAAM,WAAW,OAAA,EAA2C;QAC3D,MAAM,UAAU,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,UAAA,CAAW;YACpD,OAAO,QAAQ,KAAA;YACf,UAAU,QAAQ,QAAA;YAClB,QAAQ,QAAQ,MAAA;SAChB,CAAC;QAEF,MAAM,iBAAiB,QAAQ,qBAAA,IAAyB;QACxD,MAAM,cAAc,OAAO,OAAO,QAAQ,YAAA,CAAa,GAAG,OAAO,eAAe,CAAC;QAEjF,OAAO;YACN,SAAS;gBACR,cAAU,0LAAA,EAAmB,QAAQ,QAAA,CAAS;gBAC9C,SAAS,QAAQ,YAAA;gBACjB;gBACA;aACA;QAAA,CACD;;IAEF,MAAM,gBACL,OAAA,EACkD;QAClD,MAAM,WAAA,CAAY,MAAM,IAAA,CAAK,GAAA,CAAI,WAAA,CAAY;YAAE,MAAM,QAAQ,QAAA;QAAA,CAAU,CAAC,EAAE,IAAA;QAE1E,MAAM,SAAS,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,eAAA,CAAgB;YACxD;YACA,QAAQ,QAAQ,MAAA;SAChB,CAAC;QAEF,IAAI,CAAC,OACJ,CAAA,OAAO;YAAE,cAAc;QAAA,CAAM;QAG9B,OAAO;YACN,cAAc;gBACb,IAAI,OAAO,EAAA,IAAM;gBACjB,UAAU,OAAO,QAAA;gBACjB,MAAM,OAAO,IAAA;gBACb,QAAQ,OAAO,MAAA;gBACf,aAAa,OAAO,WAAA;gBACpB,SAAS,OAAO,OAAA,IAAW;aAC3B;QAAA,CACD;;IAGF,MAAM,aAAa,OAAA,EAA6C;QAM/D,OAAO;YACN,UAAA,CANgB,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,cAAA,CAAe;gBACzD,OAAO,QAAQ,KAAA;gBACf,QAAQ,QAAQ,MAAA;aAChB,CAAC,EAGkB,GAAA,CAAA,CAAK,YAAY;gBACnC,MAAM,iBAAiB,QAAQ,qBAAA,IAAyB;gBACxD,MAAM,cAAc,OAAO,OAAO,QAAQ,YAAA,CAAa,GAAG,OAAO,eAAe,CAAC;gBACjF,OAAO;oBACN,cAAU,0LAAA,EAAmB,QAAQ,QAAA,CAAS;oBAC9C,SAAS,QAAQ,YAAA;oBACjB;oBACA;iBACA;cACA;YACF,aAAa;YACb,QAAQ;SACR;;IAEF,MAAM,eACL,OAAA,EACqD;QAgBrD,OAAO,iBAfa,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,mBAAA,CAAoB;YACjE,QAAQ,QAAQ,MAAA;YAChB,SAAS;gBAER,cAAc;gBAEd,aAAa;gBACb,mBAAmB,QAAQ,OAAA,EAAS,eAAe;gBACnD,gBAAgB,QAAQ,OAAA,EAAS,WAAW;gBAC5C,YAAY,QAAQ,OAAA,EAAS,UAAU;gBACvC,oBAAoB,QAAQ,OAAA,EAAS,kBAAkB;aACvD;YACD,QAAQ,QAAQ,MAAA;SAChB,CAAC,EAEmC,QAAQ,OAAA,CAAQ;;IAEtD,MAAM,mBACL,OAAA,EACqD;QAiBrD,OAAO,iBAhBa,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,uBAAA,CAAwB;YACrE,kBAAkB,QAAQ,WAAA;YAC1B,WAAW,QAAQ,UAAA;YACnB,SAAS;gBAER,cAAc;gBAEd,aAAa;gBACb,gBAAgB,QAAQ,OAAA,EAAS,WAAW;gBAC5C,YAAY,QAAQ,OAAA,EAAS,UAAU;gBACvC,mBAAmB,QAAQ,OAAA,EAAS,eAAe;gBACnD,oBAAoB,QAAQ,OAAA,EAAS,kBAAkB;aACvD;YACD,QAAQ,QAAQ,MAAA;SAChB,CAAC,EAEmC,QAAQ,OAAA,CAAQ;;IAEtD,MAAM,oBACL,OAAA,EAC6D;QAC7D,IAAI,CAAA,CAAE,QAAQ,WAAA,YAAuB,UAAA,EACpC,CAAA,MAAM,QAAQ,WAAA,CAAY,uBAAA,CAAwB;YAAE,QAAQ,IAAA;QAAA,CAAM,CAAC;QAGpE,MAAM,KAAK,yLAAA,CAAY,IAAA,CAAK,QAAQ,WAAA,CAAY;QAEhD,MAAM,OACL,QAAQ,WAAA,YAAuB,aAC5B,OACA,wMAAA,CAAuB,OAAA,CAAQ,QAAQ,WAAA,CAAY,OAAA,EAAS,CAAC;QAEjE,MAAM,mBAAmB,OACtB,KAAK,KAAA,CAAM;YACX,WAAW;gBACV,SAAS;oBACR,QAAQ,KAAK,OAAA,CAAQ,MAAA,IAAU,OAAO,QAAQ;oBAC9C,OAAO,KAAK,OAAA,CAAQ,KAAA,IAAS,OAAO,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,oBAAA,EAAsB,CAAC;oBACrF,SAAS,KAAK,OAAA,CAAQ,OAAA,IAAW,EAAE;iBACnC;YAAA,CACD;QAAA,CACD,CAAC,GACA,QAAQ,WAAA;QAEZ,MAAM,SAAS,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,sBAAA,CAAuB;YAC/D,kBAAkB;YAClB,QAAQ,QAAQ,MAAA;SAChB,CAAC;QAEF,MAAM,EAAE,OAAA,EAAS,WAAA,EAAA,GAAgB,4BAA4B;YAC5D,SAAS,OAAO,OAAA;YAChB,eAAe,OAAO,aAAA;SACtB,CAAC;QAEF,MAAM,kBAAuD;YAC5D,QAAQ,wMAAA,CAAuB,kBAAA,CAAmB,iBAAiB;YACnE,OAAO;YACP,QAAQ,QAAQ,MAAA;YAChB,SAAU,QAAQ,OAAA,EAAS,UACxB,UACA,KAAA;YACH,aAAc,QAAQ,OAAA,EAAS,cAC5B,cACA,KAAA;YACH,YAAY,EAAE;YACd,aAAc,QAAQ,OAAA,EAAS,kBAC5B,qLAAA,EACA,QAAQ,WAAA,YAAuB,aAC5B,QAAQ,WAAA,GACR,MAAM,QAAQ,WAAA,CACb,KAAA,CAAM;gBACN,QAAQ,IAAA;YAAA,CACR,CAAC,CACD,KAAA,CAAA,IAAY,KAAc,CAC9B,GACA,KAAA;YACH,KAAM,QAAQ,OAAA,EAAS,MACpB,mBACA,KAAA;YACH,gBAAiB,QAAQ,OAAA,EAAS,iBAC/B,OAAO,cAAA,CAAe,GAAA,CAAA,CAAK,SAAA,CAAY;oBACvC,cAAU,0LAAA,EAAmB,OAAO,QAAA,CAAS;oBAC7C,SAAS,kBAAkB,OAAO,KAAA,CAAM;oBACxC,QAAQ,OAAO,MAAA;iBACf,EAAE,GACF,KAAA;YACH,QAAS,QAAQ,OAAA,EAAS,SACtB,OAAO,MAAA,EAAQ,IAAA,CAAK,QAAA,CAAW;oBAChC,WAAW,MAAM,SAAA;oBACjB,QAAQ,MAAM,iBAAA;oBACd,QAAQ,MAAM,MAAA;oBACd,WAAW,MAAM,IAAA;oBACjB,KAAK,SAAS,YAAQ,kKAAA,EAAW,MAAM,GAAA,CAAI,GAAG,IAAI,YAAY;iBAC9D,EAAE,IAAI,EAAE,GACR,KAAA;SACH;QAED,IAAI;QACJ,IAAI,QAAQ,OAAA,EAAS,eACpB,CAAA,IAAI;YACH,MAAM,SAAS,GAAG,OAAA,EAAS,CAAC,MAAA,QAAU,2LAAA,EAAoB,MAAM;YAChE,MAAM,mBAAmB,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,0BAAA,CAA2B;gBAC7E;gBACA,kBAAkB;gBAClB,QAAQ,QAAQ,MAAA;aAChB,CAAC;YAEF,IAAI,iBAAiB,OAAA,CACpB,CAAA,iBAAiB,iBAAiB,OAAA,CAAQ,GAAA,CAAA,CAAK,WAAA,CAAY;oBAC1D,cAAA,CAAeC,SAAO,YAAA,IAAgB,EAAE,EAAE,GAAA,CAAA,CAAK,CAAC,MAAA,GAAA,CAAY;4BAC3D,KAAK,IAAI,WAAW,MAAM;wBAAA,CAC1B,EAAE;oBACH,mBAAA,CAAoBA,SAAO,uBAAA,IAA2B,EAAE,EAAE,GAAA,CAAA,CAAK,GAAG,MAAA,GAAA,CAAY;4BAC7E,KAAK,IAAI,WAAW,MAAM;wBAAA,CAC1B,EAAE;iBACH,EAAE;iBAEG,CAAA;QAGT,OAAO,QAAQ,MAAA,CAAO,OAAA,GACnB;YACA,OAAO;YACP,aAAa;YAEZ;SACD,GACA;YACA,OAAO;YACP,mBAAmB;YAElB;SACD;;IAEJ,MAAM,qBAAqB,OAAA,EAAsD;QAChF,MAAM,oBAAoB,MAAM,IAAA,CAAA,CAAA,CAAKD,YAAAA,CAAe,oBAAA,CAAqB;YACxE,QAAQ,SAAS;QAAA,CACjB,CAAC;QAEF,OAAO;YACN,mBAAmB,OAAO,kBAAkB;QAAA,CAC5C;;IAGF,MAAM,sBACL,OAAA,EACwD;QACxD,MAAM,cAAc,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,uBAAA,CAAwB;YACrE,QAAQ,SAAS;QAAA,CACjB,CAAC;QAEF,OAAO;YACN,aAAa;gBACZ,oBAAoB,YAAY,kBAAA;gBAChC,OAAO,YAAY,KAAA;gBACnB,iBAAiB,YAAY,eAAA;gBAC7B,mBAAmB,YAAY,iBAAA,EAAmB,UAAU,IAAK;gBACjE,uBAAuB,YAAY,qBAAA;gBACnC,UAAU,YAAY,QAAA;gBACtB,wBAAwB,YAAY,sBAAA;gBACpC,4BAA4B,YAAY,0BAAA;gBACxC,wBAAwB,YAAY,sBAAA;gBACpC,iCAAiC,YAAY,+BAAA;gBAC7C,YAAY;oBACX,iBAAiB,YAAY,eAAA;oBAC7B,wBAAwB,YAAY,sBAAA;oBACpC,mBAAmB,YAAY,iBAAA;oBAC/B,0BAA0B,YAAY,wBAAA;oBACtC,4BAA4B,YAAY,0BAAA;oBACxC,8BAA8B,YAAY,4BAAA;iBAC1C;gBACD,aAAa;oBACZ,2BAA2B,YAAY,oCAAA;oBACvC,sBAAsB,YAAY,+BAAA;iBAClC;gBACD,cAAc;oBACb,SAAS,YAAY,mBAAA;oBACrB,qBAAqB,YAAY,+BAAA;oBACjC,2BAA2B,YAAY,qCAAA;oBACvC,0BAA0B,YAAY,wBAAA;oBACtC,0BAA0B,YAAY,wBAAA;iBACtC;aACD;QAAA,CACD;;IAGF,MAAM,kBAAkB,OAAA,EAAkD;QACzE,MAAM,gBAAgB,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,gBAAA,CAAiB;YAChE,UAAU,QAAQ,QAAA;YAClB,OAAO,QAAQ,KAAA;YACf,QAAQ,QAAQ,MAAA;SAChB,CAAC;QAEF,OAAO;YACN,eAAe,cAAc,IAAA,CAAK,GAAA,CAAA,CAAK,iBAAiB;gBAEvD,MAAM,WADkB,aAAa,IAAA,KAAS,kBAE3C,CAAA,6DAAA,EAAgE,aAAa,IAAA,CAAK,IAAA,CAAK,mBAAA,CAAA,GACvF,CAAA,0BAAA,EAA6B,aAAa,IAAA,CAAK,IAAA,CAAK,EAAA,EAAI,aAAa,UAAA,CAAW,CAAA,CAAA;gBAEnF,OAAO;oBACN,SAAS,aAAa,QAAA;oBACtB,UAAM,0LAAA,EAAmB,SAAS;oBAClC,MAAM;wBACL,MAAM,aAAa,IAAA,CAAK,IAAA;wBACxB,SAAK,kKAAA,EAAW,aAAa,OAAA,CAAQ;qBACrC;oBACD,WAAW,aAAa,UAAA;iBACxB;cACA;YACF,aAAa,cAAc,WAAA;YAC3B,QAAQ,cAAc,UAAA;SACtB;;IAGF,MAAM,uBAAuB,OAAA,EAAuD;QACnF,MAAM,SAAS,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,sBAAA,CAAuB;YAC/D,OAAO,QAAQ,KAAA;YACf,WAAW,QAAQ,SAAA;YACnB,aAAa,QAAQ,WAAA;YACrB,QAAQ,QAAQ,OAAA;SAChB,CAAC;QAEF,OAAO;YACN,SAAS,OAAO,OAAA;YAChB,QAAQ,OAAO,MAAA;SACf;;IAGF,MAAM,uBACL,OAAA,EACyD;QAEzD,OAAO;YACN,MAAM;gBACL,MAAA,CAHY,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,uBAAA,CAAwB,QAAQ,EAAE,IAAA,CAAK,EAAA;YAAA,CAI7E;QAAA,CACD;;IAGF,2BAA2B;QAC1B,OAAO,+MAAA;;IAGR,MAAM,gBACL,OAAA,EACkD;QAClD,MAAM,oBAAA,CAAqB,MAAM,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;YAAE,SAAS,QAAQ,SAAA;QAAA,CAAW,CAAC,EACtF,OAAA;QACF,MAAM,SAAS,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,yBAAA,CAA0B;YAClE,SAAS;YACT,QAAQ,QAAQ,UAAA;YAChB,UAAU,QAAQ,IAAA;SAClB,CAAC;QAEF,OAAO;YACN,UAAU;gBACT,eAAW,2LAAA,EAAoB,kBAAkB;gBACjD,YAAY,QAAQ,UAAA;gBACpB,MAAM,QAAQ,IAAA;gBACd,YAAY,gBAAgB,OAAO,UAAA,CAAW;gBAC9C,SAAS,OAAO,OAAA;gBAChB,gBAAgB,OAAO,cAAA,CAAe,GAAA,CAAA,CAAK,YAAA,CAAe;wBACzD,WAAW;wBACX,aAAa,eAAe,UAAU;qBACtC,EAAE;gBACH,YAAY,OAAO,UAAA,CAAW,GAAA,CAAA,CAAK,QAAU,2BAA2B,MAAM,CAAC;gBAC/E,SAAS,OAAO,MAAA,CAAO,GAAA,CAAA,CAAK,MAAQ,2BAA2B,IAAI,CAAC;aACpE;QAAA,CACD;;IAGF,MAAM,mBACL,QAAA,EACqD;QACrD,OAAO,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK;YAAC;SAAkB,EAAE,YAAY;YAEvD,OAAO;gBACN,iBAAA,CAFkB,MAAM,IAAA,CAAA,CAAA,CAAKA,YAAAA,CAAe,aAAA,CAAc;oBAAE,IAAI;gBAAA,CAAK,CAAC,EAE1C,MAAA;YAAA,CAC5B;UACA;;;AAIJ,SAAS,qBAAqB,MAAA,EAA+C;IAC5E,IAAI,OAAO,GAAA,EAAK,aAAa,aAC5B,CAAA;IAGD,IAAI;QAEH,MAAM,cAAU,0LAAA,EAAmB,OAAO,GAAA,CAAI,IAAA,CAAK;QACnD,IAAI;QAGJ,MAAM,6BAAyB,2LAAA,EAAoB,0LAAA,CAAsB;QACzE,MAAM,kBAAc,0LAAA,EACnB,GAAG,0LAAA,CAAsB,aAAA,EAAe,0LAAA,CAAsB,WAAA,CAAA,CAC9D;QACD,MAAM,oBAAgB,0LAAA,EAAmB,GAAG,uLAAA,CAAmB,yBAAA,CAAA,CAA2B;QAC1F,MAAM,aAAa,GAAG,uBAAuB,aAAA,CAAA;QAE7C,IAAI,YAAY,YACf,CAAA,iBAAiB;YAAE,SAAS;QAAA,CAAM;iBACxB,YAAY,cACtB,CAAA,iBAAiB;YAAE,WAAW;QAAA,CAAM;iBAC1B,QAAQ,UAAA,CAAW,WAAW,EAAE;YAC1C,MAAM,iBAAiB,QAAQ,KAAA,CAAA,aAAA,GAC9B,IAAI,OACH,GAAG,uBAAuB,OAAA,CAAQ,uBAAuB,OAAO,CAAC,mBAAA,CAAA,CACjE,CACD;YACD,IAAI,eAEH,CAAA,iBAAiB;gBAAE,MADE,oMAAA,CAAkB,YAAA,CAAa,cAAA,CAAe,EAAA,EAAI,KAAK;YAAA,CACrC;iBAEvC,MAAM,IAAI,MAAM,4BAA4B;eAEvC;YACN,MAAM,UAAU,oMAAA,CAAkB,YAAA,CAAa,SAAS,KAAK;YAC7D,IAAI,OAAO,YAAY,YAAY,CAAA,CAAE,YAAY,OAAA,EAChD,CAAA,MAAM,IAAI,MAAM,2BAA2B;YAE5C,iBAAiB;gBAAE,OAAO,QAAQ,MAAA;YAAA,CAAQ;;QAG3C,MAAM,eAAW,kKAAA,EAAW,OAAO,GAAA,CAAI,QAAA,CAAS;QAChD,MAAM,QAAQ,kBAAkB,OAAO,KAAA,CAAO;QAE9C,OAAOE,kLAAAA,CAAI,MAAA,CAAO,SAAA,CAAU;YAC3B,MAAM;gBACL,MAAM;oBACL,MAAM;oBACN,mBAAmB,OAAO,GAAA,CAAI,iBAAA;oBAC9B,SAAS,OAAO,GAAA,CAAI,OAAA;oBACpB;iBACA;YAAA,CACD;YACD;YACA,qBAAqB,OAAO,mBAAA;YAC5B,eAAe,OAAO,aAAA;SACtB,CAAC,CAAC,OAAA,EAAS;aACL;QAEP;;;AAIF,SAAS,YACR,MAAA,EACA,OAAA,EACiC;IACjC,MAAM,aACL,OAAO,GAAA,EAAK,aAAa,mBAAe,kKAAA,EAAW,OAAO,GAAA,CAAI,QAAA,CAAS,GAAG,KAAA;IAE3E,MAAM,YAAY,SAAS,YAAY,qBAAqB,OAAO,GAAG,KAAA;IAGtE,MAAM,OACL,OAAO,IAAA,IAAQ,OAAO,IAAA,CAAK,QAAA,CAAS,KAAK,OACtC,0LAAA,EAAmB,OAAO,IAAA,CAAK,GAC9B,OAAO,IAAA,IAAQ;IAEpB,MAAM,cACL,SAAS,QAAQ,OAAO,OAAA,EAAS,aAAa,eAC1C,OAAO,OAAA,CAAQ,MAAA,GAChB,SAAS,OACR,OACA,KAAA;IAEL,OAAO;QACN,UAAU,OAAO,QAAA;QACjB,SAAS,OAAO,OAAA;QAChB,QAAQ,OAAO,MAAA;QACf;QACA,SAAU,SAAS,UAChB,aACA,KAAA;QACH,OAAO,WAAW,OAAO,KAAA,CAAO;QAChC,qBAAsB,SAAS,sBAC3B,OAAO,mBAAA,IAAuB,KAAA,IAC/B,KAAA;QACQ;QACX,MAAM;KACN;;AAGF,SAAS,WAAW,KAAA,EAAgD;IACnE,IAAI,UAAU,YACb,CAAA,OAAO;QACN,OAAO;QACP,WAAW;KACX;IAGF,IAAI,2BAA2B,MAC9B,CAAA,OAAO;QACN,OAAO;QACP,uBAAuB;YACtB,OAAO,MAAM,qBAAA,CAAsB,KAAA;YACnC,cAAc,MAAM,qBAAA,CAAsB,aAAA;SAC1C;KACD;IAGF,IAAI,kBAAkB,MACrB,CAAA,OAAO;QACN,OAAO;QACP,cAAc,MAAM,YAAA;KACpB;IAGF,IAAI,iBAAiB,MACpB,CAAA,OAAO;QACN,OAAO;QACP,aAAa,MAAM,WAAA;KACnB;IAGF,IAAI,YAAY,MACf,CAAA,OAAO;QACN,OAAO;QACP,QAAQ;YACP,sBAAsB,MAAM,MAAA,CAAO,sBAAA;QAAA,CACnC;KACD;IAGF,MAAM,IAAI,MAAM,CAAA,oBAAA,EAAuB,KAAK,SAAA,CAAU,MAAM,EAAA,CAAG;;AAGhE,SAAS,kBAAkB,KAAA,EAAoB;IAC9C,IAAI,UAAU,YACb,CAAA,OAAO;QAAE,WAAW;IAAA,CAAM;IAG3B,IAAI,kBAAkB,MACrB,CAAA,OAAO;QAAE,cAAc,MAAM,YAAA;IAAA,CAAc;IAG5C,IAAI,iBAAiB,MACpB,CAAA,OAAO;QAAE,aAAa,MAAM,WAAA;IAAA,CAAa;IAG1C,IAAI,YAAY,MACf,CAAA,OAAO;QACN,QAAQ;YAAE,sBAAsB,MAAM,MAAA,CAAO,sBAAA;QAAA,CAAwB;IAAA,CACrE;IAGF,IAAI,OAAO,UAAU,YAAY,UAAU,QAAQ,2BAA2B,MAC7E,CAAA,OAAO;QACN,uBAAuB;YACtB,cAAc,MAAM,qBAAA,CAAsB,aAAA;YAC1C,OAAO,MAAM,qBAAA,CAAsB,KAAA;SACnC;IAAA,CACD;IAGF,MAAM,IAAI,MAAM,CAAA,oBAAA,EAAuB,KAAK,SAAA,CAAU,MAAM,EAAA,CAAG;;AAGhE,SAAS,kBAAkB,KAAA,EAAmC;IAC7D,IAAI,UAAU,YACb,CAAA,OAAO;IAGR,IAAI,2BAA2B,MAC9B,CAAA,OAAO,MAAM,qBAAA,CAAsB,KAAA;IAGpC,IAAI,kBAAkB,MACrB,CAAA,OAAO,MAAM,YAAA;IAGd,IAAI,iBAAiB,MACpB,CAAA,OAAO,MAAM,WAAA;IAGd,IAAI,YAAY,MACf,CAAA,OAAO;IAGR,MAAM,IAAI,MAAM,CAAA,oBAAA,EAAuB,KAAK,SAAA,CAAU,MAAM,EAAA,CAAG;;AAGhE,SAAS,iBACR,WAAA,EACA,OAAA,EAC4C;IAC5C,MAAM,cAAsC,CAAA,CAAE;IAE9C,IAAI,SAAS,YACZ,CAAA,YAAY,aAAA,EAAe,QAAA,CAAS,WAAW;QAC9C,IAAI,OAAO,IAAA,KAAS,YACnB,CAAA,WAAA,CAAY,OAAO,QAAA,CAAA,OAAY,0LAAA,EAAmB,OAAO,UAAA,CAAW;MAEpE;IAGH,IAAI;IACJ,IAAI,aAAuB,EAAE;IAC7B,IAAI;IAEJ,IAAI,YAAY,cAAA,EAAgB;QAC/B,MAAM,WAAWA,kLAAAA,CAAI,gBAAA,CAAiB,KAAA,KAAM,kKAAA,EAAW,YAAY,cAAA,CAAe,CAAC,CAAC,EAAA;QACpF,aAAa,SAAS,YAAA;QAEtB,IAAI,SAAS,eAAe,SAAS,KAAK;YACzC,MAAM,QAAQA,kLAAAA,CAAI,eAAA,CAAgB,SAAA,CAAU,SAAS,aAAA,CAAc,KAAA,CAAM,CAAC,OAAA,EAAS;YAEnF,IAAI,SAAS,IACZ,CAAA,WAAW;YAGZ,IAAI,SAAS,YASZ,CAAA,kBAAkB;gBAAE,GARP,wMAAA,CAAuB,OAAA,CAAQ;oBAC3C,SAAS;oBACT,QAAQ,SAAS,aAAA,CAAc,KAAA,CAAM,EAAA,CAAG,MAAA;oBACxC,YAAY,SAAS,aAAA,CAAc,KAAA,CAAM,EAAA,CAAG,UAAA;oBAC5C,SAAS,SAAS,aAAA,CAAc,KAAA,CAAM,EAAA,CAAG,OAAA;oBACzC,QAAQ,SAAS,aAAA,CAAc,KAAA,CAAM,EAAA,CAAG,IAAA,CAAK,uBAAA,CAAyB,MAAA;oBACtE,UAAU,SAAS,aAAA,CAAc,KAAA,CAAM,EAAA,CAAG,IAAA,CAAK,uBAAA,CAAyB,QAAA;iBACxE,CAAC;YAAA,CAC2B;;;IAMhC,MAAM,SAAyC,YAAY,OAAA,EAAS,SACjE,4BAA4B,YAAY,OAAA,CAAQ,MAAA,EAAQ,YAAY,OAAA,CAAQ,UAAA,CAAW,GACvF;QACA,SAAS;QACT,OAAO;YACN,OAAO;YACP,SAAS;YACT,SAAS;SACT;KACD;IAEH,MAAM,eAAe,YAAY,UAAA,GAAa,IAAI,WAAW,YAAY,UAAA,CAAW,GAAG;IAEvF,MAAM,SAA8C;QACnD,QAAQ,YAAY,MAAA;QACpB,OAAO,YAAY,OAAA,EAAS,iBAAiB;QAC7C;QACA,SAAU,SAAS,WAAW,mBAC3B,4LAAA,EAA2B,aAAa,GACxC,KAAA;QACH,aAAc,SAAS,cACpB,cACA,KAAA;QACH,aAAa;QACb,KAAK;QACL;QACA,gBAAiB,SAAS,iBACtB,YAAY,cAAA,EAAgB,IAAA,CAAK,SAAA,CAAY;gBAC9C,cAAU,0LAAA,EAAmB,OAAO,QAAA,CAAS;gBAC7C,SAAS,kBAAkB,OAAO,KAAA,CAAM;gBACxC,QAAQ,OAAO,MAAA;aACf,EAAE,IAAI,EAAE,GACR,KAAA;QACH,QAAS,SAAS,SACd,YAAY,MAAA,EAAQ,IAAA,CAAK,QAAA,CAAW;gBACrC,WAAW,MAAM,SAAA;gBACjB,QAAQ,MAAM,iBAAA;gBACd,QAAQ,MAAM,MAAA;gBACd,WAAW,MAAM,IAAA;gBACjB,KAAK,SAAS,YAAQ,kKAAA,EAAW,MAAM,GAAA,CAAI,GAAG,IAAI,YAAY;aAC9D,EAAE,IAAI,EAAE,GACR,KAAA;KACH;IAED,OAAO,OAAO,OAAA,GACX;QACA,OAAO;QACP,aAAa;KACb,GACA;QACA,OAAO;QACP,mBAAmB;KACnB;;AAGJ,SAAS,4BAA4B,EACpC,KAAA,EACA,OAAA,EACA,aAAA,EAAA,EAQC;IACD,MAAM,iBAAiD,EAAE;IACzD,MAAM,4BAAuE,EAAE;IAC/E,MAAM,cAAsC,CAAA,CAAE;IAE9C,eAAe,QAAA,CAAS,WAAW;QAClC,OAAQ,OAAO,IAAA,EAAf;YACC,KAAK;gBACJ,eAAe,IAAA,CAAK;oBACnB,UAAU,OAAO,SAAA;oBACjB,YAAY;oBACZ,cAAc;oBACd,aAAa;oBACb,YAAY;oBACZ,aAAa;oBACb,eAAe,OAAO,OAAA;oBACtB,cAAc,OAAO,MAAA;oBACrB,aAAa;oBACb,aAAa;iBACb,CAAC;gBACF;YACD,KAAK;gBACJ,eAAe,IAAA,CAAK;oBACnB,UAAU,OAAO,QAAA;oBACjB,YAAY;oBACZ,cAAc,OAAO,OAAA;oBACrB,aAAa,OAAO,MAAA;oBACpB,YAAY;wBACX,OAAO;wBACP,cAAc,OAAO,MAAA;qBACrB;oBACD,aAAa;oBACb,eAAe,OAAO,OAAA;oBACtB,cAAc,OAAO,MAAA;oBACrB,aAAa,WAAW,OAAO,SAAA,CAAU;oBACzC,aAAa;iBACb,CAAC;gBACF,WAAA,CAAY,OAAO,QAAA,CAAA,OAAY,0LAAA,EAAmB,OAAO,UAAA,CAAW;gBACpE;YACD,KAAK;gBACJ,eAAe,IAAA,CAAK;oBACnB,UAAU,OAAO,QAAA;oBACjB,YAAY;oBACZ,cAAc,OAAO,eAAA;oBACrB,aAAa;oBACb,YAAY,WAAW,OAAO,KAAA,CAAM;oBACpC,aAAa;oBACb,eAAe,OAAO,OAAA;oBACtB,cAAc,OAAO,MAAA;oBACrB,aAAa,WAAW,OAAO,KAAA,CAAM;oBACrC,aAAa;iBACb,CAAC;gBACF,WAAA,CAAY,OAAO,QAAA,CAAA,OAAY,0LAAA,EAAmB,OAAO,UAAA,CAAW;gBACpE;YACD,KAAK;gBACJ,eAAe,IAAA,CAAK;oBACnB,UAAU,OAAO,QAAA;oBACjB,YAAY;oBACZ,cAAc,OAAO,OAAA;oBACrB,aAAa,QAAQ,OAAA,EAAS,KAAA,CAAM,IAAM,EAAE,QAAA,KAAa,OAAO,QAAA,CAAS,EAAE,UAAU;oBACrF,YAAY;oBACZ,aAAa;oBACb,eAAe;oBACf,cAAc;oBACd,aAAa;oBACb,aAAa;iBACb,CAAC;gBACF,WAAA,CAAY,OAAO,QAAA,CAAA,OAAY,0LAAA,EAAmB,OAAO,UAAA,CAAW;gBACpE;YACD,KAAK;gBACJ,eAAe,IAAA,CAAK;oBACnB,UAAU,OAAO,QAAA;oBACjB,YAAY;oBACZ,cAAc,OAAO,OAAA;oBACrB,aAAa;oBACb,YAAY;wBACX,OAAO;wBACP,cAAc,OAAO,MAAA;qBACrB;oBACD,aAAa;oBACb,eAAe,OAAO,OAAA;oBACtB,cACC,QAAQ,OAAA,EAAS,KAAA,CAAM,IAAM,EAAE,QAAA,KAAa,OAAO,QAAA,CAAS,EAAE,UAAU;oBACzE,aAAa;wBACZ,OAAO;wBACP,aAAa,OAAO,MAAA;qBACpB;oBACD,aAAa;iBACb,CAAC;gBACF,WAAA,CAAY,OAAO,QAAA,CAAA,OAAY,0LAAA,EAAmB,OAAO,UAAA,CAAW;gBACpE;YACD,KAAK;gBACJ,eAAe,IAAA,CAAK;oBACnB,UAAU,OAAO,QAAA;oBACjB,YAAY;oBACZ,cAAc;oBACd,aAAa;oBACb,YAAY;oBACZ,aAAa;oBACb,eAAe,OAAO,OAAA;oBACtB,cAAc,OAAO,MAAA;oBACrB,aAAa,WAAW,OAAO,KAAA,CAAM;oBACrC,aAAa;iBACb,CAAC;gBACF,WAAA,CAAY,OAAO,QAAA,CAAA,OAAY,0LAAA,EAAmB,OAAO,UAAA,CAAW;gBACpE;;MAED;IAEF,OAAO;QACN;QACA,SAAS;YACR,KAAK,SAAS;YACd,SAAS;YACT,QAAQ,4BAA4B,QAAQ,MAAA,EAAQ,QAAQ,UAAA,CAAW;YACvE,SAAS,QAAQ,OAAA;YACjB,mBAAmB,QAAQ,iBAAA;YAC3B,WAAW;gBACV,UAAU,QAAQ,SAAA,EAAW,UAAU;gBACvC,YAAY;gBACZ,cAAc;gBACd,aAAa;gBACb,YAAY;gBACZ,aAAa;gBACb,eAAe,QAAQ,SAAA,CAAU,SAAA,CAAU,OAAA;gBAC3C,cAAc,QAAQ,SAAA,CAAU,SAAA,CAAU,MAAA;gBAC1C,aAAa,WAAW,QAAQ,SAAA,CAAU,KAAA,CAAM;gBAChD,aAAa;aACb;YACD,cAAc,QAAQ,YAAA,IAAgB;YACtC,cAAc,QAAQ,YAAA,IAAgB,EAAE;YACxC,gBAAgB,QAAQ,SAAA,CAAU,SAAA,CAAU,OAAA;YAC5C;YACA;YACA,qBAAqB;SACrB;KACD;;AAGF,SAAS,2BAA2B,IAAA,EAA2D;IAC9F,IAAI,OAAO,SAAS,UAAU;QAC7B,IAAI,eAAe,KAClB,CAAA,OAAO;YACN,WAAW;YACX,MAAM,+BAA+B,KAAK,SAAA,CAAU;SACpD;QAGF,IAAI,sBAAsB,KACzB,CAAA,OAAO;YACN,WAAW;YACX,MAAM,+BAA+B,KAAK,gBAAA,CAAiB;SAC3D;;IAIH,OAAO;QACN,WAAW;QACX,MAAM,+BAA+B,KAAK;KAC1C;;AAGF,SAAS,+BACR,IAAA,EACmC;IACnC,OAAQ,MAAR;QACC,KAAK,UACJ;YAAA,OAAO;gBAAE,OAAO;YAAA,CAAW;QAC5B,KAAK,OACJ;YAAA,OAAO;gBAAE,OAAO;YAAA,CAAQ;QACzB,KAAK,KACJ;YAAA,OAAO;gBAAE,OAAO;YAAA,CAAM;QACvB,KAAK,MACJ;YAAA,OAAO;gBAAE,OAAO;YAAA,CAAO;QACxB,KAAK,MACJ;YAAA,OAAO;gBAAE,OAAO;YAAA,CAAO;QACxB,KAAK,MACJ;YAAA,OAAO;gBAAE,OAAO;YAAA,CAAO;QACxB,KAAK,OACJ;YAAA,OAAO;gBAAE,OAAO;YAAA,CAAQ;QACzB,KAAK,OACJ;YAAA,OAAO;gBAAE,OAAO;YAAA,CAAQ;;IAG1B,IAAI,OAAO,SAAS,SACnB,CAAA,MAAM,IAAI,MAAM,CAAA,cAAA,EAAiB,MAAA,CAAO;IAGzC,IAAI,YAAY,KACf,CAAA,OAAO;QACN,OAAO;QACP,QAAQ,+BAA+B,KAAK,MAAA,CAAO;KACnD;IAGF,IAAI,YAAY,KACf,CAAA,OAAO;QACN,OAAO;QACP,UAAU;YACT,UAAU,OAAG,2LAAA,EAAoB,KAAK,MAAA,CAAO,OAAA,CAAQ,CAAC,EAAA,EAAI,KAAK,MAAA,CAAO,MAAA,CAAO,EAAA,EAAI,KAAK,MAAA,CAAO,IAAA,EAAA;YAC7F,gBAAgB,KAAK,MAAA,CAAO,aAAA,CAAc,GAAA,CAAA,CAAK,IAAM,+BAA+B,EAAE,CAAC;SACvF;KACD;IAGF,IAAI,mBAAmB,KACtB,CAAA,OAAO;QACN,OAAO;QACP,OAAO,KAAK,aAAA;KACZ;IAGF,MAAM,IAAI,MAAM,CAAA,cAAA,EAAiB,KAAK,SAAA,CAAU,KAAK,EAAA,CAAG;;AAGzD,SAAS,eAAe,UAAA,EAAyD;IAChF,OAAO,WAAW,SAAA,CAAU,GAAA,CAAA,CAAK,YAAY;QAC5C,OAAQ,SAAR;YACC,KAAK,OACJ;gBAAA,OAAO;YACR,KAAK,OACJ;gBAAA,OAAO;YACR,KAAK,QACJ;gBAAA,OAAO;YACR,KAAK,MACJ;gBAAA,OAAO;YACR,QACC;gBAAA,OAAO;;MAER;;AAGH,SAAS,gBAAgB,UAAA,EAA0D;IAClF,OAAQ,YAAR;QACC,KAAK,SACJ;YAAA,OAAO;QACR,KAAK,UACJ;YAAA,OAAO;QACR,KAAK,SACJ;YAAA,OAAO;QACR,QACC;YAAA,OAAO"}},
    {"offset": {"line": 6395, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/jsonRpc/client.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/jsonRpc/client.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\nimport { fromBase58, toBase64, toHex } from '@mysten/bcs';\n\nimport type { Signer } from '../cryptography/index.js';\nimport { BaseClient } from '../client/client.js';\nimport type { SuiClientTypes } from '../client/types.js';\nimport type { Transaction } from '../transactions/Transaction.js';\nimport { isTransaction } from '../transactions/Transaction.js';\nimport {\n\tisValidSuiAddress,\n\tisValidSuiObjectId,\n\tisValidTransactionDigest,\n\tnormalizeSuiAddress,\n\tnormalizeSuiObjectId,\n} from '../utils/sui-types.js';\nimport { normalizeSuiNSName } from '../utils/suins.js';\nimport { JsonRpcHTTPTransport } from './http-transport.js';\nimport type { JsonRpcTransport } from './http-transport.js';\nimport type {\n\tAddressMetrics,\n\tAllEpochsAddressMetrics,\n\tCheckpoint,\n\tCheckpointPage,\n\tCoinBalance,\n\tCoinMetadata,\n\tCoinSupply,\n\tCommitteeInfo,\n\tDelegatedStake,\n\tDevInspectResults,\n\tDevInspectTransactionBlockParams,\n\tDryRunTransactionBlockParams,\n\tDryRunTransactionBlockResponse,\n\tDynamicFieldPage,\n\tEpochInfo,\n\tEpochMetricsPage,\n\tEpochPage,\n\tExecuteTransactionBlockParams,\n\tGetAllBalancesParams,\n\tGetAllCoinsParams,\n\tGetBalanceParams,\n\tGetCheckpointParams,\n\tGetCheckpointsParams,\n\tGetCoinMetadataParams,\n\tGetCoinsParams,\n\tGetCommitteeInfoParams,\n\tGetDynamicFieldObjectParams,\n\tGetDynamicFieldsParams,\n\tGetLatestCheckpointSequenceNumberParams,\n\tGetLatestSuiSystemStateParams,\n\tGetMoveFunctionArgTypesParams,\n\tGetNormalizedMoveFunctionParams,\n\tGetNormalizedMoveModuleParams,\n\tGetNormalizedMoveModulesByPackageParams,\n\tGetNormalizedMoveStructParams,\n\tGetObjectParams,\n\tGetOwnedObjectsParams,\n\tGetProtocolConfigParams,\n\tGetReferenceGasPriceParams,\n\tGetStakesByIdsParams,\n\tGetStakesParams,\n\tGetTotalSupplyParams,\n\tGetTransactionBlockParams,\n\tMoveCallMetrics,\n\tMultiGetObjectsParams,\n\tMultiGetTransactionBlocksParams,\n\tNetworkMetrics,\n\tObjectRead,\n\tOrder,\n\tPaginatedCoins,\n\tPaginatedEvents,\n\tPaginatedObjectsResponse,\n\tPaginatedTransactionResponse,\n\tProtocolConfig,\n\tQueryEventsParams,\n\tQueryTransactionBlocksParams,\n\tResolvedNameServiceNames,\n\tResolveNameServiceAddressParams,\n\tResolveNameServiceNamesParams,\n\tSuiMoveFunctionArgType,\n\tSuiMoveNormalizedFunction,\n\tSuiMoveNormalizedModule,\n\tSuiMoveNormalizedModules,\n\tSuiMoveNormalizedStruct,\n\tSuiObjectResponse,\n\tSuiObjectResponseQuery,\n\tSuiSystemStateSummary,\n\tSuiTransactionBlockResponse,\n\tSuiTransactionBlockResponseQuery,\n\tTryGetPastObjectParams,\n\tValidatorsApy,\n\tVerifyZkLoginSignatureParams,\n\tZkLoginVerifyResult,\n} from './types/index.js';\nimport { isValidNamedPackage } from '../utils/move-registry.js';\nimport { hasMvrName } from '../client/mvr.js';\nimport { JSONRpcCoreClient } from './core.js';\n\nexport interface PaginationArguments<Cursor> {\n\t/** Optional paging cursor */\n\tcursor?: Cursor;\n\t/** Maximum item returned per page */\n\tlimit?: number | null;\n}\n\nexport interface OrderArguments {\n\torder?: Order | null;\n}\n\n/**\n * Configuration options for the SuiJsonRpcClient\n * You must provide either a `url` or a `transport`\n */\nexport type SuiJsonRpcClientOptions = NetworkOrTransport & {\n\tnetwork: SuiClientTypes.Network;\n\tmvr?: SuiClientTypes.MvrOptions;\n};\n\ntype NetworkOrTransport =\n\t| {\n\t\t\turl: string;\n\t\t\ttransport?: never;\n\t  }\n\t| {\n\t\t\ttransport: JsonRpcTransport;\n\t\t\turl?: never;\n\t  };\n\nconst SUI_CLIENT_BRAND = Symbol.for('@mysten/SuiJsonRpcClient') as never;\n\n// Magic number used to identify fake address balance coins (last 20 bytes of the digest)\n// See: sui/crates/sui-types/src/coin_reservation.rs\nconst COIN_RESERVATION_MAGIC = new Uint8Array([\n\t0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac, 0xac,\n\t0xac, 0xac, 0xac, 0xac,\n]);\n\n/**\n * Checks if a digest indicates a fake address balance coin.\n * These \"coins\" are created by the JSON RPC to represent address balances\n * and should be filtered out from coin listings.\n */\nfunction isCoinReservationDigest(digestBase58: string): boolean {\n\tconst digestBytes = fromBase58(digestBase58);\n\t// Check if the last 20 bytes match the magic number\n\tconst last20Bytes = digestBytes.slice(12, 32);\n\treturn last20Bytes.every((byte, i) => byte === COIN_RESERVATION_MAGIC[i]);\n}\n\nexport function isSuiJsonRpcClient(client: unknown): client is SuiJsonRpcClient {\n\treturn (\n\t\ttypeof client === 'object' && client !== null && (client as any)[SUI_CLIENT_BRAND] === true\n\t);\n}\n\nexport class SuiJsonRpcClient extends BaseClient {\n\tcore: JSONRpcCoreClient;\n\tjsonRpc = this;\n\tprotected transport: JsonRpcTransport;\n\n\tget [SUI_CLIENT_BRAND]() {\n\t\treturn true;\n\t}\n\n\t/**\n\t * Establish a connection to a Sui RPC endpoint\n\t *\n\t * @param options configuration options for the API Client\n\t */\n\tconstructor(options: SuiJsonRpcClientOptions) {\n\t\tsuper({ network: options.network });\n\t\tthis.transport = options.transport ?? new JsonRpcHTTPTransport({ url: options.url });\n\t\tthis.core = new JSONRpcCoreClient({\n\t\t\tjsonRpcClient: this,\n\t\t\tmvr: options.mvr,\n\t\t});\n\t}\n\n\tasync getRpcApiVersion({ signal }: { signal?: AbortSignal } = {}): Promise<string | undefined> {\n\t\tconst resp = await this.transport.request<{ info: { version: string } }>({\n\t\t\tmethod: 'rpc.discover',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\n\t\treturn resp.info.version;\n\t}\n\n\t/**\n\t * Get all Coin<`coin_type`> objects owned by an address.\n\t */\n\tasync getCoins({\n\t\tcoinType,\n\t\towner,\n\t\tcursor,\n\t\tlimit,\n\t\tsignal,\n\t}: GetCoinsParams): Promise<PaginatedCoins> {\n\t\tif (!owner || !isValidSuiAddress(normalizeSuiAddress(owner))) {\n\t\t\tthrow new Error('Invalid Sui address');\n\t\t}\n\n\t\tif (coinType && hasMvrName(coinType)) {\n\t\t\tcoinType = (\n\t\t\t\tawait this.core.mvr.resolveType({\n\t\t\t\t\ttype: coinType,\n\t\t\t\t})\n\t\t\t).type;\n\t\t}\n\n\t\tconst result: PaginatedCoins = await this.transport.request({\n\t\t\tmethod: 'suix_getCoins',\n\t\t\tparams: [owner, coinType, cursor, limit],\n\t\t\tsignal: signal,\n\t\t});\n\n\t\treturn {\n\t\t\t...result,\n\t\t\tdata: result.data.filter((coin) => !isCoinReservationDigest(coin.digest)),\n\t\t};\n\t}\n\n\t/**\n\t * Get all Coin objects owned by an address.\n\t */\n\tasync getAllCoins(input: GetAllCoinsParams): Promise<PaginatedCoins> {\n\t\tif (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n\t\t\tthrow new Error('Invalid Sui address');\n\t\t}\n\n\t\tconst result: PaginatedCoins = await this.transport.request({\n\t\t\tmethod: 'suix_getAllCoins',\n\t\t\tparams: [input.owner, input.cursor, input.limit],\n\t\t\tsignal: input.signal,\n\t\t});\n\n\t\treturn {\n\t\t\t...result,\n\t\t\tdata: result.data.filter((coin) => !isCoinReservationDigest(coin.digest)),\n\t\t};\n\t}\n\n\t/**\n\t * Get the total coin balance for one coin type, owned by the address owner.\n\t */\n\tasync getBalance({ owner, coinType, signal }: GetBalanceParams): Promise<CoinBalance> {\n\t\tif (!owner || !isValidSuiAddress(normalizeSuiAddress(owner))) {\n\t\t\tthrow new Error('Invalid Sui address');\n\t\t}\n\n\t\tif (coinType && hasMvrName(coinType)) {\n\t\t\tcoinType = (\n\t\t\t\tawait this.core.mvr.resolveType({\n\t\t\t\t\ttype: coinType,\n\t\t\t\t})\n\t\t\t).type;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getBalance',\n\t\t\tparams: [owner, coinType],\n\t\t\tsignal: signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get the total coin balance for all coin types, owned by the address owner.\n\t */\n\tasync getAllBalances(input: GetAllBalancesParams): Promise<CoinBalance[]> {\n\t\tif (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n\t\t\tthrow new Error('Invalid Sui address');\n\t\t}\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getAllBalances',\n\t\t\tparams: [input.owner],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Fetch CoinMetadata for a given coin type\n\t */\n\tasync getCoinMetadata({ coinType, signal }: GetCoinMetadataParams): Promise<CoinMetadata | null> {\n\t\tif (coinType && hasMvrName(coinType)) {\n\t\t\tcoinType = (\n\t\t\t\tawait this.core.mvr.resolveType({\n\t\t\t\t\ttype: coinType,\n\t\t\t\t})\n\t\t\t).type;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getCoinMetadata',\n\t\t\tparams: [coinType],\n\t\t\tsignal: signal,\n\t\t});\n\t}\n\n\t/**\n\t *  Fetch total supply for a coin\n\t */\n\tasync getTotalSupply({ coinType, signal }: GetTotalSupplyParams): Promise<CoinSupply> {\n\t\tif (coinType && hasMvrName(coinType)) {\n\t\t\tcoinType = (\n\t\t\t\tawait this.core.mvr.resolveType({\n\t\t\t\t\ttype: coinType,\n\t\t\t\t})\n\t\t\t).type;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getTotalSupply',\n\t\t\tparams: [coinType],\n\t\t\tsignal: signal,\n\t\t});\n\t}\n\n\t/**\n\t * Invoke any RPC method\n\t * @param method the method to be invoked\n\t * @param args the arguments to be passed to the RPC request\n\t */\n\tasync call<T = unknown>(\n\t\tmethod: string,\n\t\tparams: unknown[],\n\t\t{ signal }: { signal?: AbortSignal } = {},\n\t): Promise<T> {\n\t\treturn await this.transport.request({ method, params, signal });\n\t}\n\n\t/**\n\t * Get Move function argument types like read, write and full access\n\t */\n\tasync getMoveFunctionArgTypes({\n\t\tpackage: pkg,\n\t\tmodule,\n\t\tfunction: fn,\n\t\tsignal,\n\t}: GetMoveFunctionArgTypesParams): Promise<SuiMoveFunctionArgType[]> {\n\t\tif (pkg && isValidNamedPackage(pkg)) {\n\t\t\tpkg = (\n\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\tpackage: pkg,\n\t\t\t\t})\n\t\t\t).package;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getMoveFunctionArgTypes',\n\t\t\tparams: [pkg, module, fn],\n\t\t\tsignal: signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get a map from module name to\n\t * structured representations of Move modules\n\t */\n\tasync getNormalizedMoveModulesByPackage({\n\t\tpackage: pkg,\n\t\tsignal,\n\t}: GetNormalizedMoveModulesByPackageParams): Promise<SuiMoveNormalizedModules> {\n\t\tif (pkg && isValidNamedPackage(pkg)) {\n\t\t\tpkg = (\n\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\tpackage: pkg,\n\t\t\t\t})\n\t\t\t).package;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getNormalizedMoveModulesByPackage',\n\t\t\tparams: [pkg],\n\t\t\tsignal: signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get a structured representation of Move module\n\t */\n\tasync getNormalizedMoveModule({\n\t\tpackage: pkg,\n\t\tmodule,\n\t\tsignal,\n\t}: GetNormalizedMoveModuleParams): Promise<SuiMoveNormalizedModule> {\n\t\tif (pkg && isValidNamedPackage(pkg)) {\n\t\t\tpkg = (\n\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\tpackage: pkg,\n\t\t\t\t})\n\t\t\t).package;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getNormalizedMoveModule',\n\t\t\tparams: [pkg, module],\n\t\t\tsignal: signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get a structured representation of Move function\n\t */\n\tasync getNormalizedMoveFunction({\n\t\tpackage: pkg,\n\t\tmodule,\n\t\tfunction: fn,\n\t\tsignal,\n\t}: GetNormalizedMoveFunctionParams): Promise<SuiMoveNormalizedFunction> {\n\t\tif (pkg && isValidNamedPackage(pkg)) {\n\t\t\tpkg = (\n\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\tpackage: pkg,\n\t\t\t\t})\n\t\t\t).package;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getNormalizedMoveFunction',\n\t\t\tparams: [pkg, module, fn],\n\t\t\tsignal: signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get a structured representation of Move struct\n\t */\n\tasync getNormalizedMoveStruct({\n\t\tpackage: pkg,\n\t\tmodule,\n\t\tstruct,\n\t\tsignal,\n\t}: GetNormalizedMoveStructParams): Promise<SuiMoveNormalizedStruct> {\n\t\tif (pkg && isValidNamedPackage(pkg)) {\n\t\t\tpkg = (\n\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\tpackage: pkg,\n\t\t\t\t})\n\t\t\t).package;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getNormalizedMoveStruct',\n\t\t\tparams: [pkg, module, struct],\n\t\t\tsignal: signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get all objects owned by an address\n\t */\n\tasync getOwnedObjects(input: GetOwnedObjectsParams): Promise<PaginatedObjectsResponse> {\n\t\tif (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n\t\t\tthrow new Error('Invalid Sui address');\n\t\t}\n\n\t\tconst filter = input.filter\n\t\t\t? {\n\t\t\t\t\t...input.filter,\n\t\t\t\t}\n\t\t\t: undefined;\n\n\t\tif (filter && 'MoveModule' in filter && isValidNamedPackage(filter.MoveModule.package)) {\n\t\t\tfilter.MoveModule = {\n\t\t\t\tmodule: filter.MoveModule.module,\n\t\t\t\tpackage: (\n\t\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\t\tpackage: filter.MoveModule.package,\n\t\t\t\t\t})\n\t\t\t\t).package,\n\t\t\t};\n\t\t} else if (filter && 'StructType' in filter && hasMvrName(filter.StructType)) {\n\t\t\tfilter.StructType = (\n\t\t\t\tawait this.core.mvr.resolveType({\n\t\t\t\t\ttype: filter.StructType,\n\t\t\t\t})\n\t\t\t).type;\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getOwnedObjects',\n\t\t\tparams: [\n\t\t\t\tinput.owner,\n\t\t\t\t{\n\t\t\t\t\tfilter,\n\t\t\t\t\toptions: input.options,\n\t\t\t\t} as SuiObjectResponseQuery,\n\t\t\t\tinput.cursor,\n\t\t\t\tinput.limit,\n\t\t\t],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get details about an object\n\t */\n\tasync getObject(input: GetObjectParams): Promise<SuiObjectResponse> {\n\t\tif (!input.id || !isValidSuiObjectId(normalizeSuiObjectId(input.id))) {\n\t\t\tthrow new Error('Invalid Sui Object id');\n\t\t}\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getObject',\n\t\t\tparams: [input.id, input.options],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\tasync tryGetPastObject(input: TryGetPastObjectParams): Promise<ObjectRead> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_tryGetPastObject',\n\t\t\tparams: [input.id, input.version, input.options],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Batch get details about a list of objects. If any of the object ids are duplicates the call will fail\n\t */\n\tasync multiGetObjects(input: MultiGetObjectsParams): Promise<SuiObjectResponse[]> {\n\t\tinput.ids.forEach((id) => {\n\t\t\tif (!id || !isValidSuiObjectId(normalizeSuiObjectId(id))) {\n\t\t\t\tthrow new Error(`Invalid Sui Object id ${id}`);\n\t\t\t}\n\t\t});\n\t\tconst hasDuplicates = input.ids.length !== new Set(input.ids).size;\n\t\tif (hasDuplicates) {\n\t\t\tthrow new Error(`Duplicate object ids in batch call ${input.ids}`);\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_multiGetObjects',\n\t\t\tparams: [input.ids, input.options],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get transaction blocks for a given query criteria\n\t */\n\tasync queryTransactionBlocks({\n\t\tfilter,\n\t\toptions,\n\t\tcursor,\n\t\tlimit,\n\t\torder,\n\t\tsignal,\n\t}: QueryTransactionBlocksParams): Promise<PaginatedTransactionResponse> {\n\t\tif (filter && 'MoveFunction' in filter && isValidNamedPackage(filter.MoveFunction.package)) {\n\t\t\tfilter = {\n\t\t\t\t...filter,\n\t\t\t\tMoveFunction: {\n\t\t\t\t\tpackage: (\n\t\t\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\t\t\tpackage: filter.MoveFunction.package,\n\t\t\t\t\t\t})\n\t\t\t\t\t).package,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_queryTransactionBlocks',\n\t\t\tparams: [\n\t\t\t\t{\n\t\t\t\t\tfilter,\n\t\t\t\t\toptions,\n\t\t\t\t} as SuiTransactionBlockResponseQuery,\n\t\t\t\tcursor,\n\t\t\t\tlimit,\n\t\t\t\t(order || 'descending') === 'descending',\n\t\t\t],\n\t\t\tsignal,\n\t\t});\n\t}\n\n\tasync getTransactionBlock(\n\t\tinput: GetTransactionBlockParams,\n\t): Promise<SuiTransactionBlockResponse> {\n\t\tif (!isValidTransactionDigest(input.digest)) {\n\t\t\tthrow new Error('Invalid Transaction digest');\n\t\t}\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getTransactionBlock',\n\t\t\tparams: [input.digest, input.options],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\tasync multiGetTransactionBlocks(\n\t\tinput: MultiGetTransactionBlocksParams,\n\t): Promise<SuiTransactionBlockResponse[]> {\n\t\tinput.digests.forEach((d) => {\n\t\t\tif (!isValidTransactionDigest(d)) {\n\t\t\t\tthrow new Error(`Invalid Transaction digest ${d}`);\n\t\t\t}\n\t\t});\n\n\t\tconst hasDuplicates = input.digests.length !== new Set(input.digests).size;\n\t\tif (hasDuplicates) {\n\t\t\tthrow new Error(`Duplicate digests in batch call ${input.digests}`);\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_multiGetTransactionBlocks',\n\t\t\tparams: [input.digests, input.options],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\tasync executeTransactionBlock({\n\t\ttransactionBlock,\n\t\tsignature,\n\t\toptions,\n\t\tsignal,\n\t}: ExecuteTransactionBlockParams): Promise<SuiTransactionBlockResponse> {\n\t\tconst result: SuiTransactionBlockResponse = await this.transport.request({\n\t\t\tmethod: 'sui_executeTransactionBlock',\n\t\t\tparams: [\n\t\t\t\ttypeof transactionBlock === 'string' ? transactionBlock : toBase64(transactionBlock),\n\t\t\t\tArray.isArray(signature) ? signature : [signature],\n\t\t\t\toptions,\n\t\t\t],\n\t\t\tsignal,\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tasync signAndExecuteTransaction({\n\t\ttransaction,\n\t\tsigner,\n\t\t...input\n\t}: {\n\t\ttransaction: Uint8Array | Transaction;\n\t\tsigner: Signer;\n\t} & Omit<\n\t\tExecuteTransactionBlockParams,\n\t\t'transactionBlock' | 'signature'\n\t>): Promise<SuiTransactionBlockResponse> {\n\t\tlet transactionBytes;\n\n\t\tif (transaction instanceof Uint8Array) {\n\t\t\ttransactionBytes = transaction;\n\t\t} else {\n\t\t\ttransaction.setSenderIfNotSet(signer.toSuiAddress());\n\t\t\ttransactionBytes = await transaction.build({ client: this });\n\t\t}\n\n\t\tconst { signature, bytes } = await signer.signTransaction(transactionBytes);\n\n\t\treturn this.executeTransactionBlock({\n\t\t\ttransactionBlock: bytes,\n\t\t\tsignature,\n\t\t\t...input,\n\t\t});\n\t}\n\n\t/**\n\t * Get total number of transactions\n\t */\n\n\tasync getTotalTransactionBlocks({ signal }: { signal?: AbortSignal } = {}): Promise<bigint> {\n\t\tconst resp = await this.transport.request<string>({\n\t\t\tmethod: 'sui_getTotalTransactionBlocks',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t\treturn BigInt(resp);\n\t}\n\n\t/**\n\t * Getting the reference gas price for the network\n\t */\n\tasync getReferenceGasPrice({ signal }: GetReferenceGasPriceParams = {}): Promise<bigint> {\n\t\tconst resp = await this.transport.request<string>({\n\t\t\tmethod: 'suix_getReferenceGasPrice',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t\treturn BigInt(resp);\n\t}\n\n\t/**\n\t * Return the delegated stakes for an address\n\t */\n\tasync getStakes(input: GetStakesParams): Promise<DelegatedStake[]> {\n\t\tif (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n\t\t\tthrow new Error('Invalid Sui address');\n\t\t}\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getStakes',\n\t\t\tparams: [input.owner],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Return the delegated stakes queried by id.\n\t */\n\tasync getStakesByIds(input: GetStakesByIdsParams): Promise<DelegatedStake[]> {\n\t\tinput.stakedSuiIds.forEach((id) => {\n\t\t\tif (!id || !isValidSuiObjectId(normalizeSuiObjectId(id))) {\n\t\t\t\tthrow new Error(`Invalid Sui Stake id ${id}`);\n\t\t\t}\n\t\t});\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getStakesByIds',\n\t\t\tparams: [input.stakedSuiIds],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Return the latest system state content.\n\t */\n\tasync getLatestSuiSystemState({\n\t\tsignal,\n\t}: GetLatestSuiSystemStateParams = {}): Promise<SuiSystemStateSummary> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getLatestSuiSystemState',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t}\n\n\t/**\n\t * Get events for a given query criteria\n\t */\n\tasync queryEvents({\n\t\tquery,\n\t\tcursor,\n\t\tlimit,\n\t\torder,\n\t\tsignal,\n\t}: QueryEventsParams): Promise<PaginatedEvents> {\n\t\tif (query && 'MoveEventType' in query && hasMvrName(query.MoveEventType)) {\n\t\t\tquery = {\n\t\t\t\t...query,\n\t\t\t\tMoveEventType: (\n\t\t\t\t\tawait this.core.mvr.resolveType({\n\t\t\t\t\t\ttype: query.MoveEventType,\n\t\t\t\t\t})\n\t\t\t\t).type,\n\t\t\t};\n\t\t}\n\n\t\tif (query && 'MoveEventModule' in query && isValidNamedPackage(query.MoveEventModule.package)) {\n\t\t\tquery = {\n\t\t\t\t...query,\n\t\t\t\tMoveEventModule: {\n\t\t\t\t\tmodule: query.MoveEventModule.module,\n\t\t\t\t\tpackage: (\n\t\t\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\t\t\tpackage: query.MoveEventModule.package,\n\t\t\t\t\t\t})\n\t\t\t\t\t).package,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tif ('MoveModule' in query && isValidNamedPackage(query.MoveModule.package)) {\n\t\t\tquery = {\n\t\t\t\t...query,\n\t\t\t\tMoveModule: {\n\t\t\t\t\tmodule: query.MoveModule.module,\n\t\t\t\t\tpackage: (\n\t\t\t\t\t\tawait this.core.mvr.resolvePackage({\n\t\t\t\t\t\t\tpackage: query.MoveModule.package,\n\t\t\t\t\t\t})\n\t\t\t\t\t).package,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_queryEvents',\n\t\t\tparams: [query, cursor, limit, (order || 'descending') === 'descending'],\n\t\t\tsignal,\n\t\t});\n\t}\n\n\t/**\n\t * Runs the transaction block in dev-inspect mode. Which allows for nearly any\n\t * transaction (or Move call) with any arguments. Detailed results are\n\t * provided, including both the transaction effects and any return values.\n\t */\n\tasync devInspectTransactionBlock(\n\t\tinput: DevInspectTransactionBlockParams,\n\t): Promise<DevInspectResults> {\n\t\tlet devInspectTxBytes;\n\t\tif (isTransaction(input.transactionBlock)) {\n\t\t\tinput.transactionBlock.setSenderIfNotSet(input.sender);\n\t\t\tdevInspectTxBytes = toBase64(\n\t\t\t\tawait input.transactionBlock.build({\n\t\t\t\t\tclient: this,\n\t\t\t\t\tonlyTransactionKind: true,\n\t\t\t\t}),\n\t\t\t);\n\t\t} else if (typeof input.transactionBlock === 'string') {\n\t\t\tdevInspectTxBytes = input.transactionBlock;\n\t\t} else if (input.transactionBlock instanceof Uint8Array) {\n\t\t\tdevInspectTxBytes = toBase64(input.transactionBlock);\n\t\t} else {\n\t\t\tthrow new Error('Unknown transaction block format.');\n\t\t}\n\n\t\tinput.signal?.throwIfAborted();\n\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_devInspectTransactionBlock',\n\t\t\tparams: [input.sender, devInspectTxBytes, input.gasPrice?.toString(), input.epoch],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Dry run a transaction block and return the result.\n\t */\n\tasync dryRunTransactionBlock(\n\t\tinput: DryRunTransactionBlockParams,\n\t): Promise<DryRunTransactionBlockResponse> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_dryRunTransactionBlock',\n\t\t\tparams: [\n\t\t\t\ttypeof input.transactionBlock === 'string'\n\t\t\t\t\t? input.transactionBlock\n\t\t\t\t\t: toBase64(input.transactionBlock),\n\t\t\t],\n\t\t});\n\t}\n\n\t/**\n\t * Return the list of dynamic field objects owned by an object\n\t */\n\tasync getDynamicFields(input: GetDynamicFieldsParams): Promise<DynamicFieldPage> {\n\t\tif (!input.parentId || !isValidSuiObjectId(normalizeSuiObjectId(input.parentId))) {\n\t\t\tthrow new Error('Invalid Sui Object id');\n\t\t}\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getDynamicFields',\n\t\t\tparams: [input.parentId, input.cursor, input.limit],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Return the dynamic field object information for a specified object\n\t */\n\tasync getDynamicFieldObject(input: GetDynamicFieldObjectParams): Promise<SuiObjectResponse> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getDynamicFieldObject',\n\t\t\tparams: [input.parentId, input.name],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Get the sequence number of the latest checkpoint that has been executed\n\t */\n\tasync getLatestCheckpointSequenceNumber({\n\t\tsignal,\n\t}: GetLatestCheckpointSequenceNumberParams = {}): Promise<string> {\n\t\tconst resp = await this.transport.request({\n\t\t\tmethod: 'sui_getLatestCheckpointSequenceNumber',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t\treturn String(resp);\n\t}\n\n\t/**\n\t * Returns information about a given checkpoint\n\t */\n\tasync getCheckpoint(input: GetCheckpointParams): Promise<Checkpoint> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getCheckpoint',\n\t\t\tparams: [input.id],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Returns historical checkpoints paginated\n\t */\n\tasync getCheckpoints(\n\t\tinput: PaginationArguments<CheckpointPage['nextCursor']> & GetCheckpointsParams,\n\t): Promise<CheckpointPage> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getCheckpoints',\n\t\t\tparams: [input.cursor, input?.limit, input.descendingOrder],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Return the committee information for the asked epoch\n\t */\n\tasync getCommitteeInfo(input?: GetCommitteeInfoParams): Promise<CommitteeInfo> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getCommitteeInfo',\n\t\t\tparams: [input?.epoch],\n\t\t\tsignal: input?.signal,\n\t\t});\n\t}\n\n\tasync getNetworkMetrics({ signal }: { signal?: AbortSignal } = {}): Promise<NetworkMetrics> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getNetworkMetrics',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t}\n\n\tasync getAddressMetrics({ signal }: { signal?: AbortSignal } = {}): Promise<AddressMetrics> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getLatestAddressMetrics',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t}\n\n\tasync getEpochMetrics(\n\t\tinput?: {\n\t\t\tdescendingOrder?: boolean;\n\t\t\tsignal?: AbortSignal;\n\t\t} & PaginationArguments<EpochMetricsPage['nextCursor']>,\n\t): Promise<EpochMetricsPage> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getEpochMetrics',\n\t\t\tparams: [input?.cursor, input?.limit, input?.descendingOrder],\n\t\t\tsignal: input?.signal,\n\t\t});\n\t}\n\n\tasync getAllEpochAddressMetrics(input?: {\n\t\tdescendingOrder?: boolean;\n\t\tsignal?: AbortSignal;\n\t}): Promise<AllEpochsAddressMetrics> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getAllEpochAddressMetrics',\n\t\t\tparams: [input?.descendingOrder],\n\t\t\tsignal: input?.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Return the committee information for the asked epoch\n\t */\n\tasync getEpochs(\n\t\tinput?: {\n\t\t\tdescendingOrder?: boolean;\n\t\t\tsignal?: AbortSignal;\n\t\t} & PaginationArguments<EpochPage['nextCursor']>,\n\t): Promise<EpochPage> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getEpochs',\n\t\t\tparams: [input?.cursor, input?.limit, input?.descendingOrder],\n\t\t\tsignal: input?.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Returns list of top move calls by usage\n\t */\n\tasync getMoveCallMetrics({ signal }: { signal?: AbortSignal } = {}): Promise<MoveCallMetrics> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getMoveCallMetrics',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t}\n\n\t/**\n\t * Return the committee information for the asked epoch\n\t */\n\tasync getCurrentEpoch({ signal }: { signal?: AbortSignal } = {}): Promise<EpochInfo> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getCurrentEpoch',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t}\n\n\t/**\n\t * Return the Validators APYs\n\t */\n\tasync getValidatorsApy({ signal }: { signal?: AbortSignal } = {}): Promise<ValidatorsApy> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_getValidatorsApy',\n\t\t\tparams: [],\n\t\t\tsignal,\n\t\t});\n\t}\n\n\t// TODO: Migrate this to `sui_getChainIdentifier` once it is widely available.\n\tasync getChainIdentifier({ signal }: { signal?: AbortSignal } = {}): Promise<string> {\n\t\tconst checkpoint = await this.getCheckpoint({ id: '0', signal });\n\t\tconst bytes = fromBase58(checkpoint.digest);\n\t\treturn toHex(bytes.slice(0, 4));\n\t}\n\n\tasync resolveNameServiceAddress(input: ResolveNameServiceAddressParams): Promise<string | null> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'suix_resolveNameServiceAddress',\n\t\t\tparams: [input.name],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\tasync resolveNameServiceNames({\n\t\tformat = 'dot',\n\t\t...input\n\t}: ResolveNameServiceNamesParams & {\n\t\tformat?: 'at' | 'dot';\n\t}): Promise<ResolvedNameServiceNames> {\n\t\tconst { nextCursor, hasNextPage, data }: ResolvedNameServiceNames =\n\t\t\tawait this.transport.request({\n\t\t\t\tmethod: 'suix_resolveNameServiceNames',\n\t\t\t\tparams: [input.address, input.cursor, input.limit],\n\t\t\t\tsignal: input.signal,\n\t\t\t});\n\n\t\treturn {\n\t\t\thasNextPage,\n\t\t\tnextCursor,\n\t\t\tdata: data.map((name) => normalizeSuiNSName(name, format)),\n\t\t};\n\t}\n\n\tasync getProtocolConfig(input?: GetProtocolConfigParams): Promise<ProtocolConfig> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_getProtocolConfig',\n\t\t\tparams: [input?.version],\n\t\t\tsignal: input?.signal,\n\t\t});\n\t}\n\n\tasync verifyZkLoginSignature(input: VerifyZkLoginSignatureParams): Promise<ZkLoginVerifyResult> {\n\t\treturn await this.transport.request({\n\t\t\tmethod: 'sui_verifyZkLoginSignature',\n\t\t\tparams: [input.bytes, input.signature, input.intentScope, input.author],\n\t\t\tsignal: input.signal,\n\t\t});\n\t}\n\n\t/**\n\t * Wait for a transaction block result to be available over the API.\n\t * This can be used in conjunction with `executeTransactionBlock` to wait for the transaction to\n\t * be available via the API.\n\t * This currently polls the `getTransactionBlock` API to check for the transaction.\n\t */\n\tasync waitForTransaction({\n\t\tsignal,\n\t\ttimeout = 60 * 1000,\n\t\tpollInterval = 2 * 1000,\n\t\t...input\n\t}: {\n\t\t/** An optional abort signal that can be used to cancel */\n\t\tsignal?: AbortSignal;\n\t\t/** The amount of time to wait for a transaction block. Defaults to one minute. */\n\t\ttimeout?: number;\n\t\t/** The amount of time to wait between checks for the transaction block. Defaults to 2 seconds. */\n\t\tpollInterval?: number;\n\t} & Parameters<\n\t\tSuiJsonRpcClient['getTransactionBlock']\n\t>[0]): Promise<SuiTransactionBlockResponse> {\n\t\tconst timeoutSignal = AbortSignal.timeout(timeout);\n\t\tconst timeoutPromise = new Promise((_, reject) => {\n\t\t\ttimeoutSignal.addEventListener('abort', () => reject(timeoutSignal.reason));\n\t\t});\n\n\t\ttimeoutPromise.catch(() => {\n\t\t\t// Swallow unhandled rejections that might be thrown after early return\n\t\t});\n\n\t\twhile (!timeoutSignal.aborted) {\n\t\t\tsignal?.throwIfAborted();\n\t\t\ttry {\n\t\t\t\treturn await this.getTransactionBlock(input);\n\t\t\t} catch {\n\t\t\t\t// Wait for either the next poll interval, or the timeout.\n\t\t\t\tawait Promise.race([\n\t\t\t\t\tnew Promise((resolve) => setTimeout(resolve, pollInterval)),\n\t\t\t\t\ttimeoutPromise,\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\n\t\ttimeoutSignal.throwIfAborted();\n\n\t\t// This should never happen, because the above case should always throw, but just adding it in the event that something goes horribly wrong.\n\t\tthrow new Error('Unexpected error while waiting for transaction block.');\n\t}\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA,MAAM,mBAAmB,OAAO,GAAA,CAAI,2BAA2B;AAI/D,MAAM,yBAAyB,IAAI,WAAW;IAC7C;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAC1F;IAAM;IAAM;IAAM;CAClB,CAAC;;;;;GAOF,SAAS,wBAAwB,YAAA,EAA+B;IAI/D,WAHoB,kKAAA,EAAW,aAAa,CAEZ,KAAA,CAAM,IAAI,GAAG,CAC1B,KAAA,CAAA,CAAO,MAAM,IAAM,SAAS,sBAAA,CAAuB,EAAA,CAAG;;AAG1E,SAAgB,mBAAmB,MAAA,EAA6C;IAC/E,OACC,OAAO,WAAW,YAAY,WAAW,QAAS,MAAA,CAAe,iBAAA,KAAsB;;AAIzF,IAAa,mBAAb,cAAsC,6KAAA,CAAW;IAKhD,IAAA,CAAK,iBAAA,GAAoB;QACxB,OAAO;;;;;;IAQR,YAAY,OAAA,CAAkC;QAC7C,KAAA,CAAM;YAAE,SAAS,QAAQ,OAAA;QAAA,CAAS,CAAC;uBAb1B,IAAA;QAcT,IAAA,CAAK,SAAA,GAAY,QAAQ,SAAA,IAAa,IAAI,mMAAA,CAAqB;YAAE,KAAK,QAAQ,GAAA;QAAA,CAAK,CAAC;QACpF,IAAA,CAAK,IAAA,GAAO,IAAI,mLAAA,CAAkB;YACjC,eAAe,IAAA;YACf,KAAK,QAAQ,GAAA;SACb,CAAC;;IAGH,MAAM,iBAAiB,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAA+B;QAO9F,OAAA,CANa,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAuC;YACxE,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC,EAEU,IAAA,CAAK,OAAA;;;;IAMlB,MAAM,SAAS,EACd,QAAA,EACA,KAAA,EACA,MAAA,EACA,KAAA,EACA,MAAA,EAAA,EAC2C;QAC3C,IAAI,CAAC,SAAS,KAAC,yLAAA,MAAkB,2LAAA,EAAoB,MAAM,CAAC,CAC3D,CAAA,MAAM,IAAI,MAAM,sBAAsB;QAGvC,IAAI,gBAAY,0KAAA,EAAW,SAAS,CACnC,CAAA,WAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,WAAA,CAAY;YAC/B,MAAM;QAAA,CACN,CAAC,EACD,IAAA;QAGH,MAAM,SAAyB,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YAC3D,QAAQ;YACR,QAAQ;gBAAC;gBAAO;gBAAU;gBAAQ;aAAM;YAChC;SACR,CAAC;QAEF,OAAO;YACN,GAAG,MAAA;YACH,MAAM,OAAO,IAAA,CAAK,MAAA,CAAA,CAAQ,OAAS,CAAC,wBAAwB,KAAK,MAAA,CAAO,CAAC;SACzE;;;;IAMF,MAAM,YAAY,KAAA,EAAmD;QACpE,IAAI,CAAC,MAAM,KAAA,IAAS,KAAC,yLAAA,MAAkB,2LAAA,EAAoB,MAAM,KAAA,CAAM,CAAC,CACvE,CAAA,MAAM,IAAI,MAAM,sBAAsB;QAGvC,MAAM,SAAyB,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YAC3D,QAAQ;YACR,QAAQ;gBAAC,MAAM,KAAA;gBAAO,MAAM,MAAA;gBAAQ,MAAM,KAAA;aAAM;YAChD,QAAQ,MAAM,MAAA;SACd,CAAC;QAEF,OAAO;YACN,GAAG,MAAA;YACH,MAAM,OAAO,IAAA,CAAK,MAAA,CAAA,CAAQ,OAAS,CAAC,wBAAwB,KAAK,MAAA,CAAO,CAAC;SACzE;;;;IAMF,MAAM,WAAW,EAAE,KAAA,EAAO,QAAA,EAAU,MAAA,EAAA,EAAkD;QACrF,IAAI,CAAC,SAAS,KAAC,yLAAA,MAAkB,2LAAA,EAAoB,MAAM,CAAC,CAC3D,CAAA,MAAM,IAAI,MAAM,sBAAsB;QAGvC,IAAI,gBAAY,0KAAA,EAAW,SAAS,CACnC,CAAA,WAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,WAAA,CAAY;YAC/B,MAAM;QAAA,CACN,CAAC,EACD,IAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;gBAAO;aAAS;YACjB;SACR,CAAC;;;;IAMH,MAAM,eAAe,KAAA,EAAqD;QACzE,IAAI,CAAC,MAAM,KAAA,IAAS,KAAC,yLAAA,MAAkB,2LAAA,EAAoB,MAAM,KAAA,CAAM,CAAC,CACvE,CAAA,MAAM,IAAI,MAAM,sBAAsB;QAEvC,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,KAAA;aAAM;YACrB,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,gBAAgB,EAAE,QAAA,EAAU,MAAA,EAAA,EAA+D;QAChG,IAAI,gBAAY,0KAAA,EAAW,SAAS,CACnC,CAAA,WAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,WAAA,CAAY;YAC/B,MAAM;QAAA,CACN,CAAC,EACD,IAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;aAAS;YACV;SACR,CAAC;;;;IAMH,MAAM,eAAe,EAAE,QAAA,EAAU,MAAA,EAAA,EAAqD;QACrF,IAAI,gBAAY,0KAAA,EAAW,SAAS,CACnC,CAAA,WAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,WAAA,CAAY;YAC/B,MAAM;QAAA,CACN,CAAC,EACD,IAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;aAAS;YACV;SACR,CAAC;;;;;;IAQH,MAAM,KACL,MAAA,EACA,MAAA,EACA,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAC5B;QACb,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YAAE;YAAQ;YAAQ;SAAQ,CAAC;;;;IAMhE,MAAM,wBAAwB,EAC7B,SAAS,GAAA,EACT,MAAA,EACA,UAAU,EAAA,EACV,MAAA,EAAA,EACoE;QACpE,IAAI,WAAO,+LAAA,EAAoB,IAAI,CAClC,CAAA,MAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;YAClC,SAAS;QAAA,CACT,CAAC,EACD,OAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;gBAAK;gBAAQ;aAAG;YACjB;SACR,CAAC;;;;;IAOH,MAAM,kCAAkC,EACvC,SAAS,GAAA,EACT,MAAA,EAAA,EAC8E;QAC9E,IAAI,WAAO,+LAAA,EAAoB,IAAI,CAClC,CAAA,MAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;YAClC,SAAS;QAAA,CACT,CAAC,EACD,OAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;aAAI;YACL;SACR,CAAC;;;;IAMH,MAAM,wBAAwB,EAC7B,SAAS,GAAA,EACT,MAAA,EACA,MAAA,EAAA,EACmE;QACnE,IAAI,WAAO,+LAAA,EAAoB,IAAI,CAClC,CAAA,MAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;YAClC,SAAS;QAAA,CACT,CAAC,EACD,OAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;gBAAK;aAAO;YACb;SACR,CAAC;;;;IAMH,MAAM,0BAA0B,EAC/B,SAAS,GAAA,EACT,MAAA,EACA,UAAU,EAAA,EACV,MAAA,EAAA,EACuE;QACvE,IAAI,WAAO,+LAAA,EAAoB,IAAI,CAClC,CAAA,MAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;YAClC,SAAS;QAAA,CACT,CAAC,EACD,OAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;gBAAK;gBAAQ;aAAG;YACjB;SACR,CAAC;;;;IAMH,MAAM,wBAAwB,EAC7B,SAAS,GAAA,EACT,MAAA,EACA,MAAA,EACA,MAAA,EAAA,EACmE;QACnE,IAAI,WAAO,+LAAA,EAAoB,IAAI,CAClC,CAAA,MAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;YAClC,SAAS;QAAA,CACT,CAAC,EACD,OAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;gBAAK;gBAAQ;aAAO;YACrB;SACR,CAAC;;;;IAMH,MAAM,gBAAgB,KAAA,EAAiE;QACtF,IAAI,CAAC,MAAM,KAAA,IAAS,KAAC,yLAAA,MAAkB,2LAAA,EAAoB,MAAM,KAAA,CAAM,CAAC,CACvE,CAAA,MAAM,IAAI,MAAM,sBAAsB;QAGvC,MAAM,SAAS,MAAM,MAAA,GAClB;YACA,GAAG,MAAM,MAAA;QAAA,CACT,GACA,KAAA;QAEH,IAAI,UAAU,gBAAgB,cAAU,+LAAA,EAAoB,OAAO,UAAA,CAAW,OAAA,CAAQ,CACrF,CAAA,OAAO,UAAA,GAAa;YACnB,QAAQ,OAAO,UAAA,CAAW,MAAA;YAC1B,SAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;gBAClC,SAAS,OAAO,UAAA,CAAW,OAAA;YAAA,CAC3B,CAAC,EACD,OAAA;SACF;iBACS,UAAU,gBAAgB,cAAU,0KAAA,EAAW,OAAO,UAAA,CAAW,CAC3E,CAAA,OAAO,UAAA,GAAA,CACN,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,WAAA,CAAY;YAC/B,MAAM,OAAO,UAAA;QAAA,CACb,CAAC,EACD,IAAA;QAGH,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBACP,MAAM,KAAA;gBACN;oBACC;oBACA,SAAS,MAAM,OAAA;iBACf;gBACD,MAAM,MAAA;gBACN,MAAM,KAAA;aACN;YACD,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,UAAU,KAAA,EAAoD;QACnE,IAAI,CAAC,MAAM,EAAA,IAAM,KAAC,0LAAA,MAAmB,4LAAA,EAAqB,MAAM,EAAA,CAAG,CAAC,CACnE,CAAA,MAAM,IAAI,MAAM,wBAAwB;QAEzC,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,EAAA;gBAAI,MAAM,OAAA;aAAQ;YACjC,QAAQ,MAAM,MAAA;SACd,CAAC;;IAGH,MAAM,iBAAiB,KAAA,EAAoD;QAC1E,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,EAAA;gBAAI,MAAM,OAAA;gBAAS,MAAM,OAAA;aAAQ;YAChD,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,gBAAgB,KAAA,EAA4D;QACjF,MAAM,GAAA,CAAI,OAAA,CAAA,CAAS,OAAO;YACzB,IAAI,CAAC,MAAM,KAAC,0LAAA,MAAmB,4LAAA,EAAqB,GAAG,CAAC,CACvD,CAAA,MAAM,IAAI,MAAM,CAAA,sBAAA,EAAyB,IAAA,CAAK;UAE9C;QAEF,IADsB,MAAM,GAAA,CAAI,MAAA,KAAW,IAAI,IAAI,MAAM,GAAA,CAAI,CAAC,IAAA,CAE7D,CAAA,MAAM,IAAI,MAAM,CAAA,mCAAA,EAAsC,MAAM,GAAA,EAAA,CAAM;QAGnE,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,GAAA;gBAAK,MAAM,OAAA;aAAQ;YAClC,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,uBAAuB,EAC5B,MAAA,EACA,OAAA,EACA,MAAA,EACA,KAAA,EACA,KAAA,EACA,MAAA,EAAA,EACuE;QACvE,IAAI,UAAU,kBAAkB,cAAU,+LAAA,EAAoB,OAAO,YAAA,CAAa,OAAA,CAAQ,CACzF,CAAA,SAAS;YACR,GAAG,MAAA;YACH,cAAc;gBACb,SAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;oBAClC,SAAS,OAAO,YAAA,CAAa,OAAA;gBAAA,CAC7B,CAAC,EACD,OAAA;YAAA,CACF;SACD;QAGF,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBACP;oBACC;oBACA;iBACA;gBACD;gBACA;iBACC,SAAS,YAAA,MAAkB;aAC5B;YACD;SACA,CAAC;;IAGH,MAAM,oBACL,KAAA,EACuC;QACvC,IAAI,KAAC,gMAAA,EAAyB,MAAM,MAAA,CAAO,CAC1C,CAAA,MAAM,IAAI,MAAM,6BAA6B;QAE9C,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,MAAA;gBAAQ,MAAM,OAAA;aAAQ;YACrC,QAAQ,MAAM,MAAA;SACd,CAAC;;IAGH,MAAM,0BACL,KAAA,EACyC;QACzC,MAAM,OAAA,CAAQ,OAAA,CAAA,CAAS,MAAM;YAC5B,IAAI,KAAC,gMAAA,EAAyB,EAAE,CAC/B,CAAA,MAAM,IAAI,MAAM,CAAA,2BAAA,EAA8B,GAAA,CAAI;UAElD;QAGF,IADsB,MAAM,OAAA,CAAQ,MAAA,KAAW,IAAI,IAAI,MAAM,OAAA,CAAQ,CAAC,IAAA,CAErE,CAAA,MAAM,IAAI,MAAM,CAAA,gCAAA,EAAmC,MAAM,OAAA,EAAA,CAAU;QAGpE,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,OAAA;gBAAS,MAAM,OAAA;aAAQ;YACtC,QAAQ,MAAM,MAAA;SACd,CAAC;;IAGH,MAAM,wBAAwB,EAC7B,gBAAA,EACA,SAAA,EACA,OAAA,EACA,MAAA,EAAA,EACuE;QAWvE,OAV4C,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACxE,QAAQ;YACR,QAAQ;gBACP,OAAO,qBAAqB,WAAW,uBAAmB,gKAAA,EAAS,iBAAiB;gBACpF,MAAM,OAAA,CAAQ,UAAU,GAAG,YAAY;oBAAC;iBAAU;gBAClD;aACA;YACD;SACA,CAAC;;IAKH,MAAM,0BAA0B,EAC/B,WAAA,EACA,MAAA,EACA,GAAG,OAAA,EAOqC;QACxC,IAAI;QAEJ,IAAI,uBAAuB,WAC1B,CAAA,mBAAmB;aACb;YACN,YAAY,iBAAA,CAAkB,OAAO,YAAA,EAAc,CAAC;YACpD,mBAAmB,MAAM,YAAY,KAAA,CAAM;gBAAE,QAAQ,IAAA;YAAA,CAAM,CAAC;;QAG7D,MAAM,EAAE,SAAA,EAAW,KAAA,EAAA,GAAU,MAAM,OAAO,eAAA,CAAgB,iBAAiB;QAE3E,OAAO,IAAA,CAAK,uBAAA,CAAwB;YACnC,kBAAkB;YAClB;YACA,GAAG,KAAA;SACH,CAAC;;;;IAOH,MAAM,0BAA0B,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAAmB;QAC3F,MAAM,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAgB;YACjD,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;QACF,OAAO,OAAO,KAAK;;;;IAMpB,MAAM,qBAAqB,EAAE,MAAA,EAAA,GAAuC,CAAA,CAAE,EAAmB;QACxF,MAAM,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAgB;YACjD,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;QACF,OAAO,OAAO,KAAK;;;;IAMpB,MAAM,UAAU,KAAA,EAAmD;QAClE,IAAI,CAAC,MAAM,KAAA,IAAS,KAAC,yLAAA,MAAkB,2LAAA,EAAoB,MAAM,KAAA,CAAM,CAAC,CACvE,CAAA,MAAM,IAAI,MAAM,sBAAsB;QAEvC,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,KAAA;aAAM;YACrB,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,eAAe,KAAA,EAAwD;QAC5E,MAAM,YAAA,CAAa,OAAA,CAAA,CAAS,OAAO;YAClC,IAAI,CAAC,MAAM,KAAC,0LAAA,MAAmB,4LAAA,EAAqB,GAAG,CAAC,CACvD,CAAA,MAAM,IAAI,MAAM,CAAA,qBAAA,EAAwB,IAAA,CAAK;UAE7C;QACF,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,YAAA;aAAa;YAC5B,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,wBAAwB,EAC7B,MAAA,EAAA,GACkC,CAAA,CAAE,EAAkC;QACtE,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;;;;IAMH,MAAM,YAAY,EACjB,KAAA,EACA,MAAA,EACA,KAAA,EACA,KAAA,EACA,MAAA,EAAA,EAC+C;QAC/C,IAAI,SAAS,mBAAmB,aAAS,0KAAA,EAAW,MAAM,aAAA,CAAc,CACvE,CAAA,QAAQ;YACP,GAAG,KAAA;YACH,eAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,WAAA,CAAY;gBAC/B,MAAM,MAAM,aAAA;YAAA,CACZ,CAAC,EACD,IAAA;SACF;QAGF,IAAI,SAAS,qBAAqB,aAAS,+LAAA,EAAoB,MAAM,eAAA,CAAgB,OAAA,CAAQ,CAC5F,CAAA,QAAQ;YACP,GAAG,KAAA;YACH,iBAAiB;gBAChB,QAAQ,MAAM,eAAA,CAAgB,MAAA;gBAC9B,SAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;oBAClC,SAAS,MAAM,eAAA,CAAgB,OAAA;gBAAA,CAC/B,CAAC,EACD,OAAA;aACF;SACD;QAGF,IAAI,gBAAgB,aAAS,+LAAA,EAAoB,MAAM,UAAA,CAAW,OAAA,CAAQ,CACzE,CAAA,QAAQ;YACP,GAAG,KAAA;YACH,YAAY;gBACX,QAAQ,MAAM,UAAA,CAAW,MAAA;gBACzB,SAAA,CACC,MAAM,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,cAAA,CAAe;oBAClC,SAAS,MAAM,UAAA,CAAW,OAAA;gBAAA,CAC1B,CAAC,EACD,OAAA;aACF;SACD;QAGF,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC;gBAAO;gBAAQ;iBAAQ,SAAS,YAAA,MAAkB;aAAa;YACxE;SACA,CAAC;;;;;;IAQH,MAAM,2BACL,KAAA,EAC6B;QAC7B,IAAI;QACJ,QAAI,2LAAA,EAAc,MAAM,gBAAA,CAAiB,EAAE;YAC1C,MAAM,gBAAA,CAAiB,iBAAA,CAAkB,MAAM,MAAA,CAAO;YACtD,wBAAoB,gKAAA,EACnB,MAAM,MAAM,gBAAA,CAAiB,KAAA,CAAM;gBAClC,QAAQ,IAAA;gBACR,qBAAqB;aACrB,CAAC,CACF;mBACS,OAAO,MAAM,gBAAA,KAAqB,SAC5C,CAAA,oBAAoB,MAAM,gBAAA;iBAChB,MAAM,gBAAA,YAA4B,WAC5C,CAAA,wBAAoB,gKAAA,EAAS,MAAM,gBAAA,CAAiB;aAEpD,MAAM,IAAI,MAAM,oCAAoC;QAGrD,MAAM,MAAA,EAAQ,gBAAgB;QAE9B,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,MAAA;gBAAQ;gBAAmB,MAAM,QAAA,EAAU,UAAU;gBAAE,MAAM,KAAA;aAAM;YAClF,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,uBACL,KAAA,EAC0C;QAC1C,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBACP,OAAO,MAAM,gBAAA,KAAqB,WAC/B,MAAM,gBAAA,OACN,gKAAA,EAAS,MAAM,gBAAA,CAAiB;aACnC;SACD,CAAC;;;;IAMH,MAAM,iBAAiB,KAAA,EAA0D;QAChF,IAAI,CAAC,MAAM,QAAA,IAAY,KAAC,0LAAA,MAAmB,4LAAA,EAAqB,MAAM,QAAA,CAAS,CAAC,CAC/E,CAAA,MAAM,IAAI,MAAM,wBAAwB;QAEzC,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,QAAA;gBAAU,MAAM,MAAA;gBAAQ,MAAM,KAAA;aAAM;YACnD,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,sBAAsB,KAAA,EAAgE;QAC3F,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,QAAA;gBAAU,MAAM,IAAA;aAAK;YACpC,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,kCAAkC,EACvC,MAAA,EAAA,GAC4C,CAAA,CAAE,EAAmB;QACjE,MAAM,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACzC,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;QACF,OAAO,OAAO,KAAK;;;;IAMpB,MAAM,cAAc,KAAA,EAAiD;QACpE,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,EAAA;aAAG;YAClB,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,eACL,KAAA,EAC0B;QAC1B,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,MAAA;gBAAQ,OAAO;gBAAO,MAAM,eAAA;aAAgB;YAC3D,QAAQ,MAAM,MAAA;SACd,CAAC;;;;IAMH,MAAM,iBAAiB,KAAA,EAAwD;QAC9E,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,OAAO;aAAM;YACtB,QAAQ,OAAO;SACf,CAAC;;IAGH,MAAM,kBAAkB,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAA2B;QAC3F,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;;IAGH,MAAM,kBAAkB,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAA2B;QAC3F,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;;IAGH,MAAM,gBACL,KAAA,EAI4B;QAC5B,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,OAAO;gBAAQ,OAAO;gBAAO,OAAO;aAAgB;YAC7D,QAAQ,OAAO;SACf,CAAC;;IAGH,MAAM,0BAA0B,KAAA,EAGK;QACpC,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,OAAO;aAAgB;YAChC,QAAQ,OAAO;SACf,CAAC;;;;IAMH,MAAM,UACL,KAAA,EAIqB;QACrB,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,OAAO;gBAAQ,OAAO;gBAAO,OAAO;aAAgB;YAC7D,QAAQ,OAAO;SACf,CAAC;;;;IAMH,MAAM,mBAAmB,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAA4B;QAC7F,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;;;;IAMH,MAAM,gBAAgB,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAAsB;QACpF,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;;;;IAMH,MAAM,iBAAiB,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAA0B;QACzF,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ,EAAE;YACV;SACA,CAAC;;IAIH,MAAM,mBAAmB,EAAE,MAAA,EAAA,GAAqC,CAAA,CAAE,EAAmB;QAGpF,WAAO,6JAAA,MADO,kKAAA,EAAA,CADK,MAAM,IAAA,CAAK,aAAA,CAAc;YAAE,IAAI;YAAK;SAAQ,CAAC,EAC5B,MAAA,CAAO,CACxB,KAAA,CAAM,GAAG,EAAE,CAAC;;IAGhC,MAAM,0BAA0B,KAAA,EAAgE;QAC/F,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,IAAA;aAAK;YACpB,QAAQ,MAAM,MAAA;SACd,CAAC;;IAGH,MAAM,wBAAwB,EAC7B,SAAS,KAAA,EACT,GAAG,OAAA,EAGkC;QACrC,MAAM,EAAE,UAAA,EAAY,WAAA,EAAa,IAAA,EAAA,GAChC,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YAC5B,QAAQ;YACR,QAAQ;gBAAC,MAAM,OAAA;gBAAS,MAAM,MAAA;gBAAQ,MAAM,KAAA;aAAM;YAClD,QAAQ,MAAM,MAAA;SACd,CAAC;QAEH,OAAO;YACN;YACA;YACA,MAAM,KAAK,GAAA,CAAA,CAAK,WAAS,mLAAA,EAAmB,MAAM,OAAO,CAAC;SAC1D;;IAGF,MAAM,kBAAkB,KAAA,EAA0D;QACjF,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,OAAO;aAAQ;YACxB,QAAQ,OAAO;SACf,CAAC;;IAGH,MAAM,uBAAuB,KAAA,EAAmE;QAC/F,OAAO,MAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ;YACnC,QAAQ;YACR,QAAQ;gBAAC,MAAM,KAAA;gBAAO,MAAM,SAAA;gBAAW,MAAM,WAAA;gBAAa,MAAM,MAAA;aAAO;YACvE,QAAQ,MAAM,MAAA;SACd,CAAC;;;;;;;IASH,MAAM,mBAAmB,EACxB,MAAA,EACA,UAAU,KAAK,GAAA,EACf,eAAe,IAAI,GAAA,EACnB,GAAG,OAAA,EAUwC;QAC3C,MAAM,gBAAgB,YAAY,OAAA,CAAQ,QAAQ;QAClD,MAAM,iBAAiB,IAAI,QAAA,CAAS,GAAG,WAAW;YACjD,cAAc,gBAAA,CAAiB,SAAA,IAAe,OAAO,cAAc,MAAA,CAAO,CAAC;UAC1E;QAEF,eAAe,KAAA,CAAA,KAAY,CAAA,CAEzB;QAEF,MAAO,CAAC,cAAc,OAAA,CAAS;YAC9B,QAAQ,gBAAgB;YACxB,IAAI;gBACH,OAAO,MAAM,IAAA,CAAK,mBAAA,CAAoB,MAAM;qBACrC;gBAEP,MAAM,QAAQ,IAAA,CAAK;oBAClB,IAAI,QAAA,CAAS,UAAY,WAAW,SAAS,aAAa,CAAC;oBAC3D;iBACA,CAAC;;;QAIJ,cAAc,cAAA,EAAgB;QAG9B,MAAM,IAAI,MAAM,wDAAwD"}},
    {"offset": {"line": 7176, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/cryptography/mnemonics.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/cryptography/mnemonics.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\nimport { toHex } from '@mysten/bcs';\nimport { mnemonicToSeedSync as bip39MnemonicToSeedSync } from '@scure/bip39';\n\n/**\n * Parse and validate a path that is compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n *\n * @param path path string (e.g. `m/44'/784'/0'/0'/0'`).\n */\nexport function isValidHardenedPath(path: string): boolean {\n\tif (!new RegExp(\"^m\\\\/44'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+'\\\\/[0-9]+'+$\").test(path)) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/**\n * Parse and validate a path that is compliant to BIP-32 in form m/54'/784'/{account_index}'/{change_index}/{address_index}\n * for Secp256k1 and m/74'/784'/{account_index}'/{change_index}/{address_index} for Secp256r1.\n *\n * Note that the purpose for Secp256k1 is registered as 54, to differentiate from Ed25519 with purpose 44.\n *\n * @param path path string (e.g. `m/54'/784'/0'/0/0`).\n */\nexport function isValidBIP32Path(path: string): boolean {\n\tif (!new RegExp(\"^m\\\\/(54|74)'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+\\\\/[0-9]+$\").test(path)) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/**\n * Uses KDF to derive 64 bytes of key data from mnemonic with empty password.\n *\n * @param mnemonics 12 words string split by spaces.\n */\nexport function mnemonicToSeed(mnemonics: string): Uint8Array {\n\treturn bip39MnemonicToSeedSync(mnemonics, '');\n}\n\n/**\n * Derive the seed in hex format from a 12-word mnemonic string.\n *\n * @param mnemonics 12 words string split by spaces.\n */\nexport function mnemonicToSeedHex(mnemonics: string): string {\n\treturn toHex(mnemonicToSeed(mnemonics));\n}\n"],"names":["bip39MnemonicToSeedSync"],"mappings":";;;;;;;;;;;;;;;;;;;GAUA,SAAgB,oBAAoB,IAAA,EAAuB;IAC1D,IAAI,CAAA,aAAA,GAAC,IAAI,OAAO,kDAAkD,CAAC,IAAA,CAAK,KAAK,CAC5E,CAAA,OAAO;IAER,OAAO;;;;;;;;;GAWR,SAAgB,iBAAiB,IAAA,EAAuB;IACvD,IAAI,CAAA,aAAA,GAAC,IAAI,OAAO,oDAAoD,CAAC,IAAA,CAAK,KAAK,CAC9E,CAAA,OAAO;IAER,OAAO;;;;;;GAQR,SAAgB,eAAe,SAAA,EAA+B;IAC7D,WAAOA,qMAAAA,EAAwB,WAAW,GAAG;;;;;;GAQ9C,SAAgB,kBAAkB,SAAA,EAA2B;IAC5D,WAAO,6JAAA,EAAM,eAAe,UAAU,CAAC"}},
    {"offset": {"line": 7230, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/cryptography/intent.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/cryptography/intent.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { bcs } from '../bcs/index.js';\n\nexport type IntentScope = Exclude<keyof typeof bcs.IntentScope.$inferType, '$kind'>;\n/**\n * Inserts a domain separator for a message that is being signed\n */\nexport function messageWithIntent(scope: IntentScope, message: Uint8Array) {\n\treturn bcs\n\t\t.IntentMessage(bcs.bytes(message.length))\n\t\t.serialize({\n\t\t\tintent: {\n\t\t\t\tscope: { [scope as 'PersonalMessage']: true },\n\t\t\t\tversion: { V0: true },\n\t\t\t\tappId: { Sui: true },\n\t\t\t},\n\t\t\tvalue: message,\n\t\t})\n\t\t.toBytes();\n}\n"],"names":["bcs"],"mappings":";;;;;;;;;GASA,SAAgB,kBAAkB,KAAA,EAAoB,OAAA,EAAqB;IAC1E,OAAOA,kLAAAA,CACL,aAAA,CAAcA,kLAAAA,CAAI,KAAA,CAAM,QAAQ,MAAA,CAAO,CAAC,CACxC,SAAA,CAAU;QACV,QAAQ;YACP,OAAO;gBAAA,CAAG,MAAA,EAA6B;YAAA,CAAM;YAC7C,SAAS;gBAAE,IAAI;YAAA,CAAM;YACrB,OAAO;gBAAE,KAAK;YAAA,CAAM;SACpB;QACD,OAAO;KACP,CAAC,CACD,OAAA,EAAS"}},
    {"offset": {"line": 7261, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/cryptography/signature-scheme.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/cryptography/signature-scheme.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport const SIGNATURE_SCHEME_TO_FLAG = {\n\tED25519: 0x00,\n\tSecp256k1: 0x01,\n\tSecp256r1: 0x02,\n\tMultiSig: 0x03,\n\tZkLogin: 0x05,\n\tPasskey: 0x06,\n} as const;\n\nexport const SIGNATURE_SCHEME_TO_SIZE = {\n\tED25519: 32,\n\tSecp256k1: 33,\n\tSecp256r1: 33,\n\tPasskey: 33,\n};\n\nexport const SIGNATURE_FLAG_TO_SCHEME = {\n\t0x00: 'ED25519',\n\t0x01: 'Secp256k1',\n\t0x02: 'Secp256r1',\n\t0x03: 'MultiSig',\n\t0x05: 'ZkLogin',\n\t0x06: 'Passkey',\n} as const;\n\nexport type SignatureScheme =\n\t| 'ED25519'\n\t| 'Secp256k1'\n\t| 'Secp256r1'\n\t| 'MultiSig'\n\t| 'ZkLogin'\n\t| 'Passkey';\n\nexport type SignatureFlag = keyof typeof SIGNATURE_FLAG_TO_SCHEME;\n"],"names":[],"mappings":";;;;;;;;;AAGA,MAAa,2BAA2B;IACvC,SAAS;IACT,WAAW;IACX,WAAW;IACX,UAAU;IACV,SAAS;IACT,SAAS;CACT;AAED,MAAa,2BAA2B;IACvC,SAAS;IACT,WAAW;IACX,WAAW;IACX,SAAS;CACT;AAED,MAAa,2BAA2B;IACvC,GAAM;IACN,GAAM;IACN,GAAM;IACN,GAAM;IACN,GAAM;IACN,GAAM;CACN"}},
    {"offset": {"line": 7298, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/cryptography/publickey.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/cryptography/publickey.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase64, toBase64 } from '@mysten/bcs';\nimport { blake2b } from '@noble/hashes/blake2.js';\nimport { bytesToHex } from '@noble/hashes/utils.js';\n\nimport { bcs } from '../bcs/index.js';\nimport { normalizeSuiAddress, SUI_ADDRESS_LENGTH } from '../utils/sui-types.js';\nimport type { IntentScope } from './intent.js';\nimport { messageWithIntent } from './intent.js';\nimport { SIGNATURE_FLAG_TO_SCHEME, SIGNATURE_SCHEME_TO_SIZE } from './signature-scheme.js';\n\n/**\n * Value to be converted into public key.\n */\nexport type PublicKeyInitData = string | Uint8Array | Iterable<number>;\n\nexport function bytesEqual(a: Uint8Array, b: Uint8Array) {\n\tif (a === b) return true;\n\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\n\tfor (let i = 0; i < a.length; i++) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\n/**\n * A public key\n */\nexport abstract class PublicKey {\n\t/**\n\t * Checks if two public keys are equal\n\t */\n\tequals(publicKey: PublicKey) {\n\t\treturn bytesEqual(this.toRawBytes(), publicKey.toRawBytes());\n\t}\n\n\t/**\n\t * Return the base-64 representation of the public key\n\t */\n\ttoBase64() {\n\t\treturn toBase64(this.toRawBytes());\n\t}\n\n\ttoString(): never {\n\t\tthrow new Error(\n\t\t\t'`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.',\n\t\t);\n\t}\n\n\t/**\n\t * Return the Sui representation of the public key encoded in\n\t * base-64. A Sui public key is formed by the concatenation\n\t * of the scheme flag with the raw bytes of the public key\n\t */\n\ttoSuiPublicKey(): string {\n\t\tconst bytes = this.toSuiBytes();\n\t\treturn toBase64(bytes);\n\t}\n\n\tverifyWithIntent(\n\t\tbytes: Uint8Array,\n\t\tsignature: Uint8Array | string,\n\t\tintent: IntentScope,\n\t): Promise<boolean> {\n\t\tconst intentMessage = messageWithIntent(intent, bytes);\n\t\tconst digest = blake2b(intentMessage, { dkLen: 32 });\n\n\t\treturn this.verify(digest, signature);\n\t}\n\n\t/**\n\t * Verifies that the signature is valid for for the provided PersonalMessage\n\t */\n\tverifyPersonalMessage(message: Uint8Array, signature: Uint8Array | string): Promise<boolean> {\n\t\treturn this.verifyWithIntent(\n\t\t\tbcs.byteVector().serialize(message).toBytes(),\n\t\t\tsignature,\n\t\t\t'PersonalMessage',\n\t\t);\n\t}\n\n\t/**\n\t * Verifies that the signature is valid for for the provided Transaction\n\t */\n\tverifyTransaction(transaction: Uint8Array, signature: Uint8Array | string): Promise<boolean> {\n\t\treturn this.verifyWithIntent(transaction, signature, 'TransactionData');\n\t}\n\n\t/**\n\t * Verifies that the public key is associated with the provided address\n\t */\n\tverifyAddress(address: string): boolean {\n\t\treturn this.toSuiAddress() === address;\n\t}\n\n\t/**\n\t * Returns the bytes representation of the public key\n\t * prefixed with the signature scheme flag\n\t */\n\ttoSuiBytes(): Uint8Array<ArrayBuffer> {\n\t\tconst rawBytes = this.toRawBytes();\n\t\tconst suiBytes = new Uint8Array(rawBytes.length + 1);\n\t\tsuiBytes.set([this.flag()]);\n\t\tsuiBytes.set(rawBytes, 1);\n\n\t\treturn suiBytes;\n\t}\n\n\t/**\n\t * Return the Sui address associated with this Ed25519 public key\n\t */\n\ttoSuiAddress(): string {\n\t\t// Each hex char represents half a byte, hence hex address doubles the length\n\t\treturn normalizeSuiAddress(\n\t\t\tbytesToHex(blake2b(this.toSuiBytes(), { dkLen: 32 })).slice(0, SUI_ADDRESS_LENGTH * 2),\n\t\t);\n\t}\n\n\t/**\n\t * Return the byte array representation of the public key\n\t */\n\tabstract toRawBytes(): Uint8Array<ArrayBuffer>;\n\n\t/**\n\t * Return signature scheme flag of the public key\n\t */\n\tabstract flag(): number;\n\n\t/**\n\t * Verifies that the signature is valid for for the provided message\n\t */\n\tabstract verify(data: Uint8Array, signature: Uint8Array | string): Promise<boolean>;\n}\n\nexport function parseSerializedKeypairSignature(serializedSignature: string) {\n\tconst bytes = fromBase64(serializedSignature);\n\n\tconst signatureScheme =\n\t\tSIGNATURE_FLAG_TO_SCHEME[bytes[0] as keyof typeof SIGNATURE_FLAG_TO_SCHEME];\n\n\tswitch (signatureScheme) {\n\t\tcase 'ED25519':\n\t\tcase 'Secp256k1':\n\t\tcase 'Secp256r1':\n\t\t\tconst size =\n\t\t\t\tSIGNATURE_SCHEME_TO_SIZE[signatureScheme as keyof typeof SIGNATURE_SCHEME_TO_SIZE];\n\t\t\tconst signature = bytes.slice(1, bytes.length - size);\n\t\t\tconst publicKey = bytes.slice(1 + signature.length);\n\n\t\t\treturn {\n\t\t\t\tserializedSignature,\n\t\t\t\tsignatureScheme,\n\t\t\t\tsignature,\n\t\t\t\tpublicKey,\n\t\t\t\tbytes,\n\t\t\t};\n\t\tdefault:\n\t\t\tthrow new Error('Unsupported signature scheme');\n\t}\n}\n"],"names":["bcs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAkBA,SAAgB,WAAW,CAAA,EAAe,CAAA,EAAe;IACxD,IAAI,MAAM,EAAG,CAAA,OAAO;IAEpB,IAAI,EAAE,MAAA,KAAW,EAAE,MAAA,CAClB,CAAA,OAAO;IAGR,IAAK,IAAI,IAAI,GAAG,IAAI,EAAE,MAAA,EAAQ,IAC7B,IAAI,CAAA,CAAE,EAAA,KAAO,CAAA,CAAE,EAAA,CACd,CAAA,OAAO;IAGT,OAAO;;;;GAMR,IAAsB,YAAtB,MAAgC;;;IAI/B,OAAO,SAAA,EAAsB;QAC5B,OAAO,WAAW,IAAA,CAAK,UAAA,EAAY,EAAE,UAAU,UAAA,EAAY,CAAC;;;;IAM7D,WAAW;QACV,WAAO,gKAAA,EAAS,IAAA,CAAK,UAAA,EAAY,CAAC;;IAGnC,WAAkB;QACjB,MAAM,IAAI,MACT,4FACA;;;;;;IAQF,iBAAyB;QAExB,WAAO,gKAAA,EADO,IAAA,CAAK,UAAA,EAAY,CACT;;IAGvB,iBACC,KAAA,EACA,SAAA,EACA,MAAA,EACmB;QAEnB,MAAM,aAAS,4LAAA,MADO,0LAAA,EAAkB,QAAQ,MAAM,EAChB;YAAE,OAAO;QAAA,CAAI,CAAC;QAEpD,OAAO,IAAA,CAAK,MAAA,CAAO,QAAQ,UAAU;;;;IAMtC,sBAAsB,OAAA,EAAqB,SAAA,EAAkD;QAC5F,OAAO,IAAA,CAAK,gBAAA,CACXA,kLAAAA,CAAI,UAAA,EAAY,CAAC,SAAA,CAAU,QAAQ,CAAC,OAAA,EAAS,EAC7C,WACA,kBACA;;;;IAMF,kBAAkB,WAAA,EAAyB,SAAA,EAAkD;QAC5F,OAAO,IAAA,CAAK,gBAAA,CAAiB,aAAa,WAAW,kBAAkB;;;;IAMxE,cAAc,OAAA,EAA0B;QACvC,OAAO,IAAA,CAAK,YAAA,EAAc,KAAK;;;;;IAOhC,aAAsC;QACrC,MAAM,WAAW,IAAA,CAAK,UAAA,EAAY;QAClC,MAAM,WAAW,IAAI,WAAW,SAAS,MAAA,GAAS,EAAE;QACpD,SAAS,GAAA,CAAI;YAAC,IAAA,CAAK,IAAA,EAAM;SAAC,CAAC;QAC3B,SAAS,GAAA,CAAI,UAAU,EAAE;QAEzB,OAAO;;;;IAMR,eAAuB;QAEtB,WAAO,2LAAA,MACN,8LAAA,MAAW,4LAAA,EAAQ,IAAA,CAAK,UAAA,EAAY,EAAE;YAAE,OAAO;QAAA,CAAI,CAAC,CAAC,CAAC,KAAA,CAAM,GAAG,0LAAA,GAAqB,EAAE,CACtF;;;AAmBH,SAAgB,gCAAgC,mBAAA,EAA6B;IAC5E,MAAM,YAAQ,kKAAA,EAAW,oBAAoB;IAE7C,MAAM,kBACL,8MAAA,CAAyB,KAAA,CAAM,EAAA,CAAA;IAEhC,OAAQ,iBAAR;QACC,KAAK;QACL,KAAK;QACL,KAAK;YACJ,MAAM,OACL,8MAAA,CAAyB,gBAAA;YAC1B,MAAM,YAAY,MAAM,KAAA,CAAM,GAAG,MAAM,MAAA,GAAS,KAAK;YAGrD,OAAO;gBACN;gBACA;gBACA;gBACA,WANiB,MAAM,KAAA,CAAM,IAAI,UAAU,MAAA,CAAO;gBAOlD;aACA;QACF,QACC;YAAA,MAAM,IAAI,MAAM,+BAA+B"}},
    {"offset": {"line": 7417, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/keypairs/passkey/publickey.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/keypairs/passkey/publickey.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase64, toBase64 } from '@mysten/bcs';\nimport { p256 as secp256r1 } from '@noble/curves/nist.js';\nimport { sha256 } from '@noble/hashes/sha2.js';\n\nimport { PasskeyAuthenticator } from '../../bcs/bcs.js';\nimport { bytesEqual, PublicKey } from '../../cryptography/publickey.js';\nimport type { PublicKeyInitData } from '../../cryptography/publickey.js';\nimport { SIGNATURE_SCHEME_TO_FLAG } from '../../cryptography/signature-scheme.js';\n\nexport const PASSKEY_PUBLIC_KEY_SIZE = 33;\nexport const PASSKEY_UNCOMPRESSED_PUBLIC_KEY_SIZE = 65;\nexport const PASSKEY_SIGNATURE_SIZE = 64;\n/** Fixed DER header for secp256r1 SubjectPublicKeyInfo\nDER structure for P-256 SPKI:\n30 -- SEQUENCE\n  59 -- length (89 bytes)\n  30 -- SEQUENCE\n    13 -- length (19 bytes)\n    06 -- OBJECT IDENTIFIER\n      07 -- length\n      2A 86 48 CE 3D 02 01 -- id-ecPublicKey\n    06 -- OBJECT IDENTIFIER\n      08 -- length\n      2A 86 48 CE 3D 03 01 07 -- secp256r1/prime256v1\n  03 -- BIT STRING\n    42 -- length (66 bytes)\n    00 -- padding\n\t===== above bytes are considered header =====\n    04 || x || y -- uncompressed point (65 bytes: 0x04 || 32-byte x || 32-byte y)\n*/\nexport const SECP256R1_SPKI_HEADER = new Uint8Array([\n\t0x30,\n\t0x59, // SEQUENCE, length 89\n\t0x30,\n\t0x13, // SEQUENCE, length 19\n\t0x06,\n\t0x07, // OID, length 7\n\t0x2a,\n\t0x86,\n\t0x48,\n\t0xce,\n\t0x3d,\n\t0x02,\n\t0x01, // OID: 1.2.840.10045.2.1 (ecPublicKey)\n\t0x06,\n\t0x08, // OID, length 8\n\t0x2a,\n\t0x86,\n\t0x48,\n\t0xce,\n\t0x3d,\n\t0x03,\n\t0x01,\n\t0x07, // OID: 1.2.840.10045.3.1.7 (prime256v1/secp256r1)\n\t0x03,\n\t0x42, // BIT STRING, length 66\n\t0x00, // no unused bits\n] as const);\n\n/**\n * A passkey public key\n */\nexport class PasskeyPublicKey extends PublicKey {\n\tstatic SIZE = PASSKEY_PUBLIC_KEY_SIZE;\n\tprivate data: Uint8Array<ArrayBuffer>;\n\n\t/**\n\t * Create a new PasskeyPublicKey object\n\t * @param value passkey public key as buffer or base-64 encoded string\n\t */\n\tconstructor(value: PublicKeyInitData) {\n\t\tsuper();\n\n\t\tif (typeof value === 'string') {\n\t\t\tthis.data = fromBase64(value);\n\t\t} else if (value instanceof Uint8Array) {\n\t\t\tthis.data = value as Uint8Array<ArrayBuffer>;\n\t\t} else {\n\t\t\tthis.data = Uint8Array.from(value);\n\t\t}\n\n\t\tif (this.data.length !== PASSKEY_PUBLIC_KEY_SIZE) {\n\t\t\tthrow new Error(\n\t\t\t\t`Invalid public key input. Expected ${PASSKEY_PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`,\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if two passkey public keys are equal\n\t */\n\toverride equals(publicKey: PasskeyPublicKey): boolean {\n\t\treturn super.equals(publicKey);\n\t}\n\n\t/**\n\t * Return the byte array representation of the Secp256r1 public key\n\t */\n\ttoRawBytes(): Uint8Array<ArrayBuffer> {\n\t\treturn this.data;\n\t}\n\n\t/**\n\t * Return the Sui address associated with this Secp256r1 public key\n\t */\n\tflag(): number {\n\t\treturn SIGNATURE_SCHEME_TO_FLAG['Passkey'];\n\t}\n\n\t/**\n\t * Verifies that the signature is valid for for the provided message\n\t */\n\tasync verify(message: Uint8Array, signature: Uint8Array | string): Promise<boolean> {\n\t\tconst parsed = parseSerializedPasskeySignature(signature);\n\t\tconst clientDataJSON = JSON.parse(parsed.clientDataJson);\n\n\t\tif (clientDataJSON.type !== 'webauthn.get') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// parse challenge from base64 url\n\t\tconst parsedChallenge = fromBase64(\n\t\t\tclientDataJSON.challenge.replace(/-/g, '+').replace(/_/g, '/'),\n\t\t);\n\t\tif (!bytesEqual(message, parsedChallenge)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pk = parsed.userSignature.slice(1 + PASSKEY_SIGNATURE_SIZE);\n\t\tif (!bytesEqual(this.toRawBytes(), pk)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst payload = new Uint8Array([\n\t\t\t...parsed.authenticatorData,\n\t\t\t...sha256(new TextEncoder().encode(parsed.clientDataJson)),\n\t\t]);\n\t\tconst sig = parsed.userSignature.slice(1, PASSKEY_SIGNATURE_SIZE + 1);\n\t\treturn secp256r1.verify(sig, payload, pk);\n\t}\n}\n\n/**\n * Parses a DER SubjectPublicKeyInfo into an uncompressed public key. This also verifies\n * that the curve used is P-256 (secp256r1).\n *\n * @param data: DER SubjectPublicKeyInfo\n * @returns uncompressed public key (`0x04 || x || y`)\n */\nexport function parseDerSPKI(derBytes: Uint8Array): Uint8Array {\n\t// Verify length and header bytes are expected\n\tif (derBytes.length !== SECP256R1_SPKI_HEADER.length + PASSKEY_UNCOMPRESSED_PUBLIC_KEY_SIZE) {\n\t\tthrow new Error('Invalid DER length');\n\t}\n\tfor (let i = 0; i < SECP256R1_SPKI_HEADER.length; i++) {\n\t\tif (derBytes[i] !== SECP256R1_SPKI_HEADER[i]) {\n\t\t\tthrow new Error('Invalid spki header');\n\t\t}\n\t}\n\n\tif (derBytes[SECP256R1_SPKI_HEADER.length] !== 0x04) {\n\t\tthrow new Error('Invalid point marker');\n\t}\n\n\t// Returns the last 65 bytes `04 || x || y`\n\treturn derBytes.slice(SECP256R1_SPKI_HEADER.length);\n}\n\n/**\n * Parse signature from bytes or base64 string into the following fields.\n */\nexport function parseSerializedPasskeySignature(signature: Uint8Array | string) {\n\tconst bytes = typeof signature === 'string' ? fromBase64(signature) : signature;\n\n\tif (bytes[0] !== SIGNATURE_SCHEME_TO_FLAG.Passkey) {\n\t\tthrow new Error('Invalid signature scheme');\n\t}\n\tconst dec = PasskeyAuthenticator.parse(bytes.slice(1));\n\treturn {\n\t\tsignatureScheme: 'Passkey' as const,\n\t\tserializedSignature: toBase64(bytes),\n\t\tsignature: bytes,\n\t\tauthenticatorData: dec.authenticatorData,\n\t\tclientDataJson: dec.clientDataJson,\n\t\tuserSignature: new Uint8Array(dec.userSignature),\n\t\tpublicKey: new Uint8Array(dec.userSignature.slice(1 + PASSKEY_SIGNATURE_SIZE)),\n\t};\n}\n"],"names":["secp256r1"],"mappings":"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"}},
    {"offset": {"line": 7572, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/zklogin/poseidon.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/zklogin/poseidon.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n\tposeidon1,\n\tposeidon2,\n\tposeidon3,\n\tposeidon4,\n\tposeidon5,\n\tposeidon6,\n\tposeidon7,\n\tposeidon8,\n\tposeidon9,\n\tposeidon10,\n\tposeidon11,\n\tposeidon12,\n\tposeidon13,\n\tposeidon14,\n\tposeidon15,\n\tposeidon16,\n} from 'poseidon-lite';\n\nconst poseidonNumToHashFN = [\n\tposeidon1,\n\tposeidon2,\n\tposeidon3,\n\tposeidon4,\n\tposeidon5,\n\tposeidon6,\n\tposeidon7,\n\tposeidon8,\n\tposeidon9,\n\tposeidon10,\n\tposeidon11,\n\tposeidon12,\n\tposeidon13,\n\tposeidon14,\n\tposeidon15,\n\tposeidon16,\n];\n\nexport const BN254_FIELD_SIZE =\n\t21888242871839275222246405745257275088548364400416034343698204186575808495617n;\n\nexport function poseidonHash(inputs: (number | bigint | string)[]): bigint {\n\tinputs.forEach((x) => {\n\t\tconst b = BigInt(x);\n\t\tif (b < 0 || b >= BN254_FIELD_SIZE) {\n\t\t\tthrow new Error(`Element ${b} not in the BN254 field`);\n\t\t}\n\t});\n\n\tconst hashFN = poseidonNumToHashFN[inputs.length - 1];\n\n\tif (hashFN) {\n\t\treturn hashFN(inputs);\n\t} else if (inputs.length <= 32) {\n\t\tconst hash1 = poseidonHash(inputs.slice(0, 16));\n\t\tconst hash2 = poseidonHash(inputs.slice(16));\n\t\treturn poseidonHash([hash1, hash2]);\n\t} else {\n\t\tthrow new Error(`Yet to implement: Unable to hash a vector of length ${inputs.length}`);\n\t}\n}\n"],"names":[],"mappings":";;;;;;;AAsBA,MAAM,sBAAsB;IAC3B,yJAAA;IACA,yJAAA;IACA,yJAAA;IACA,yJAAA;IACA,yJAAA;IACA,yJAAA;IACA,yJAAA;IACA,yJAAA;IACA,yJAAA;IACA,0JAAA;IACA,0JAAA;IACA,0JAAA;IACA,0JAAA;IACA,0JAAA;IACA,0JAAA;IACA,0JAAA;CACA;AAED,MAAa,mBACZ,8EAAA;AAED,SAAgB,aAAa,MAAA,EAA8C;IAC1E,OAAO,OAAA,CAAA,CAAS,MAAM;QACrB,MAAM,IAAI,OAAO,EAAE;QACnB,IAAI,IAAI,KAAK,KAAK,iBACjB,CAAA,MAAM,IAAI,MAAM,CAAA,QAAA,EAAW,EAAE,uBAAA,CAAA,CAAyB;MAEtD;IAEF,MAAM,SAAS,mBAAA,CAAoB,OAAO,MAAA,GAAS,EAAA;IAEnD,IAAI,OACH,CAAA,OAAO,OAAO,OAAO;aACX,OAAO,MAAA,IAAU,GAG3B,CAAA,OAAO,aAAa;QAFN,aAAa,OAAO,KAAA,CAAM,GAAG,GAAG,CAAC;QACjC,aAAa,OAAO,KAAA,CAAM,GAAG,CAAC;KACV,CAAC;SAEnC,MAAM,IAAI,MAAM,CAAA,oDAAA,EAAuD,OAAO,MAAA,EAAA,CAAS"}},
    {"offset": {"line": 7617, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/zklogin/utils.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/zklogin/utils.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { hexToBytes } from '@noble/hashes/utils.js';\n\nimport type { PublicKey } from '../cryptography/publickey.js';\nimport { poseidonHash } from './poseidon.js';\n\nconst MAX_KEY_CLAIM_NAME_LENGTH = 32;\nconst MAX_KEY_CLAIM_VALUE_LENGTH = 115;\nconst MAX_AUD_VALUE_LENGTH = 145;\nconst PACK_WIDTH = 248;\n\nfunction findFirstNonZeroIndex(bytes: Uint8Array) {\n\tfor (let i = 0; i < bytes.length; i++) {\n\t\tif (bytes[i] !== 0) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\n// Derive bytearray from num where the bytearray is padded to the left with 0s to the specified width.\nexport function toPaddedBigEndianBytes(num: bigint, width: number): Uint8Array {\n\tconst hex = num.toString(16);\n\treturn hexToBytes(hex.padStart(width * 2, '0').slice(-width * 2));\n}\n\n// Derive bytearray from num where the bytearray is not padded with 0.\nexport function toBigEndianBytes(num: bigint, width: number): Uint8Array {\n\tconst bytes = toPaddedBigEndianBytes(num, width);\n\n\tconst firstNonZeroIndex = findFirstNonZeroIndex(bytes);\n\n\tif (firstNonZeroIndex === -1) {\n\t\treturn new Uint8Array([0]);\n\t}\n\n\treturn bytes.slice(firstNonZeroIndex);\n}\n\nexport function getExtendedEphemeralPublicKey(publicKey: PublicKey) {\n\treturn publicKey.toSuiPublicKey();\n}\n\n/**\n * Splits an array into chunks of size chunk_size. If the array is not evenly\n * divisible by chunk_size, the first chunk will be smaller than chunk_size.\n *\n * E.g., arrayChunk([1, 2, 3, 4, 5], 2) => [[1], [2, 3], [4, 5]]\n *\n * Note: Can be made more efficient by avoiding the reverse() calls.\n */\nexport function chunkArray<T>(array: T[], chunk_size: number): T[][] {\n\tconst chunks = Array(Math.ceil(array.length / chunk_size));\n\tconst revArray = array.reverse();\n\tfor (let i = 0; i < chunks.length; i++) {\n\t\tchunks[i] = revArray.slice(i * chunk_size, (i + 1) * chunk_size).reverse();\n\t}\n\treturn chunks.reverse();\n}\n\nfunction bytesBEToBigInt(bytes: number[]): bigint {\n\tconst hex = bytes.map((b) => b.toString(16).padStart(2, '0')).join('');\n\tif (hex.length === 0) {\n\t\treturn BigInt(0);\n\t}\n\treturn BigInt('0x' + hex);\n}\n\n// hashes an ASCII string to a field element\nexport function hashASCIIStrToField(str: string, maxSize: number) {\n\tif (str.length > maxSize) {\n\t\tthrow new Error(`String ${str} is longer than ${maxSize} chars`);\n\t}\n\n\t// Note: Padding with zeroes is safe because we are only using this function to map human-readable sequence of bytes.\n\t// So the ASCII values of those characters will never be zero (null character).\n\tconst strPadded = str\n\t\t.padEnd(maxSize, String.fromCharCode(0))\n\t\t.split('')\n\t\t.map((c) => c.charCodeAt(0));\n\n\tconst chunkSize = PACK_WIDTH / 8;\n\tconst packed = chunkArray(strPadded, chunkSize).map((chunk) => bytesBEToBigInt(chunk));\n\treturn poseidonHash(packed);\n}\n\nexport function genAddressSeed(\n\tsalt: string | bigint,\n\tname: string,\n\tvalue: string,\n\taud: string,\n\tmax_name_length = MAX_KEY_CLAIM_NAME_LENGTH,\n\tmax_value_length = MAX_KEY_CLAIM_VALUE_LENGTH,\n\tmax_aud_length = MAX_AUD_VALUE_LENGTH,\n): bigint {\n\treturn poseidonHash([\n\t\thashASCIIStrToField(name, max_name_length),\n\t\thashASCIIStrToField(value, max_value_length),\n\t\thashASCIIStrToField(aud, max_aud_length),\n\t\tposeidonHash([BigInt(salt)]),\n\t]);\n}\n\nexport function normalizeZkLoginIssuer(iss: string) {\n\tif (iss === 'accounts.google.com') {\n\t\treturn 'https://accounts.google.com';\n\t}\n\treturn iss;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAQA,MAAM,4BAA4B;AAClC,MAAM,6BAA6B;AACnC,MAAM,uBAAuB;AAC7B,MAAM,aAAa;AAEnB,SAAS,sBAAsB,KAAA,EAAmB;IACjD,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAA,EAAQ,IACjC,IAAI,KAAA,CAAM,EAAA,KAAO,EAChB,CAAA,OAAO;IAIT,OAAO,CAAA;;AAIR,SAAgB,uBAAuB,GAAA,EAAa,KAAA,EAA2B;IAE9E,WAAO,8LAAA,EADK,IAAI,QAAA,CAAS,GAAG,CACN,QAAA,CAAS,QAAQ,GAAG,IAAI,CAAC,KAAA,CAAM,CAAC,QAAQ,EAAE,CAAC;;AAIlE,SAAgB,iBAAiB,GAAA,EAAa,KAAA,EAA2B;IACxE,MAAM,QAAQ,uBAAuB,KAAK,MAAM;IAEhD,MAAM,oBAAoB,sBAAsB,MAAM;IAEtD,IAAI,sBAAsB,CAAA,EACzB,CAAA,OAAO,IAAI,WAAW;QAAC;KAAE,CAAC;IAG3B,OAAO,MAAM,KAAA,CAAM,kBAAkB;;AAGtC,SAAgB,8BAA8B,SAAA,EAAsB;IACnE,OAAO,UAAU,cAAA,EAAgB;;;;;;;;;GAWlC,SAAgB,WAAc,KAAA,EAAY,UAAA,EAA2B;IACpE,MAAM,SAAS,MAAM,KAAK,IAAA,CAAK,MAAM,MAAA,GAAS,WAAW,CAAC;IAC1D,MAAM,WAAW,MAAM,OAAA,EAAS;IAChC,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAA,EAAQ,IAClC,MAAA,CAAO,EAAA,GAAK,SAAS,KAAA,CAAM,IAAI,YAAA,CAAa,IAAI,CAAA,IAAK,WAAW,CAAC,OAAA,EAAS;IAE3E,OAAO,OAAO,OAAA,EAAS;;AAGxB,SAAS,gBAAgB,KAAA,EAAyB;IACjD,MAAM,MAAM,MAAM,GAAA,CAAA,CAAK,IAAM,EAAE,QAAA,CAAS,GAAG,CAAC,QAAA,CAAS,GAAG,IAAI,CAAC,CAAC,IAAA,CAAK,GAAG;IACtE,IAAI,IAAI,MAAA,KAAW,EAClB,CAAA,OAAO,OAAO,EAAE;IAEjB,OAAO,OAAO,OAAO,IAAI;;AAI1B,SAAgB,oBAAoB,GAAA,EAAa,OAAA,EAAiB;IACjE,IAAI,IAAI,MAAA,GAAS,QAChB,CAAA,MAAM,IAAI,MAAM,CAAA,OAAA,EAAU,IAAI,gBAAA,EAAkB,QAAQ,MAAA,CAAA,CAAQ;IAYjE,WAAO,kLAAA,EADQ,WANG,IAChB,MAAA,CAAO,SAAS,OAAO,YAAA,CAAa,EAAE,CAAC,CACvC,KAAA,CAAM,GAAG,CACT,GAAA,CAAA,CAAK,IAAM,EAAE,UAAA,CAAW,EAAE,CAAC,EAEX,aAAa,EACgB,CAAC,GAAA,CAAA,CAAK,QAAU,gBAAgB,MAAM,CAAC,CAC3D;;AAG5B,SAAgB,eACf,IAAA,EACA,IAAA,EACA,KAAA,EACA,GAAA,EACA,kBAAkB,yBAAA,EAClB,mBAAmB,0BAAA,EACnB,iBAAiB,oBAAA,EACR;IACT,WAAO,kLAAA,EAAa;QACnB,oBAAoB,MAAM,gBAAgB;QAC1C,oBAAoB,OAAO,iBAAiB;QAC5C,oBAAoB,KAAK,eAAe;YACxC,kLAAA,EAAa;YAAC,OAAO,KAAK;SAAC,CAAC;KAC5B,CAAC;;AAGH,SAAgB,uBAAuB,GAAA,EAAa;IACnD,IAAI,QAAQ,sBACX,CAAA,OAAO;IAER,OAAO"}},
    {"offset": {"line": 7700, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/zklogin/jwt-decode.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/zklogin/jwt-decode.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n// oxlint-disable check-tag-names\n\n/** Copied from https://github.com/auth0/jwt-decode/blob/3d372e9875ff673228a9f2d9df74e84690842a9c/lib/index.ts */\n\n/**\nThe MIT License (MIT)\n\nCopyright (c) 2015 Auth0, Inc. <support@auth0.com> (http://auth0.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n */\n\nexport interface JwtDecodeOptions {\n\theader?: boolean;\n}\n\nexport interface JwtHeader {\n\ttyp?: string;\n\talg?: string;\n\tkid?: string;\n}\n\nexport interface JwtPayload {\n\tiss?: string;\n\tsub?: string;\n\taud?: string[] | string;\n\texp?: number;\n\tnbf?: number;\n\tiat?: number;\n\tjti?: string;\n}\n\nexport class InvalidTokenError extends Error {}\n\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nfunction b64DecodeUnicode(str: string) {\n\treturn decodeURIComponent(\n\t\tatob(str).replace(/(.)/g, (_m, p) => {\n\t\t\tlet code = (p as string).charCodeAt(0).toString(16).toUpperCase();\n\t\t\tif (code.length < 2) {\n\t\t\t\tcode = '0' + code;\n\t\t\t}\n\t\t\treturn '%' + code;\n\t\t}),\n\t);\n}\n\nfunction base64UrlDecode(str: string) {\n\tlet output = str.replace(/-/g, '+').replace(/_/g, '/');\n\tswitch (output.length % 4) {\n\t\tcase 0:\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\toutput += '==';\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\toutput += '=';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error('base64 string is not of the correct length');\n\t}\n\n\ttry {\n\t\treturn b64DecodeUnicode(output);\n\t} catch {\n\t\treturn atob(output);\n\t}\n}\n\nexport function jwtDecode<T = JwtHeader>(\n\ttoken: string,\n\toptions: JwtDecodeOptions & { header: true },\n): T;\nexport function jwtDecode<T = JwtPayload>(token: string, options?: JwtDecodeOptions): T;\nexport function jwtDecode<T = JwtHeader | JwtPayload>(\n\ttoken: string,\n\toptions?: JwtDecodeOptions,\n): T {\n\tif (typeof token !== 'string') {\n\t\tthrow new InvalidTokenError('Invalid token specified: must be a string');\n\t}\n\n\toptions ||= {};\n\n\tconst pos = options.header === true ? 0 : 1;\n\tconst part = token.split('.')[pos];\n\n\tif (typeof part !== 'string') {\n\t\tthrow new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n\t}\n\n\tlet decoded: string;\n\ttry {\n\t\tdecoded = base64UrlDecode(part);\n\t} catch (e) {\n\t\tthrow new InvalidTokenError(\n\t\t\t`Invalid token specified: invalid base64 for part #${pos + 1} (${(e as Error).message})`,\n\t\t);\n\t}\n\n\ttry {\n\t\treturn JSON.parse(decoded) as T;\n\t} catch (e) {\n\t\tthrow new InvalidTokenError(\n\t\t\t`Invalid token specified: invalid json for part #${pos + 1} (${(e as Error).message})`,\n\t\t);\n\t}\n}\n"],"names":[],"mappings":";;;;;AAkDA,IAAa,oBAAb,cAAuC,MAAM;AAAA;AAE7C,kBAAkB,SAAA,CAAU,IAAA,GAAO;AAEnC,SAAS,iBAAiB,GAAA,EAAa;IACtC,OAAO,mBACN,KAAK,IAAI,CAAC,OAAA,CAAQ,QAAA,CAAS,IAAI,MAAM;QACpC,IAAI,OAAQ,EAAa,UAAA,CAAW,EAAE,CAAC,QAAA,CAAS,GAAG,CAAC,WAAA,EAAa;QACjE,IAAI,KAAK,MAAA,GAAS,EACjB,CAAA,OAAO,MAAM;QAEd,OAAO,MAAM;MACZ,CACF;;AAGF,SAAS,gBAAgB,GAAA,EAAa;IACrC,IAAI,SAAS,IAAI,OAAA,CAAQ,MAAM,IAAI,CAAC,OAAA,CAAQ,MAAM,IAAI;IACtD,OAAQ,OAAO,MAAA,GAAS,GAAxB;QACC,KAAK,EACJ;YAAA;QACD,KAAK;YACJ,UAAU;YACV;QACD,KAAK;YACJ,UAAU;YACV;QACD,QACC;YAAA,MAAM,IAAI,MAAM,6CAA6C;;IAG/D,IAAI;QACH,OAAO,iBAAiB,OAAO;aACxB;QACP,OAAO,KAAK,OAAO;;;AASrB,SAAgB,UACf,KAAA,EACA,OAAA,EACI;IACJ,IAAI,OAAO,UAAU,SACpB,CAAA,MAAM,IAAI,kBAAkB,4CAA4C;IAGzE,YAAY,CAAA,CAAE;IAEd,MAAM,MAAM,QAAQ,MAAA,KAAW,OAAO,IAAI;IAC1C,MAAM,OAAO,MAAM,KAAA,CAAM,IAAI,CAAC,IAAA;IAE9B,IAAI,OAAO,SAAS,SACnB,CAAA,MAAM,IAAI,kBAAkB,CAAA,uCAAA,EAA0C,MAAM,GAAA,CAAI;IAGjF,IAAI;IACJ,IAAI;QACH,UAAU,gBAAgB,KAAK;aACvB,GAAG;QACX,MAAM,IAAI,kBACT,CAAA,kDAAA,EAAqD,MAAM,EAAE,EAAA,EAAK,EAAY,OAAA,CAAQ,CAAA,CAAA,CACtF;;IAGF,IAAI;QACH,OAAO,KAAK,KAAA,CAAM,QAAQ;aAClB,GAAG;QACX,MAAM,IAAI,kBACT,CAAA,gDAAA,EAAmD,MAAM,EAAE,EAAA,EAAK,EAAY,OAAA,CAAQ,CAAA,CAAA,CACpF"}},
    {"offset": {"line": 7759, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/zklogin/jwt-utils.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/zklogin/jwt-utils.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { JwtPayload } from './jwt-decode.js';\nimport { jwtDecode } from './jwt-decode.js';\nimport { normalizeZkLoginIssuer } from './utils.js';\n\nfunction base64UrlCharTo6Bits(base64UrlChar: string): number[] {\n\tif (base64UrlChar.length !== 1) {\n\t\tthrow new Error('Invalid base64Url character: ' + base64UrlChar);\n\t}\n\n\t// Define the base64URL character set\n\tconst base64UrlCharacterSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';\n\n\t// Find the index of the input character in the base64URL character set\n\tconst index = base64UrlCharacterSet.indexOf(base64UrlChar);\n\n\tif (index === -1) {\n\t\tthrow new Error('Invalid base64Url character: ' + base64UrlChar);\n\t}\n\n\t// Convert the index to a 6-bit binary string\n\tconst binaryString = index.toString(2).padStart(6, '0');\n\n\t// Convert the binary string to an array of bits\n\tconst bits = Array.from(binaryString).map(Number);\n\n\treturn bits;\n}\n\nfunction base64UrlStringToBitVector(base64UrlString: string) {\n\tlet bitVector: number[] = [];\n\tfor (let i = 0; i < base64UrlString.length; i++) {\n\t\tconst base64UrlChar = base64UrlString.charAt(i);\n\t\tconst bits = base64UrlCharTo6Bits(base64UrlChar);\n\t\tbitVector = bitVector.concat(bits);\n\t}\n\treturn bitVector;\n}\n\nfunction decodeBase64URL(s: string, i: number): string {\n\tif (s.length < 2) {\n\t\tthrow new Error(`Input (s = ${s}) is not tightly packed because s.length < 2`);\n\t}\n\tlet bits = base64UrlStringToBitVector(s);\n\n\tconst firstCharOffset = i % 4;\n\tif (firstCharOffset === 0) {\n\t\t// skip\n\t} else if (firstCharOffset === 1) {\n\t\tbits = bits.slice(2);\n\t} else if (firstCharOffset === 2) {\n\t\tbits = bits.slice(4);\n\t} else {\n\t\t// (offset == 3)\n\t\tthrow new Error(`Input (s = ${s}) is not tightly packed because i%4 = 3 (i = ${i}))`);\n\t}\n\n\tconst lastCharOffset = (i + s.length - 1) % 4;\n\tif (lastCharOffset === 3) {\n\t\t// skip\n\t} else if (lastCharOffset === 2) {\n\t\tbits = bits.slice(0, bits.length - 2);\n\t} else if (lastCharOffset === 1) {\n\t\tbits = bits.slice(0, bits.length - 4);\n\t} else {\n\t\t// (offset == 0)\n\t\tthrow new Error(\n\t\t\t`Input (s = ${s}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${i}))`,\n\t\t);\n\t}\n\n\tif (bits.length % 8 !== 0) {\n\t\tthrow new Error(`We should never reach here...`);\n\t}\n\n\tconst bytes = new Uint8Array(Math.floor(bits.length / 8));\n\tlet currentByteIndex = 0;\n\tfor (let i = 0; i < bits.length; i += 8) {\n\t\tconst bitChunk = bits.slice(i, i + 8);\n\n\t\t// Convert the 8-bit chunk to a byte and add it to the bytes array\n\t\tconst byte = parseInt(bitChunk.join(''), 2);\n\t\tbytes[currentByteIndex++] = byte;\n\t}\n\treturn new TextDecoder().decode(bytes);\n}\n\nfunction verifyExtendedClaim(claim: string) {\n\t// Last character of each extracted_claim must be '}' or ','\n\tif (!(claim.slice(-1) === '}' || claim.slice(-1) === ',')) {\n\t\tthrow new Error('Invalid claim');\n\t}\n\n\t// A hack to parse the JSON key-value pair.. but it should work\n\tconst json = JSON.parse('{' + claim.slice(0, -1) + '}');\n\tif (Object.keys(json).length !== 1) {\n\t\tthrow new Error('Invalid claim');\n\t}\n\tconst key = Object.keys(json)[0];\n\treturn [key, json[key]];\n}\n\nexport type Claim = {\n\tvalue: string;\n\tindexMod4: number;\n};\n\nexport function extractClaimValue<R>(claim: Claim, claimName: string): R {\n\tconst extendedClaim = decodeBase64URL(claim.value, claim.indexMod4);\n\tconst [name, value] = verifyExtendedClaim(extendedClaim);\n\tif (name !== claimName) {\n\t\tthrow new Error(`Invalid field name: found ${name} expected ${claimName}`);\n\t}\n\treturn value;\n}\n\nexport function decodeJwt(jwt: string): Omit<JwtPayload, 'iss' | 'aud' | 'sub'> & {\n\tiss: string;\n\taud: string;\n\tsub: string;\n\trawIss: string;\n} {\n\tconst { iss, aud, sub, ...decodedJWT } = jwtDecode(jwt);\n\n\tif (!sub || !iss || !aud) {\n\t\tthrow new Error('Missing jwt data');\n\t}\n\n\tif (Array.isArray(aud)) {\n\t\tthrow new Error('Not supported aud. Aud is an array, string was expected.');\n\t}\n\n\treturn {\n\t\t...decodedJWT,\n\t\tiss: normalizeZkLoginIssuer(iss),\n\t\trawIss: iss,\n\t\taud,\n\t\tsub,\n\t};\n}\n"],"names":["i"],"mappings":"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"}},
    {"offset": {"line": 7839, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/zklogin/bcs.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/zklogin/bcs.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { InferBcsInput } from '@mysten/bcs';\nimport { bcs } from '@mysten/bcs';\n\nexport const zkLoginSignature = bcs.struct('ZkLoginSignature', {\n\tinputs: bcs.struct('ZkLoginSignatureInputs', {\n\t\tproofPoints: bcs.struct('ZkLoginSignatureInputsProofPoints', {\n\t\t\ta: bcs.vector(bcs.string()),\n\t\t\tb: bcs.vector(bcs.vector(bcs.string())),\n\t\t\tc: bcs.vector(bcs.string()),\n\t\t}),\n\t\tissBase64Details: bcs.struct('ZkLoginSignatureInputsClaim', {\n\t\t\tvalue: bcs.string(),\n\t\t\tindexMod4: bcs.u8(),\n\t\t}),\n\t\theaderBase64: bcs.string(),\n\t\taddressSeed: bcs.string(),\n\t}),\n\tmaxEpoch: bcs.u64(),\n\tuserSignature: bcs.byteVector(),\n});\n\nexport type ZkLoginSignature = InferBcsInput<typeof zkLoginSignature>;\nexport type ZkLoginSignatureInputs = ZkLoginSignature['inputs'];\n"],"names":[],"mappings":";;;;;;;AAMA,MAAa,mBAAmB,yJAAA,CAAI,MAAA,CAAO,oBAAoB;IAC9D,QAAQ,yJAAA,CAAI,MAAA,CAAO,0BAA0B;QAC5C,aAAa,yJAAA,CAAI,MAAA,CAAO,qCAAqC;YAC5D,GAAG,yJAAA,CAAI,MAAA,CAAO,yJAAA,CAAI,MAAA,EAAQ,CAAC;YAC3B,GAAG,yJAAA,CAAI,MAAA,CAAO,yJAAA,CAAI,MAAA,CAAO,yJAAA,CAAI,MAAA,EAAQ,CAAC,CAAC;YACvC,GAAG,yJAAA,CAAI,MAAA,CAAO,yJAAA,CAAI,MAAA,EAAQ,CAAC;SAC3B,CAAC;QACF,kBAAkB,yJAAA,CAAI,MAAA,CAAO,+BAA+B;YAC3D,OAAO,yJAAA,CAAI,MAAA,EAAQ;YACnB,WAAW,yJAAA,CAAI,EAAA,EAAI;SACnB,CAAC;QACF,cAAc,yJAAA,CAAI,MAAA,EAAQ;QAC1B,aAAa,yJAAA,CAAI,MAAA,EAAQ;KACzB,CAAC;IACF,UAAU,yJAAA,CAAI,GAAA,EAAK;IACnB,eAAe,yJAAA,CAAI,UAAA,EAAY;CAC/B,CAAC"}},
    {"offset": {"line": 7869, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/zklogin/signature.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/zklogin/signature.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase64, toBase64 } from '@mysten/bcs';\n\nimport { SIGNATURE_SCHEME_TO_FLAG } from '../cryptography/signature-scheme.js';\nimport type { ZkLoginSignature } from './bcs.js';\nimport { zkLoginSignature } from './bcs.js';\n\ninterface ZkLoginSignatureExtended extends Omit<ZkLoginSignature, 'userSignature'> {\n\tuserSignature: string | ZkLoginSignature['userSignature'];\n}\n\nfunction getZkLoginSignatureBytes({ inputs, maxEpoch, userSignature }: ZkLoginSignatureExtended) {\n\treturn zkLoginSignature\n\t\t.serialize(\n\t\t\t{\n\t\t\t\tinputs,\n\t\t\t\tmaxEpoch,\n\t\t\t\tuserSignature:\n\t\t\t\t\ttypeof userSignature === 'string' ? fromBase64(userSignature) : userSignature,\n\t\t\t},\n\t\t\t{ maxSize: 2048 },\n\t\t)\n\t\t.toBytes();\n}\n\nexport function getZkLoginSignature({ inputs, maxEpoch, userSignature }: ZkLoginSignatureExtended) {\n\tconst bytes = getZkLoginSignatureBytes({ inputs, maxEpoch, userSignature });\n\tconst signatureBytes = new Uint8Array(bytes.length + 1);\n\tsignatureBytes.set([SIGNATURE_SCHEME_TO_FLAG.ZkLogin]);\n\tsignatureBytes.set(bytes, 1);\n\treturn toBase64(signatureBytes);\n}\n\nexport function parseZkLoginSignature(signature: string | Uint8Array) {\n\treturn zkLoginSignature.parse(typeof signature === 'string' ? fromBase64(signature) : signature);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAaA,SAAS,yBAAyB,EAAE,MAAA,EAAQ,QAAA,EAAU,aAAA,EAAA,EAA2C;IAChG,OAAO,iLAAA,CACL,SAAA,CACA;QACC;QACA;QACA,eACC,OAAO,kBAAkB,eAAW,kKAAA,EAAW,cAAc,GAAG;KACjE,EACD;QAAE,SAAS;IAAA,CAAM,CACjB,CACA,OAAA,EAAS;;AAGZ,SAAgB,oBAAoB,EAAE,MAAA,EAAQ,QAAA,EAAU,aAAA,EAAA,EAA2C;IAClG,MAAM,QAAQ,yBAAyB;QAAE;QAAQ;QAAU;KAAe,CAAC;IAC3E,MAAM,iBAAiB,IAAI,WAAW,MAAM,MAAA,GAAS,EAAE;IACvD,eAAe,GAAA,CAAI;QAAC,8MAAA,CAAyB,OAAA;KAAQ,CAAC;IACtD,eAAe,GAAA,CAAI,OAAO,EAAE;IAC5B,WAAO,gKAAA,EAAS,eAAe;;AAGhC,SAAgB,sBAAsB,SAAA,EAAgC;IACrE,OAAO,iLAAA,CAAiB,KAAA,CAAM,OAAO,cAAc,eAAW,kKAAA,EAAW,UAAU,GAAG,UAAU"}},
    {"offset": {"line": 7913, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/zklogin/publickey.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/zklogin/publickey.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase64, toBase64, toHex } from '@mysten/bcs';\nimport { blake2b } from '@noble/hashes/blake2.js';\nimport { bytesToHex } from '@noble/hashes/utils.js';\n\nimport { PublicKey } from '../cryptography/publickey.js';\nimport type { PublicKeyInitData } from '../cryptography/publickey.js';\nimport { SIGNATURE_SCHEME_TO_FLAG } from '../cryptography/signature-scheme.js';\nimport { normalizeSuiAddress, SUI_ADDRESS_LENGTH } from '../utils/sui-types.js';\nimport type { ZkLoginSignatureInputs } from './bcs.js';\nimport { extractClaimValue } from './jwt-utils.js';\nimport { parseZkLoginSignature } from './signature.js';\nimport { normalizeZkLoginIssuer, toBigEndianBytes, toPaddedBigEndianBytes } from './utils.js';\nimport type { ClientWithCoreApi } from '../client/core.js';\n\n/**\n * A zkLogin public identifier\n */\nexport class ZkLoginPublicIdentifier extends PublicKey {\n\t#data: Uint8Array<ArrayBuffer>;\n\t#client?: ClientWithCoreApi;\n\t#legacyAddress: boolean;\n\n\t/**\n\t * Create a new ZkLoginPublicIdentifier object\n\t * @param value zkLogin public identifier as buffer or base-64 encoded string\n\t */\n\tconstructor(value: PublicKeyInitData, { client }: { client?: ClientWithCoreApi } = {}) {\n\t\tsuper();\n\n\t\tthis.#client = client;\n\n\t\tif (typeof value === 'string') {\n\t\t\tthis.#data = fromBase64(value);\n\t\t} else if (value instanceof Uint8Array) {\n\t\t\tthis.#data = value as Uint8Array<ArrayBuffer>;\n\t\t} else {\n\t\t\tthis.#data = Uint8Array.from(value);\n\t\t}\n\t\tthis.#legacyAddress = this.#data.length !== this.#data[0] + 1 + 32;\n\n\t\tif (this.#legacyAddress) {\n\t\t\tthis.#data = normalizeZkLoginPublicKeyBytes(this.#data, false);\n\t\t}\n\t}\n\n\tstatic fromBytes(\n\t\tbytes: Uint8Array,\n\t\t{\n\t\t\tclient,\n\t\t\taddress,\n\t\t\tlegacyAddress,\n\t\t}: { client?: ClientWithCoreApi; address?: string; legacyAddress?: boolean } = {},\n\t) {\n\t\tlet publicKey: ZkLoginPublicIdentifier;\n\n\t\tif (legacyAddress === true) {\n\t\t\tpublicKey = new ZkLoginPublicIdentifier(normalizeZkLoginPublicKeyBytes(bytes, true), {\n\t\t\t\tclient,\n\t\t\t});\n\t\t} else if (legacyAddress === false) {\n\t\t\tpublicKey = new ZkLoginPublicIdentifier(normalizeZkLoginPublicKeyBytes(bytes, false), {\n\t\t\t\tclient,\n\t\t\t});\n\t\t} else if (address) {\n\t\t\tpublicKey = new ZkLoginPublicIdentifier(normalizeZkLoginPublicKeyBytes(bytes, false), {\n\t\t\t\tclient,\n\t\t\t});\n\n\t\t\tif (publicKey.toSuiAddress() !== address) {\n\t\t\t\tpublicKey = new ZkLoginPublicIdentifier(normalizeZkLoginPublicKeyBytes(bytes, true), {\n\t\t\t\t\tclient,\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tpublicKey = new ZkLoginPublicIdentifier(bytes, {\n\t\t\t\tclient,\n\t\t\t});\n\t\t}\n\n\t\tif (address && publicKey.toSuiAddress() !== address) {\n\t\t\tthrow new Error('Public key bytes do not match the provided address');\n\t\t}\n\n\t\treturn publicKey;\n\t}\n\n\tstatic fromProof(address: string, proof: ZkLoginSignatureInputs) {\n\t\tconst { issBase64Details, addressSeed } = proof;\n\t\tconst iss = extractClaimValue<string>(issBase64Details, 'iss');\n\n\t\tconst legacyPublicKey = toZkLoginPublicIdentifier(BigInt(addressSeed), iss, {\n\t\t\tlegacyAddress: true,\n\t\t});\n\n\t\tif (legacyPublicKey.toSuiAddress() === address) {\n\t\t\treturn legacyPublicKey;\n\t\t}\n\n\t\tconst publicKey = toZkLoginPublicIdentifier(BigInt(addressSeed), iss, {\n\t\t\tlegacyAddress: false,\n\t\t});\n\n\t\tif (publicKey.toSuiAddress() !== address) {\n\t\t\tthrow new Error('Proof does not match address');\n\t\t}\n\n\t\treturn publicKey;\n\t}\n\n\t/**\n\t * Checks if two zkLogin public identifiers are equal\n\t */\n\toverride equals(publicKey: ZkLoginPublicIdentifier): boolean {\n\t\treturn super.equals(publicKey);\n\t}\n\n\toverride toSuiAddress(): string {\n\t\tif (this.#legacyAddress) {\n\t\t\treturn this.#toLegacyAddress();\n\t\t}\n\n\t\treturn super.toSuiAddress();\n\t}\n\n\t#toLegacyAddress() {\n\t\tconst legacyBytes = normalizeZkLoginPublicKeyBytes(this.#data, true);\n\t\tconst addressBytes = new Uint8Array(legacyBytes.length + 1);\n\t\taddressBytes[0] = this.flag();\n\t\taddressBytes.set(legacyBytes, 1);\n\t\treturn normalizeSuiAddress(\n\t\t\tbytesToHex(blake2b(addressBytes, { dkLen: 32 })).slice(0, SUI_ADDRESS_LENGTH * 2),\n\t\t);\n\t}\n\n\t/**\n\t * Return the byte array representation of the zkLogin public identifier\n\t */\n\ttoRawBytes(): Uint8Array<ArrayBuffer> {\n\t\treturn this.#data;\n\t}\n\n\t/**\n\t * Return the Sui address associated with this ZkLogin public identifier\n\t */\n\tflag(): number {\n\t\treturn SIGNATURE_SCHEME_TO_FLAG['ZkLogin'];\n\t}\n\n\t/**\n\t * Verifies that the signature is valid for for the provided message\n\t */\n\tasync verify(_message: Uint8Array, _signature: Uint8Array | string): Promise<boolean> {\n\t\tthrow Error('does not support');\n\t}\n\n\t/**\n\t * Verifies that the signature is valid for for the provided PersonalMessage\n\t */\n\tverifyPersonalMessage(message: Uint8Array, signature: Uint8Array | string): Promise<boolean> {\n\t\tconst parsedSignature = parseSerializedZkLoginSignature(signature);\n\t\tconst address = new ZkLoginPublicIdentifier(parsedSignature.publicKey).toSuiAddress();\n\n\t\treturn graphqlVerifyZkLoginSignature({\n\t\t\taddress: address,\n\t\t\tbytes: toBase64(message),\n\t\t\tsignature: parsedSignature.serializedSignature,\n\t\t\tintentScope: 'PersonalMessage',\n\t\t\tclient: this.#client,\n\t\t});\n\t}\n\n\t/**\n\t * Verifies that the signature is valid for for the provided Transaction\n\t */\n\tverifyTransaction(transaction: Uint8Array, signature: Uint8Array | string): Promise<boolean> {\n\t\tconst parsedSignature = parseSerializedZkLoginSignature(signature);\n\t\tconst address = new ZkLoginPublicIdentifier(parsedSignature.publicKey).toSuiAddress();\n\t\treturn graphqlVerifyZkLoginSignature({\n\t\t\taddress: address,\n\t\t\tbytes: toBase64(transaction),\n\t\t\tsignature: parsedSignature.serializedSignature,\n\t\t\tintentScope: 'TransactionData',\n\t\t\tclient: this.#client,\n\t\t});\n\t}\n\n\t/**\n\t * Verifies that the public key is associated with the provided address\n\t */\n\toverride verifyAddress(address: string): boolean {\n\t\treturn address === super.toSuiAddress() || address === this.#toLegacyAddress();\n\t}\n}\n\n// Derive the public identifier for zklogin based on address seed and iss.\nexport function toZkLoginPublicIdentifier(\n\taddressSeed: bigint,\n\tiss: string,\n\toptions: { client?: ClientWithCoreApi; legacyAddress: boolean },\n): ZkLoginPublicIdentifier {\n\tif (options.legacyAddress === undefined) {\n\t\tthrow new Error('legacyAddress parameter must be specified');\n\t}\n\t// Consists of iss_bytes_len || iss_bytes || padded_32_byte_address_seed.\n\tconst addressSeedBytesBigEndian = options.legacyAddress\n\t\t? toBigEndianBytes(addressSeed, 32)\n\t\t: toPaddedBigEndianBytes(addressSeed, 32);\n\n\tconst issBytes = new TextEncoder().encode(normalizeZkLoginIssuer(iss));\n\tconst tmp = new Uint8Array(1 + issBytes.length + addressSeedBytesBigEndian.length);\n\ttmp.set([issBytes.length], 0);\n\ttmp.set(issBytes, 1);\n\ttmp.set(addressSeedBytesBigEndian, 1 + issBytes.length);\n\treturn new ZkLoginPublicIdentifier(tmp, options);\n}\n\nfunction normalizeZkLoginPublicKeyBytes(bytes: Uint8Array, legacyAddress: boolean) {\n\tconst issByteLength = bytes[0] + 1;\n\tconst addressSeed = BigInt(`0x${toHex(bytes.slice(issByteLength))}`);\n\tconst seedBytes = legacyAddress\n\t\t? toBigEndianBytes(addressSeed, 32)\n\t\t: toPaddedBigEndianBytes(addressSeed, 32);\n\tconst data = new Uint8Array(issByteLength + seedBytes.length);\n\tdata.set(bytes.slice(0, issByteLength), 0);\n\tdata.set(seedBytes, issByteLength);\n\treturn data;\n}\n\nasync function graphqlVerifyZkLoginSignature({\n\taddress,\n\tbytes,\n\tsignature,\n\tintentScope,\n\tclient,\n}: {\n\taddress: string;\n\tbytes: string;\n\tsignature: string;\n\tintentScope: 'PersonalMessage' | 'TransactionData';\n\tclient?: ClientWithCoreApi;\n}) {\n\tif (!client) {\n\t\tthrow new Error(\n\t\t\t'A Sui Client (GRPC, GraphQL, or JSON RPC) is required to verify zkLogin signatures',\n\t\t);\n\t}\n\tconst resp = await client.core.verifyZkLoginSignature({\n\t\tbytes,\n\t\tsignature,\n\t\tintentScope,\n\t\taddress: address,\n\t});\n\n\treturn resp.success === true && resp.errors.length === 0;\n}\n\nexport function parseSerializedZkLoginSignature(signature: Uint8Array | string) {\n\tconst bytes = typeof signature === 'string' ? fromBase64(signature) : signature;\n\n\tif (bytes[0] !== SIGNATURE_SCHEME_TO_FLAG.ZkLogin) {\n\t\tthrow new Error('Invalid signature scheme');\n\t}\n\n\tconst signatureBytes = bytes.slice(1);\n\tconst { inputs, maxEpoch, userSignature } = parseZkLoginSignature(signatureBytes);\n\tconst { issBase64Details, addressSeed } = inputs;\n\tconst iss = extractClaimValue<string>(issBase64Details, 'iss');\n\tconst publicIdentifier = toZkLoginPublicIdentifier(BigInt(addressSeed), iss, {\n\t\tlegacyAddress: false,\n\t});\n\treturn {\n\t\tserializedSignature: toBase64(bytes),\n\t\tsignatureScheme: 'ZkLogin' as const,\n\t\tzkLogin: {\n\t\t\tinputs,\n\t\t\tmaxEpoch,\n\t\t\tuserSignature,\n\t\t\tiss,\n\t\t\taddressSeed: BigInt(addressSeed),\n\t\t},\n\t\tsignature: bytes,\n\t\tpublicKey: publicIdentifier.toRawBytes(),\n\t};\n}\n"],"names":["#client","#data","#legacyAddress","#toLegacyAddress"],"mappings":"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"}},
    {"offset": {"line": 8116, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/cryptography/signature.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/cryptography/signature.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase64, toBase64 } from '@mysten/bcs';\n\nimport { bcs } from '../bcs/index.js';\nimport { parseSerializedPasskeySignature } from '../keypairs/passkey/publickey.js';\nimport type { MultiSigStruct } from '../multisig/publickey.js';\nimport { parseSerializedZkLoginSignature } from '../zklogin/publickey.js';\nimport { parseSerializedKeypairSignature } from './publickey.js';\nimport type { PublicKey } from './publickey.js';\nimport type { SignatureScheme } from './signature-scheme.js';\nimport { SIGNATURE_FLAG_TO_SCHEME, SIGNATURE_SCHEME_TO_FLAG } from './signature-scheme.js';\n\n/**\n * Pair of signature and corresponding public key\n */\nexport type SerializeSignatureInput = {\n\tsignatureScheme: SignatureScheme;\n\t/** Base64-encoded signature */\n\tsignature: Uint8Array;\n\t/** Base64-encoded public key */\n\tpublicKey?: PublicKey;\n};\n\n/**\n * Takes in a signature, its associated signing scheme and a public key, then serializes this data\n */\nexport function toSerializedSignature({\n\tsignature,\n\tsignatureScheme,\n\tpublicKey,\n}: SerializeSignatureInput): string {\n\tif (!publicKey) {\n\t\tthrow new Error('`publicKey` is required');\n\t}\n\n\tconst pubKeyBytes = publicKey.toRawBytes();\n\tconst serializedSignature = new Uint8Array(1 + signature.length + pubKeyBytes.length);\n\tserializedSignature.set([SIGNATURE_SCHEME_TO_FLAG[signatureScheme]]);\n\tserializedSignature.set(signature, 1);\n\tserializedSignature.set(pubKeyBytes, 1 + signature.length);\n\treturn toBase64(serializedSignature);\n}\n\n/**\n * Decodes a serialized signature into its constituent components: the signature scheme, the actual signature, and the public key\n */\nexport function parseSerializedSignature(serializedSignature: string) {\n\tconst bytes = fromBase64(serializedSignature);\n\n\tconst signatureScheme =\n\t\tSIGNATURE_FLAG_TO_SCHEME[bytes[0] as keyof typeof SIGNATURE_FLAG_TO_SCHEME];\n\n\tswitch (signatureScheme) {\n\t\tcase 'Passkey':\n\t\t\treturn parseSerializedPasskeySignature(serializedSignature);\n\t\tcase 'MultiSig':\n\t\t\tconst multisig: MultiSigStruct = bcs.MultiSig.parse(bytes.slice(1));\n\t\t\treturn {\n\t\t\t\tserializedSignature,\n\t\t\t\tsignatureScheme,\n\t\t\t\tmultisig,\n\t\t\t\tbytes,\n\t\t\t\tsignature: undefined,\n\t\t\t};\n\t\tcase 'ZkLogin':\n\t\t\treturn parseSerializedZkLoginSignature(serializedSignature);\n\t\tcase 'ED25519':\n\t\tcase 'Secp256k1':\n\t\tcase 'Secp256r1':\n\t\t\treturn parseSerializedKeypairSignature(serializedSignature);\n\t\tdefault:\n\t\t\tthrow new Error('Unsupported signature scheme');\n\t}\n}\n"],"names":["bcs"],"mappings":";;;;;;;;;;;;;;;;;;;;;GA4BA,SAAgB,sBAAsB,EACrC,SAAA,EACA,eAAA,EACA,SAAA,EAAA,EACmC;IACnC,IAAI,CAAC,UACJ,CAAA,MAAM,IAAI,MAAM,0BAA0B;IAG3C,MAAM,cAAc,UAAU,UAAA,EAAY;IAC1C,MAAM,sBAAsB,IAAI,WAAW,IAAI,UAAU,MAAA,GAAS,YAAY,MAAA,CAAO;IACrF,oBAAoB,GAAA,CAAI;QAAC,8MAAA,CAAyB,gBAAA;KAAiB,CAAC;IACpE,oBAAoB,GAAA,CAAI,WAAW,EAAE;IACrC,oBAAoB,GAAA,CAAI,aAAa,IAAI,UAAU,MAAA,CAAO;IAC1D,WAAO,gKAAA,EAAS,oBAAoB;;;;GAMrC,SAAgB,yBAAyB,mBAAA,EAA6B;IACrE,MAAM,YAAQ,kKAAA,EAAW,oBAAoB;IAE7C,MAAM,kBACL,8MAAA,CAAyB,KAAA,CAAM,EAAA,CAAA;IAEhC,OAAQ,iBAAR;QACC,KAAK,UACJ;YAAA,WAAO,kNAAA,EAAgC,oBAAoB;QAC5D,KAAK,WAEJ;YAAA,OAAO;gBACN;gBACA;gBACA,UAJgCA,kLAAAA,CAAI,QAAA,CAAS,KAAA,CAAM,MAAM,KAAA,CAAM,EAAE,CAAC;gBAKlE;gBACA,WAAW,KAAA;aACX;QACF,KAAK,UACJ;YAAA,WAAO,sMAAA,EAAgC,oBAAoB;QAC5D,KAAK;QACL,KAAK;QACL,KAAK,YACJ;YAAA,WAAO,2MAAA,EAAgC,oBAAoB;QAC5D,QACC;YAAA,MAAM,IAAI,MAAM,+BAA+B"}},
    {"offset": {"line": 8180, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/cryptography/keypair.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/cryptography/keypair.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { bcs, toBase64 } from '@mysten/bcs';\nimport { blake2b } from '@noble/hashes/blake2.js';\nimport { bech32 } from '@scure/base';\n\nimport type { IntentScope } from './intent.js';\nimport { messageWithIntent } from './intent.js';\nimport type { PublicKey } from './publickey.js';\nimport { SIGNATURE_FLAG_TO_SCHEME, SIGNATURE_SCHEME_TO_FLAG } from './signature-scheme.js';\nimport type { SignatureScheme } from './signature-scheme.js';\nimport { toSerializedSignature } from './signature.js';\nimport type { Transaction } from '../transactions/Transaction.js';\nimport type { ClientWithCoreApi, SuiClientTypes } from '../client/index.js';\n\nexport const PRIVATE_KEY_SIZE = 32;\nexport const LEGACY_PRIVATE_KEY_SIZE = 64;\nexport const SUI_PRIVATE_KEY_PREFIX = 'suiprivkey';\n\nexport type ParsedKeypair = {\n\tscheme: SignatureScheme;\n\tsecretKey: Uint8Array;\n};\n\nexport interface SignatureWithBytes {\n\tbytes: string;\n\tsignature: string;\n}\n\nexport interface SignAndExecuteOptions {\n\ttransaction: Transaction;\n\tclient: ClientWithCoreApi;\n}\n\n/**\n * TODO: Document\n */\nexport abstract class Signer {\n\tabstract sign(bytes: Uint8Array): Promise<Uint8Array<ArrayBuffer>>;\n\t/**\n\t * Sign messages with a specific intent. By combining the message bytes with the intent before hashing and signing,\n\t * it ensures that a signed message is tied to a specific purpose and domain separator is provided\n\t */\n\tasync signWithIntent(bytes: Uint8Array, intent: IntentScope): Promise<SignatureWithBytes> {\n\t\tconst intentMessage = messageWithIntent(intent, bytes);\n\t\tconst digest = blake2b(intentMessage, { dkLen: 32 });\n\n\t\tconst signature = toSerializedSignature({\n\t\t\tsignature: await this.sign(digest),\n\t\t\tsignatureScheme: this.getKeyScheme(),\n\t\t\tpublicKey: this.getPublicKey(),\n\t\t});\n\n\t\treturn {\n\t\t\tsignature,\n\t\t\tbytes: toBase64(bytes),\n\t\t};\n\t}\n\t/**\n\t * Signs provided transaction by calling `signWithIntent()` with a `TransactionData` provided as intent scope\n\t */\n\tasync signTransaction(bytes: Uint8Array) {\n\t\treturn this.signWithIntent(bytes, 'TransactionData');\n\t}\n\t/**\n\t * Signs provided personal message by calling `signWithIntent()` with a `PersonalMessage` provided as intent scope\n\t */\n\tasync signPersonalMessage(bytes: Uint8Array) {\n\t\tconst { signature } = await this.signWithIntent(\n\t\t\tbcs.byteVector().serialize(bytes).toBytes(),\n\t\t\t'PersonalMessage',\n\t\t);\n\n\t\treturn {\n\t\t\tbytes: toBase64(bytes),\n\t\t\tsignature,\n\t\t};\n\t}\n\n\tasync signAndExecuteTransaction({\n\t\ttransaction,\n\t\tclient,\n\t}: SignAndExecuteOptions): Promise<\n\t\tSuiClientTypes.TransactionResult<{ transaction: true; effects: true }>\n\t> {\n\t\ttransaction.setSenderIfNotSet(this.toSuiAddress());\n\t\tconst bytes = await transaction.build({ client });\n\t\tconst { signature } = await this.signTransaction(bytes);\n\n\t\treturn client.core.executeTransaction({\n\t\t\ttransaction: bytes,\n\t\t\tsignatures: [signature],\n\t\t\tinclude: { transaction: true, effects: true },\n\t\t});\n\t}\n\n\ttoSuiAddress(): string {\n\t\treturn this.getPublicKey().toSuiAddress();\n\t}\n\n\t/**\n\t * Get the key scheme of the keypair: Secp256k1 or ED25519\n\t */\n\tabstract getKeyScheme(): SignatureScheme;\n\n\t/**\n\t * The public key for this keypair\n\t */\n\tabstract getPublicKey(): PublicKey;\n}\n\nexport abstract class Keypair extends Signer {\n\t/**\n\t * This returns the Bech32 secret key string for this keypair.\n\t */\n\tabstract getSecretKey(): string;\n}\n\n/**\n * This returns an ParsedKeypair object based by validating the\n * 33-byte Bech32 encoded string starting with `suiprivkey`, and\n * parse out the signature scheme and the private key in bytes.\n */\nexport function decodeSuiPrivateKey(value: string): ParsedKeypair {\n\tconst { prefix, words } = bech32.decode(value as `${string}1${string}`);\n\tif (prefix !== SUI_PRIVATE_KEY_PREFIX) {\n\t\tthrow new Error('invalid private key prefix');\n\t}\n\tconst extendedSecretKey = new Uint8Array(bech32.fromWords(words));\n\tconst secretKey = extendedSecretKey.slice(1);\n\tconst signatureScheme =\n\t\tSIGNATURE_FLAG_TO_SCHEME[extendedSecretKey[0] as keyof typeof SIGNATURE_FLAG_TO_SCHEME];\n\n\treturn {\n\t\tscheme: signatureScheme,\n\t\tsecretKey: secretKey,\n\t};\n}\n\n/**\n * This returns a Bech32 encoded string starting with `suiprivkey`,\n * encoding 33-byte `flag || bytes` for the given the 32-byte private\n * key and its signature scheme.\n */\nexport function encodeSuiPrivateKey(bytes: Uint8Array, scheme: SignatureScheme): string {\n\tif (bytes.length !== PRIVATE_KEY_SIZE) {\n\t\tthrow new Error('Invalid bytes length');\n\t}\n\tconst flag = SIGNATURE_SCHEME_TO_FLAG[scheme];\n\tconst privKeyBytes = new Uint8Array(bytes.length + 1);\n\tprivKeyBytes.set([flag]);\n\tprivKeyBytes.set(bytes, 1);\n\treturn bech32.encode(SUI_PRIVATE_KEY_PREFIX, bech32.toWords(privKeyBytes));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,MAAa,mBAAmB;AAChC,MAAa,0BAA0B;AACvC,MAAa,yBAAyB;;;GAoBtC,IAAsB,SAAtB,MAA6B;;;;IAM5B,MAAM,eAAe,KAAA,EAAmB,MAAA,EAAkD;QAEzF,MAAM,aAAS,4LAAA,MADO,0LAAA,EAAkB,QAAQ,MAAM,EAChB;YAAE,OAAO;QAAA,CAAI,CAAC;QAQpD,OAAO;YACN,eAPiB,iMAAA,EAAsB;gBACvC,WAAW,MAAM,IAAA,CAAK,IAAA,CAAK,OAAO;gBAClC,iBAAiB,IAAA,CAAK,YAAA,EAAc;gBACpC,WAAW,IAAA,CAAK,YAAA,EAAc;aAC9B,CAAC;YAID,WAAO,gKAAA,EAAS,MAAM;SACtB;;;;IAKF,MAAM,gBAAgB,KAAA,EAAmB;QACxC,OAAO,IAAA,CAAK,cAAA,CAAe,OAAO,kBAAkB;;;;IAKrD,MAAM,oBAAoB,KAAA,EAAmB;QAC5C,MAAM,EAAE,SAAA,EAAA,GAAc,MAAM,IAAA,CAAK,cAAA,CAChC,yJAAA,CAAI,UAAA,EAAY,CAAC,SAAA,CAAU,MAAM,CAAC,OAAA,EAAS,EAC3C,kBACA;QAED,OAAO;YACN,WAAO,gKAAA,EAAS,MAAM;YACtB;SACA;;IAGF,MAAM,0BAA0B,EAC/B,WAAA,EACA,MAAA,EAAA,EAGC;QACD,YAAY,iBAAA,CAAkB,IAAA,CAAK,YAAA,EAAc,CAAC;QAClD,MAAM,QAAQ,MAAM,YAAY,KAAA,CAAM;YAAE;QAAA,CAAQ,CAAC;QACjD,MAAM,EAAE,SAAA,EAAA,GAAc,MAAM,IAAA,CAAK,eAAA,CAAgB,MAAM;QAEvD,OAAO,OAAO,IAAA,CAAK,kBAAA,CAAmB;YACrC,aAAa;YACb,YAAY;gBAAC;aAAU;YACvB,SAAS;gBAAE,aAAa;gBAAM,SAAS;aAAM;SAC7C,CAAC;;IAGH,eAAuB;QACtB,OAAO,IAAA,CAAK,YAAA,EAAc,CAAC,YAAA,EAAc;;;AAc3C,IAAsB,UAAtB,cAAsC,OAAO;AAAA;;;;;GAY7C,SAAgB,oBAAoB,KAAA,EAA8B;IACjE,MAAM,EAAE,MAAA,EAAQ,KAAA,EAAA,GAAU,wLAAA,CAAO,MAAA,CAAO,MAA+B;IACvE,IAAI,WAAW,uBACd,CAAA,MAAM,IAAI,MAAM,6BAA6B;IAE9C,MAAM,oBAAoB,IAAI,WAAW,wLAAA,CAAO,SAAA,CAAU,MAAM,CAAC;IACjE,MAAM,YAAY,kBAAkB,KAAA,CAAM,EAAE;IAI5C,OAAO;QACN,QAHA,8MAAA,CAAyB,iBAAA,CAAkB,EAAA,CAAA;QAIhC;KACX;;;;;;GAQF,SAAgB,oBAAoB,KAAA,EAAmB,MAAA,EAAiC;IACvF,IAAI,MAAM,MAAA,KAAW,iBACpB,CAAA,MAAM,IAAI,MAAM,uBAAuB;IAExC,MAAM,OAAO,8MAAA,CAAyB,OAAA;IACtC,MAAM,eAAe,IAAI,WAAW,MAAM,MAAA,GAAS,EAAE;IACrD,aAAa,GAAA,CAAI;QAAC;KAAK,CAAC;IACxB,aAAa,GAAA,CAAI,OAAO,EAAE;IAC1B,OAAO,wLAAA,CAAO,MAAA,CAAO,wBAAwB,wLAAA,CAAO,OAAA,CAAQ,aAAa,CAAC"}},
    {"offset": {"line": 8303, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/keypairs/ed25519/ed25519-hd-key.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/keypairs/ed25519/ed25519-hd-key.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n// This is adapted from https://github.com/alepop/ed25519-hd-key replacing create-hmac\n// with @noble/hashes to be browser compatible.\n\nimport { fromHex } from '@mysten/bcs';\nimport { hmac } from '@noble/hashes/hmac.js';\nimport { sha512 } from '@noble/hashes/sha2.js';\n\ntype Hex = string;\ntype Path = string;\n\ntype Keys = {\n\tkey: Uint8Array;\n\tchainCode: Uint8Array;\n};\n\nconst ED25519_CURVE = 'ed25519 seed';\nconst HARDENED_OFFSET = 0x80000000;\n\nconst pathRegex = new RegExp(\"^m(\\\\/[0-9]+')+$\");\n\nconst replaceDerive = (val: string): string => val.replace(\"'\", '');\n\nconst getMasterKeyFromSeed = (seed: Hex): Keys => {\n\tconst h = hmac.create(sha512, new TextEncoder().encode(ED25519_CURVE));\n\tconst I = h.update(fromHex(seed)).digest();\n\tconst IL = I.slice(0, 32);\n\tconst IR = I.slice(32);\n\treturn {\n\t\tkey: IL,\n\t\tchainCode: IR,\n\t};\n};\n\nconst CKDPriv = ({ key, chainCode }: Keys, index: number): Keys => {\n\tconst indexBuffer = new ArrayBuffer(4);\n\tconst cv = new DataView(indexBuffer);\n\tcv.setUint32(0, index);\n\n\tconst data = new Uint8Array(1 + key.length + indexBuffer.byteLength);\n\tdata.set(new Uint8Array(1).fill(0));\n\tdata.set(key, 1);\n\tdata.set(new Uint8Array(indexBuffer, 0, indexBuffer.byteLength), key.length + 1);\n\n\tconst I = hmac.create(sha512, chainCode).update(data).digest();\n\tconst IL = I.slice(0, 32);\n\tconst IR = I.slice(32);\n\treturn {\n\t\tkey: IL,\n\t\tchainCode: IR,\n\t};\n};\n\nconst isValidPath = (path: string): boolean => {\n\tif (!pathRegex.test(path)) {\n\t\treturn false;\n\t}\n\treturn !path\n\t\t.split('/')\n\t\t.slice(1)\n\t\t.map(replaceDerive)\n\t\t.some(isNaN as any /* ts T_T*/);\n};\n\nexport const derivePath = (path: Path, seed: Hex, offset = HARDENED_OFFSET): Keys => {\n\tif (!isValidPath(path)) {\n\t\tthrow new Error('Invalid derivation path');\n\t}\n\n\tconst { key, chainCode } = getMasterKeyFromSeed(seed);\n\tconst segments = path\n\t\t.split('/')\n\t\t.slice(1)\n\t\t.map(replaceDerive)\n\t\t.map((el) => parseInt(el, 10));\n\n\treturn segments.reduce((parentKeys, segment) => CKDPriv(parentKeys, segment + offset), {\n\t\tkey,\n\t\tchainCode,\n\t});\n};\n"],"names":[],"mappings":";;;;;;;;;;;AAkBA,MAAM,gBAAgB;AACtB,MAAM,kBAAkB;AAExB,MAAM,YAAA,aAAA,GAAY,IAAI,OAAO,mBAAmB;AAEhD,MAAM,gBAAA,CAAiB,MAAwB,IAAI,OAAA,CAAQ,KAAK,GAAG;AAEnE,MAAM,uBAAA,CAAwB,SAAoB;IAEjD,MAAM,IADI,uLAAA,CAAK,MAAA,CAAO,yLAAA,EAAQ,IAAI,aAAa,CAAC,MAAA,CAAO,cAAc,CAAC,CAC1D,MAAA,KAAO,+JAAA,EAAQ,KAAK,CAAC,CAAC,MAAA,EAAQ;IAG1C,OAAO;QACN,KAHU,EAAE,KAAA,CAAM,GAAG,GAAG;QAIxB,WAHU,EAAE,KAAA,CAAM,GAAG;KAIrB;;AAGF,MAAM,UAAA,CAAW,EAAE,GAAA,EAAK,SAAA,EAAA,EAAmB,UAAwB;IAClE,MAAM,cAAA,aAAA,GAAc,IAAI,YAAY,EAAE;IAC3B,IAAI,SAAS,YAAY,CACjC,SAAA,CAAU,GAAG,MAAM;IAEtB,MAAM,OAAO,IAAI,WAAW,IAAI,IAAI,MAAA,GAAS,YAAY,UAAA,CAAW;IACpE,KAAK,GAAA,CAAI,IAAI,WAAW,EAAE,CAAC,IAAA,CAAK,EAAE,CAAC;IACnC,KAAK,GAAA,CAAI,KAAK,EAAE;IAChB,KAAK,GAAA,CAAI,IAAI,WAAW,aAAa,GAAG,YAAY,UAAA,CAAW,EAAE,IAAI,MAAA,GAAS,EAAE;IAEhF,MAAM,IAAI,uLAAA,CAAK,MAAA,CAAO,yLAAA,EAAQ,UAAU,CAAC,MAAA,CAAO,KAAK,CAAC,MAAA,EAAQ;IAG9D,OAAO;QACN,KAHU,EAAE,KAAA,CAAM,GAAG,GAAG;QAIxB,WAHU,EAAE,KAAA,CAAM,GAAG;KAIrB;;AAGF,MAAM,cAAA,CAAe,SAA0B;IAC9C,IAAI,CAAC,UAAU,IAAA,CAAK,KAAK,CACxB,CAAA,OAAO;IAER,OAAO,CAAC,KACN,KAAA,CAAM,IAAI,CACV,KAAA,CAAM,EAAE,CACR,GAAA,CAAI,cAAc,CAClB,IAAA,CAAK,MAAyB;;AAGjC,MAAa,aAAA,CAAc,MAAY,MAAW,SAAS,eAAA,KAA0B;IACpF,IAAI,CAAC,YAAY,KAAK,CACrB,CAAA,MAAM,IAAI,MAAM,0BAA0B;IAG3C,MAAM,EAAE,GAAA,EAAK,SAAA,EAAA,GAAc,qBAAqB,KAAK;IAOrD,OANiB,KACf,KAAA,CAAM,IAAI,CACV,KAAA,CAAM,EAAE,CACR,GAAA,CAAI,cAAc,CAClB,GAAA,CAAA,CAAK,KAAO,SAAS,IAAI,GAAG,CAAC,CAEf,MAAA,CAAA,CAAQ,YAAY,UAAY,QAAQ,YAAY,UAAU,OAAO,EAAE;QACtF;QACA;KACA,CAAC"}},
    {"offset": {"line": 8356, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/keypairs/ed25519/publickey.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/keypairs/ed25519/publickey.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromBase64 } from '@mysten/bcs';\nimport { ed25519 } from '@noble/curves/ed25519.js';\n\nimport {\n\tbytesEqual,\n\tparseSerializedKeypairSignature,\n\tPublicKey,\n} from '../../cryptography/publickey.js';\nimport type { PublicKeyInitData } from '../../cryptography/publickey.js';\nimport { SIGNATURE_SCHEME_TO_FLAG } from '../../cryptography/signature-scheme.js';\n\nconst PUBLIC_KEY_SIZE = 32;\n\n/**\n * An Ed25519 public key\n */\nexport class Ed25519PublicKey extends PublicKey {\n\tstatic SIZE = PUBLIC_KEY_SIZE;\n\tprivate data: Uint8Array<ArrayBuffer>;\n\n\t/**\n\t * Create a new Ed25519PublicKey object\n\t * @param value ed25519 public key as buffer or base-64 encoded string\n\t */\n\tconstructor(value: PublicKeyInitData) {\n\t\tsuper();\n\n\t\tif (typeof value === 'string') {\n\t\t\tthis.data = fromBase64(value);\n\t\t} else if (value instanceof Uint8Array) {\n\t\t\tthis.data = value as Uint8Array<ArrayBuffer>;\n\t\t} else {\n\t\t\tthis.data = Uint8Array.from(value);\n\t\t}\n\n\t\tif (this.data.length !== PUBLIC_KEY_SIZE) {\n\t\t\tthrow new Error(\n\t\t\t\t`Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`,\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if two Ed25519 public keys are equal\n\t */\n\toverride equals(publicKey: Ed25519PublicKey): boolean {\n\t\treturn super.equals(publicKey);\n\t}\n\n\t/**\n\t * Return the byte array representation of the Ed25519 public key\n\t */\n\ttoRawBytes(): Uint8Array<ArrayBuffer> {\n\t\treturn this.data;\n\t}\n\n\t/**\n\t * Return the Sui address associated with this Ed25519 public key\n\t */\n\tflag(): number {\n\t\treturn SIGNATURE_SCHEME_TO_FLAG['ED25519'];\n\t}\n\n\t/**\n\t * Verifies that the signature is valid for for the provided message\n\t */\n\tasync verify(message: Uint8Array, signature: Uint8Array | string): Promise<boolean> {\n\t\tlet bytes;\n\t\tif (typeof signature === 'string') {\n\t\t\tconst parsed = parseSerializedKeypairSignature(signature);\n\t\t\tif (parsed.signatureScheme !== 'ED25519') {\n\t\t\t\tthrow new Error('Invalid signature scheme');\n\t\t\t}\n\n\t\t\tif (!bytesEqual(this.toRawBytes(), parsed.publicKey)) {\n\t\t\t\tthrow new Error('Signature does not match public key');\n\t\t\t}\n\n\t\t\tbytes = parsed.signature;\n\t\t} else {\n\t\t\tbytes = signature;\n\t\t}\n\n\t\treturn ed25519.verify(bytes, message, this.toRawBytes());\n\t}\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAcA,MAAM,kBAAkB;;;GAKxB,IAAa,mBAAb,cAAsC,qLAAA,CAAU;;oBACjC;;;;;IAOd,YAAY,KAAA,CAA0B;QACrC,KAAA,EAAO;QAEP,IAAI,OAAO,UAAU,SACpB,CAAA,IAAA,CAAK,IAAA,OAAO,kKAAA,EAAW,MAAM;iBACnB,iBAAiB,WAC3B,CAAA,IAAA,CAAK,IAAA,GAAO;aAEZ,IAAA,CAAK,IAAA,GAAO,WAAW,IAAA,CAAK,MAAM;QAGnC,IAAI,IAAA,CAAK,IAAA,CAAK,MAAA,KAAW,gBACxB,CAAA,MAAM,IAAI,MACT,CAAA,mCAAA,EAAsC,gBAAgB,YAAA,EAAc,IAAA,CAAK,IAAA,CAAK,MAAA,EAAA,CAC9E;;;;IAOM,OAAO,SAAA,EAAsC;QACrD,OAAO,KAAA,CAAM,OAAO,UAAU;;;;IAM/B,aAAsC;QACrC,OAAO,IAAA,CAAK,IAAA;;;;IAMb,OAAe;QACd,OAAO,8MAAA,CAAyB,UAAA;;;;IAMjC,MAAM,OAAO,OAAA,EAAqB,SAAA,EAAkD;QACnF,IAAI;QACJ,IAAI,OAAO,cAAc,UAAU;YAClC,MAAM,aAAS,2MAAA,EAAgC,UAAU;YACzD,IAAI,OAAO,eAAA,KAAoB,UAC9B,CAAA,MAAM,IAAI,MAAM,2BAA2B;YAG5C,IAAI,KAAC,sLAAA,EAAW,IAAA,CAAK,UAAA,EAAY,EAAE,OAAO,SAAA,CAAU,CACnD,CAAA,MAAM,IAAI,MAAM,sCAAsC;YAGvD,QAAQ,OAAO,SAAA;cAEf,CAAA,QAAQ;QAGT,OAAO,6LAAA,CAAQ,MAAA,CAAO,OAAO,SAAS,IAAA,CAAK,UAAA,EAAY,CAAC"}},
    {"offset": {"line": 8420, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@mysten/sui/dist/keypairs/ed25519/keypair.mjs","sources":["file:///home/vivek/instant-arb/node_modules/%40mysten/sui/src/keypairs/ed25519/keypair.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { ed25519 } from '@noble/curves/ed25519.js';\n\nimport {\n\tdecodeSuiPrivateKey,\n\tencodeSuiPrivateKey,\n\tKeypair,\n\tPRIVATE_KEY_SIZE,\n} from '../../cryptography/keypair.js';\nimport { isValidHardenedPath, mnemonicToSeedHex } from '../../cryptography/mnemonics.js';\nimport type { SignatureScheme } from '../../cryptography/signature-scheme.js';\nimport { derivePath } from './ed25519-hd-key.js';\nimport { Ed25519PublicKey } from './publickey.js';\n\nexport const DEFAULT_ED25519_DERIVATION_PATH = \"m/44'/784'/0'/0'/0'\";\n\n/**\n * Ed25519 Keypair data. The publickey is the 32-byte public key and\n * the secretkey is 64-byte, where the first 32 bytes is the secret\n * key and the last 32 bytes is the public key.\n */\nexport interface Ed25519KeypairData {\n\tpublicKey: Uint8Array;\n\tsecretKey: Uint8Array;\n}\n\n/**\n * An Ed25519 Keypair used for signing transactions.\n */\nexport class Ed25519Keypair extends Keypair {\n\tprivate keypair: Ed25519KeypairData;\n\n\t/**\n\t * Create a new Ed25519 keypair instance.\n\t * Generate random keypair if no {@link Ed25519Keypair} is provided.\n\t *\n\t * @param keypair Ed25519 keypair\n\t */\n\tconstructor(keypair?: Ed25519KeypairData) {\n\t\tsuper();\n\t\tif (keypair) {\n\t\t\tthis.keypair = {\n\t\t\t\tpublicKey: keypair.publicKey,\n\t\t\t\tsecretKey: keypair.secretKey.slice(0, 32),\n\t\t\t};\n\t\t} else {\n\t\t\tconst privateKey = ed25519.utils.randomSecretKey();\n\t\t\tthis.keypair = {\n\t\t\t\tpublicKey: ed25519.getPublicKey(privateKey),\n\t\t\t\tsecretKey: privateKey,\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Get the key scheme of the keypair ED25519\n\t */\n\tgetKeyScheme(): SignatureScheme {\n\t\treturn 'ED25519';\n\t}\n\n\t/**\n\t * Generate a new random Ed25519 keypair\n\t */\n\tstatic generate(): Ed25519Keypair {\n\t\tconst secretKey = ed25519.utils.randomSecretKey();\n\t\treturn new Ed25519Keypair({\n\t\t\tpublicKey: ed25519.getPublicKey(secretKey),\n\t\t\tsecretKey,\n\t\t});\n\t}\n\n\t/**\n\t * Create a Ed25519 keypair from a raw secret key byte array, also known as seed.\n\t * This is NOT the private scalar which is result of hashing and bit clamping of\n\t * the raw secret key.\n\t *\n\t * @throws error if the provided secret key is invalid and validation is not skipped.\n\t *\n\t * @param secretKey secret key as a byte array or Bech32 secret key string\n\t * @param options: skip secret key validation\n\t */\n\tstatic fromSecretKey(\n\t\tsecretKey: Uint8Array | string,\n\t\toptions?: { skipValidation?: boolean },\n\t): Ed25519Keypair {\n\t\tif (typeof secretKey === 'string') {\n\t\t\tconst decoded = decodeSuiPrivateKey(secretKey);\n\n\t\t\tif (decoded.scheme !== 'ED25519') {\n\t\t\t\tthrow new Error(`Expected a ED25519 keypair, got ${decoded.scheme}`);\n\t\t\t}\n\n\t\t\treturn this.fromSecretKey(decoded.secretKey, options);\n\t\t}\n\n\t\tconst secretKeyLength = secretKey.length;\n\t\tif (secretKeyLength !== PRIVATE_KEY_SIZE) {\n\t\t\tthrow new Error(\n\t\t\t\t`Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${secretKeyLength}.`,\n\t\t\t);\n\t\t}\n\t\tconst keypair = {\n\t\t\tpublicKey: ed25519.getPublicKey(secretKey),\n\t\t\tsecretKey,\n\t\t};\n\n\t\tif (!options || !options.skipValidation) {\n\t\t\tconst encoder = new TextEncoder();\n\t\t\tconst signData = encoder.encode('sui validation');\n\t\t\tconst signature = ed25519.sign(signData, secretKey);\n\t\t\tif (!ed25519.verify(signature, signData, keypair.publicKey)) {\n\t\t\t\tthrow new Error('provided secretKey is invalid');\n\t\t\t}\n\t\t}\n\t\treturn new Ed25519Keypair(keypair);\n\t}\n\n\t/**\n\t * The public key for this Ed25519 keypair\n\t */\n\tgetPublicKey(): Ed25519PublicKey {\n\t\treturn new Ed25519PublicKey(this.keypair.publicKey);\n\t}\n\n\t/**\n\t * The Bech32 secret key string for this Ed25519 keypair\n\t */\n\tgetSecretKey(): string {\n\t\treturn encodeSuiPrivateKey(\n\t\t\tthis.keypair.secretKey.slice(0, PRIVATE_KEY_SIZE),\n\t\t\tthis.getKeyScheme(),\n\t\t);\n\t}\n\n\t/**\n\t * Return the signature for the provided data using Ed25519.\n\t */\n\tasync sign(data: Uint8Array) {\n\t\treturn ed25519.sign(data, this.keypair.secretKey) as Uint8Array<ArrayBuffer>;\n\t}\n\n\t/**\n\t * Derive Ed25519 keypair from mnemonics and path. The mnemonics must be normalized\n\t * and validated against the english wordlist.\n\t *\n\t * If path is none, it will default to m/44'/784'/0'/0'/0', otherwise the path must\n\t * be compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n\t */\n\tstatic deriveKeypair(mnemonics: string, path?: string): Ed25519Keypair {\n\t\tif (path == null) {\n\t\t\tpath = DEFAULT_ED25519_DERIVATION_PATH;\n\t\t}\n\t\tif (!isValidHardenedPath(path)) {\n\t\t\tthrow new Error('Invalid derivation path');\n\t\t}\n\t\tconst { key } = derivePath(path, mnemonicToSeedHex(mnemonics));\n\n\t\treturn Ed25519Keypair.fromSecretKey(key);\n\t}\n\n\t/**\n\t * Derive Ed25519 keypair from mnemonicSeed and path.\n\t *\n\t * If path is none, it will default to m/44'/784'/0'/0'/0', otherwise the path must\n\t * be compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n\t */\n\tstatic deriveKeypairFromSeed(seedHex: string, path?: string): Ed25519Keypair {\n\t\tif (path == null) {\n\t\t\tpath = DEFAULT_ED25519_DERIVATION_PATH;\n\t\t}\n\t\tif (!isValidHardenedPath(path)) {\n\t\t\tthrow new Error('Invalid derivation path');\n\t\t}\n\t\tconst { key } = derivePath(path, seedHex);\n\n\t\treturn Ed25519Keypair.fromSecretKey(key);\n\t}\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAgBA,MAAa,kCAAkC;;;GAe/C,IAAa,iBAAb,MAAa,uBAAuB,iLAAA,CAAQ;;;;;;IAS3C,YAAY,OAAA,CAA8B;QACzC,KAAA,EAAO;QACP,IAAI,QACH,CAAA,IAAA,CAAK,OAAA,GAAU;YACd,WAAW,QAAQ,SAAA;YACnB,WAAW,QAAQ,SAAA,CAAU,KAAA,CAAM,GAAG,GAAG;SACzC;aACK;YACN,MAAM,aAAa,6LAAA,CAAQ,KAAA,CAAM,eAAA,EAAiB;YAClD,IAAA,CAAK,OAAA,GAAU;gBACd,WAAW,6LAAA,CAAQ,YAAA,CAAa,WAAW;gBAC3C,WAAW;aACX;;;;;IAOH,eAAgC;QAC/B,OAAO;;;;IAMR,OAAO,WAA2B;QACjC,MAAM,YAAY,6LAAA,CAAQ,KAAA,CAAM,eAAA,EAAiB;QACjD,OAAO,IAAI,eAAe;YACzB,WAAW,6LAAA,CAAQ,YAAA,CAAa,UAAU;YAC1C;SACA,CAAC;;;;;;;;;;;IAaH,OAAO,cACN,SAAA,EACA,OAAA,EACiB;QACjB,IAAI,OAAO,cAAc,UAAU;YAClC,MAAM,cAAU,6LAAA,EAAoB,UAAU;YAE9C,IAAI,QAAQ,MAAA,KAAW,UACtB,CAAA,MAAM,IAAI,MAAM,CAAA,gCAAA,EAAmC,QAAQ,MAAA,EAAA,CAAS;YAGrE,OAAO,IAAA,CAAK,aAAA,CAAc,QAAQ,SAAA,EAAW,QAAQ;;QAGtD,MAAM,kBAAkB,UAAU,MAAA;QAClC,IAAI,oBAAoB,0LAAA,CACvB,CAAA,MAAM,IAAI,MACT,CAAA,+BAAA,EAAkC,0LAAA,CAAiB,YAAA,EAAc,gBAAgB,CAAA,CAAA,CACjF;QAEF,MAAM,UAAU;YACf,WAAW,6LAAA,CAAQ,YAAA,CAAa,UAAU;YAC1C;SACA;QAED,IAAI,CAAC,WAAW,CAAC,QAAQ,cAAA,EAAgB;YAExC,MAAM,WADU,IAAI,aAAa,CACR,MAAA,CAAO,iBAAiB;YACjD,MAAM,YAAY,6LAAA,CAAQ,IAAA,CAAK,UAAU,UAAU;YACnD,IAAI,CAAC,6LAAA,CAAQ,MAAA,CAAO,WAAW,UAAU,QAAQ,SAAA,CAAU,CAC1D,CAAA,MAAM,IAAI,MAAM,gCAAgC;;QAGlD,OAAO,IAAI,eAAe,QAAQ;;;;IAMnC,eAAiC;QAChC,OAAO,IAAI,mMAAA,CAAiB,IAAA,CAAK,OAAA,CAAQ,SAAA,CAAU;;;;IAMpD,eAAuB;QACtB,WAAO,6LAAA,EACN,IAAA,CAAK,OAAA,CAAQ,SAAA,CAAU,KAAA,CAAM,GAAG,0LAAA,CAAiB,EACjD,IAAA,CAAK,YAAA,EAAc,CACnB;;;;IAMF,MAAM,KAAK,IAAA,EAAkB;QAC5B,OAAO,6LAAA,CAAQ,IAAA,CAAK,MAAM,IAAA,CAAK,OAAA,CAAQ,SAAA,CAAU;;;;;;;;IAUlD,OAAO,cAAc,SAAA,EAAmB,IAAA,EAA+B;QACtE,IAAI,QAAQ,KACX,CAAA,OAAO;QAER,IAAI,KAAC,+LAAA,EAAoB,KAAK,CAC7B,CAAA,MAAM,IAAI,MAAM,0BAA0B;QAE3C,MAAM,EAAE,GAAA,EAAA,OAAQ,wMAAA,EAAW,UAAM,6LAAA,EAAkB,UAAU,CAAC;QAE9D,OAAO,eAAe,aAAA,CAAc,IAAI;;;;;;;IASzC,OAAO,sBAAsB,OAAA,EAAiB,IAAA,EAA+B;QAC5E,IAAI,QAAQ,KACX,CAAA,OAAO;QAER,IAAI,KAAC,+LAAA,EAAoB,KAAK,CAC7B,CAAA,MAAM,IAAI,MAAM,0BAA0B;QAE3C,MAAM,EAAE,GAAA,EAAA,OAAQ,wMAAA,EAAW,MAAM,QAAQ;QAEzC,OAAO,eAAe,aAAA,CAAc,IAAI"}}]
}